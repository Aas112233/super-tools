import{j as e}from"./index-425a4db3.js";import{r as c}from"./vendor-8a332d8f.js";import{aa as C,F as T,X as K,m as V,L as W,ab as Q,a3 as X,a2 as P,a1 as A,I as S,e as M}from"./ui-86c81d4e.js";import"./router-2c18f3be.js";const te=()=>{const[s,u]=c.useState([]),[i,L]=c.useState("png"),[a,h]=c.useState({width:1200,height:800,quality:90,backgroundColor:"#ffffff",transparent:!1,dpi:300,format:"png"}),[p,k]=c.useState(!1),[x,m]=c.useState("idle"),[z,v]=c.useState(0);c.useRef(null);const U=c.useRef(null),b=[{id:"png",name:"PNG Image",extension:".png",description:"High-quality raster image with transparency support",icon:S,supported:!0},{id:"jpg",name:"JPEG Image",extension:".jpg",description:"Compressed raster image, smaller file size",icon:S,supported:!0},{id:"svg",name:"SVG Vector",extension:".svg",description:"Scalable vector graphics, perfect for web and print",icon:M,supported:!0},{id:"webp",name:"WebP Image",extension:".webp",description:"Modern image format with superior compression",icon:S,supported:!0},{id:"pdf",name:"PDF Document",extension:".pdf",description:"Professional document format for reports",icon:T,supported:!0},{id:"json",name:"Chart Data",extension:".json",description:"Export chart configuration and data",icon:M,supported:!0}],O=c.useCallback(r=>{const n=Array.from(r.target.files||[]).map((o,l)=>({file:o,id:`${Date.now()}-${l}`,name:o.name,size:`${(o.size/1024).toFixed(1)} KB`,type:o.type||"Unknown",preview:o.type.startsWith("image/")?URL.createObjectURL(o):void 0}));u(o=>[...o,...n]),m("idle")},[]),N=c.useCallback(r=>{r.preventDefault();const n=Array.from(r.dataTransfer.files).map((o,l)=>({file:o,id:`${Date.now()}-${l}`,name:o.name,size:`${(o.size/1024).toFixed(1)} KB`,type:o.type||"Unknown",preview:o.type.startsWith("image/")?URL.createObjectURL(o):void 0}));u(o=>[...o,...n]),m("idle")},[]),G=c.useCallback(r=>{r.preventDefault()},[]),f=c.useCallback(async()=>{if(s.length!==0){k(!0),m("idle"),v(0);try{const r=b.find(t=>t.id===i);if(!r)throw new Error("Invalid format selected");for(let t=0;t<s.length;t++){const n=s[t];v((t+1)/s.length*100),await new Promise(d=>setTimeout(d,500));let o,l;if(i==="png"||i==="jpg"||i==="webp"){const d=document.createElement("canvas");d.width=a.width,d.height=a.height;const g=d.getContext("2d");if(g){a.transparent||(g.fillStyle=a.backgroundColor,g.fillRect(0,0,d.width,d.height)),g.fillStyle="#3B82F6",g.font="24px Arial",g.fillText("Sample Chart Export",50,50);const y=60,w=20,E=[120,200,150,180,220],_=Math.max(...E);E.forEach((B,F)=>{const I=B/_*300,$=50+F*(y+w),D=d.height-100-I;g.fillStyle=`hsl(${220+F*30}, 70%, 50%)`,g.fillRect($,D,y,I),g.fillStyle="#374151",g.font="14px Arial",g.fillText(B.toString(),$+15,D-10)})}o=await new Promise(y=>{d.toBlob(w=>{y(w||new Blob)},`image/${i}`,a.quality/100)}),l=`${n.name.split(".")[0]}_exported${r.extension}`}else if(i==="svg"){const d=`
            <svg width="${a.width}" height="${a.height}" xmlns="http://www.w3.org/2000/svg">
              <rect width="100%" height="100%" fill="${a.transparent?"none":a.backgroundColor}"/>
              <text x="50" y="50" font-family="Arial" font-size="24" fill="#3B82F6">Sample Chart Export</text>
              <g>
                <rect x="50" y="200" width="60" height="120" fill="#3B82F6"/>
                <rect x="130" y="150" width="60" height="170" fill="#10B981"/>
                <rect x="210" y="180" width="60" height="140" fill="#F59E0B"/>
                <rect x="290" y="160" width="60" height="160" fill="#EF4444"/>
                <rect x="370" y="130" width="60" height="190" fill="#8B5CF6"/>
              </g>
            </svg>
          `;o=new Blob([d],{type:"image/svg+xml"}),l=`${n.name.split(".")[0]}_exported${r.extension}`}else if(i==="pdf"){const d=`%PDF-1.4
1 0 obj
<< /Type /Catalog /Pages 2 0 R >>
endobj
2 0 obj
<< /Type /Pages /Kids [3 0 R] /Count 1 >>
endobj
3 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 ${a.width} ${a.height}] >>
endobj
xref
0 4
0000000000 65535 f 
0000000010 00000 n 
0000000079 00000 n 
0000000173 00000 n 
trailer
<< /Size 4 /Root 1 0 R >>
startxref
${300+a.width+a.height}
%%EOF`;o=new Blob([d],{type:"application/pdf"}),l=`${n.name.split(".")[0]}_exported${r.extension}`}else{const d={metadata:{title:`Exported Chart from ${n.name}`,exportDate:new Date().toISOString(),format:i,settings:a},chart:{type:"bar",title:"Sample Chart Export",data:[{name:"Jan",value:120},{name:"Feb",value:200},{name:"Mar",value:150},{name:"Apr",value:180},{name:"May",value:220}],options:{width:a.width,height:a.height,backgroundColor:a.backgroundColor,transparent:a.transparent}}};o=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),l=`${n.name.split(".")[0]}_exported${r.extension}`}const R=URL.createObjectURL(o),j=document.createElement("a");j.href=R,j.download=l,j.click(),URL.revokeObjectURL(R)}m("success")}catch(r){console.error("Export error:",r),m("error")}finally{k(!1),v(0)}}},[s,i,a,b]),H=c.useCallback(()=>{const r={metadata:{title:"Sample Chart Data",created:new Date().toISOString(),version:"1.0"},chart:{type:"bar",title:"Monthly Sales Data",data:[{name:"January",value:120,color:"#3B82F6"},{name:"February",value:200,color:"#10B981"},{name:"March",value:150,color:"#F59E0B"},{name:"April",value:180,color:"#EF4444"},{name:"May",value:220,color:"#8B5CF6"}],options:{xAxis:"Months",yAxis:"Sales (in thousands)",showGrid:!0,showLegend:!0}}},t=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),o={file:new File([t],"sample_chart.json",{type:"application/json"}),id:`sample-${Date.now()}`,name:"sample_chart.json",size:`${(t.size/1024).toFixed(1)} KB`,type:"application/json"};u(l=>[...l,o]),m("idle")},[]),q=c.useCallback(r=>{u(t=>{const n=t.filter(l=>l.id!==r),o=t.find(l=>l.id===r);return o!=null&&o.preview&&URL.revokeObjectURL(o.preview),n})},[]),J=c.useCallback(async()=>{s.length!==0&&await f()},[s,f]);return e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Chart Exporter"}),e.jsx("p",{children:"Export your charts in various formats for web, print, and presentations with professional quality settings"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[e.jsxs("div",{className:"input-section",children:[e.jsxs("div",{style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--text-primary)",margin:"0 0 1rem 0"},children:"Upload Chart Files"}),e.jsxs("div",{style:{border:"2px dashed var(--border-color)",borderRadius:"12px",padding:"2rem",textAlign:"center",transition:"all 0.3s ease",cursor:"pointer"},onDrop:N,onDragOver:G,onMouseEnter:r=>r.currentTarget.style.borderColor="var(--accent-color)",onMouseLeave:r=>r.currentTarget.style.borderColor="var(--border-color)",children:[e.jsx(C,{size:48,style:{color:"var(--text-muted)",margin:"0 auto 1rem auto"}}),e.jsx("p",{style:{color:"var(--text-secondary)",margin:"0 0 1rem 0",fontSize:"1rem"},children:"Drag and drop chart files here, or"}),e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"1rem 1.5rem",background:"var(--accent-color)",color:"white",borderRadius:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},children:[e.jsx(C,{size:20}),"Choose Files",e.jsx("input",{ref:U,type:"file",multiple:!0,accept:".json,.html,.svg,.png,.jpg,.webp",onChange:O,style:{display:"none"}})]}),e.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:"1rem 0 0 0"},children:"Supports: JSON, HTML, SVG, PNG, JPG, WebP"})]}),e.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:e.jsx("button",{onClick:H,style:{background:"transparent",border:"none",color:"var(--accent-color)",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",textDecoration:"underline"},children:"Generate Sample Chart for Testing"})})]}),s.length>0&&e.jsxs("div",{style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"var(--shadow-sm)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--text-primary)",margin:0},children:["Selected Files (",s.length,")"]}),e.jsx("button",{onClick:()=>u([]),style:{background:"var(--error-light)",color:"var(--error-color)",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer"},children:"Clear All"})]}),e.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:s.map(r=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"var(--bg-tertiary)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flex:1},children:[r.preview?e.jsx("img",{src:r.preview,alt:r.name,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"8px",border:"1px solid var(--border-color)"}}):e.jsx("div",{style:{width:"40px",height:"40px",background:"var(--accent-light)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(T,{size:20,style:{color:"var(--accent-color)"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("p",{style:{fontWeight:"500",color:"var(--text-primary)",margin:"0 0 0.25rem 0",fontSize:"0.9rem"},children:r.name}),e.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.8rem",color:"var(--text-muted)"},children:[e.jsx("span",{children:r.size}),e.jsx("span",{children:r.type})]})]})]}),e.jsx("button",{onClick:()=>q(r.id),style:{background:"transparent",border:"none",color:"var(--error-color)",cursor:"pointer",padding:"0.5rem",borderRadius:"6px",transition:"all 0.2s ease"},onMouseEnter:t=>t.currentTarget.style.background="var(--error-light)",onMouseLeave:t=>t.currentTarget.style.background="transparent",children:e.jsx(K,{size:16})})]},r.id))})]}),(x!=="idle"||p)&&e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{padding:"1.5rem",borderRadius:"12px",display:"flex",flexDirection:"column",gap:"1rem",...x==="success"?{background:"var(--success-light)",border:"2px solid var(--success-color)"}:x==="error"?{background:"var(--error-light)",border:"2px solid var(--error-color)"}:{background:"var(--accent-light)",border:"2px solid var(--accent-color)"}},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[p?e.jsx(W,{size:20,style:{color:"var(--accent-color)",animation:"spin 1s linear infinite"}}):x==="success"?e.jsx(Q,{size:20,style:{color:"var(--success-color)"}}):e.jsx(X,{size:20,style:{color:"var(--error-color)"}}),e.jsx("span",{style:{fontWeight:"600",color:p?"var(--accent-color)":x==="success"?"var(--success-color)":"var(--error-color)"},children:p?`Exporting... ${Math.round(z)}%`:x==="success"?"Charts exported successfully!":"Export failed. Please try again."})]}),p&&e.jsx("div",{style:{width:"100%",height:"6px",background:"var(--bg-tertiary)",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",background:"var(--accent-color)",borderRadius:"3px",width:`${z}%`,transition:"width 0.3s ease"}})})]})]}),e.jsxs("div",{className:"output-section",children:[e.jsx("label",{children:"Export Settings & Preview"}),e.jsxs("div",{style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"var(--shadow-sm)"},children:[e.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--text-primary)",margin:"0 0 1rem 0",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(P,{size:20,style:{color:"var(--accent-color)"}}),"Export Format"]}),e.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:b.map(r=>{const t=r.icon;return e.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"1rem",borderRadius:"12px",border:`2px solid ${i===r.id?"var(--accent-color)":"var(--border-color)"}`,background:i===r.id?"var(--accent-light)":"var(--bg-tertiary)",cursor:r.supported?"pointer":"not-allowed",opacity:r.supported?1:.5,transition:"all 0.3s ease"},onMouseEnter:n=>{r.supported&&i!==r.id&&(n.currentTarget.style.borderColor="var(--accent-color)",n.currentTarget.style.background="var(--accent-light)")},onMouseLeave:n=>{r.supported&&i!==r.id&&(n.currentTarget.style.borderColor="var(--border-color)",n.currentTarget.style.background="var(--bg-tertiary)")},children:[e.jsx("input",{type:"radio",name:"format",value:r.id,checked:i===r.id,onChange:n=>{L(n.target.value),h(o=>({...o,format:n.target.value}))},disabled:!r.supported,style:{marginRight:"0.75rem",accentColor:"var(--accent-color)"}}),e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"var(--accent-light)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"0.75rem"},children:e.jsx(t,{size:18,style:{color:"var(--accent-color)"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("p",{style:{fontWeight:"600",color:"var(--text-primary)",margin:"0 0 0.25rem 0",fontSize:"0.95rem"},children:r.name}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",margin:0},children:r.description})]})]},r.id)})})]}),e.jsxs("div",{style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--text-primary)",margin:"0 0 1rem 0"},children:"Advanced Settings"}),e.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Dimensions (px)"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[e.jsx("div",{children:e.jsx("input",{type:"number",value:a.width,onChange:r=>h(t=>({...t,width:parseInt(r.target.value)||1200})),placeholder:"Width",style:{width:"100%",padding:"0.75rem",border:"2px solid var(--border-color)",borderRadius:"8px",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"0.9rem"}})}),e.jsx("div",{children:e.jsx("input",{type:"number",value:a.height,onChange:r=>h(t=>({...t,height:parseInt(r.target.value)||800})),placeholder:"Height",style:{width:"100%",padding:"0.75rem",border:"2px solid var(--border-color)",borderRadius:"8px",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"0.9rem"}})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:["DPI/Resolution: ",a.dpi]}),e.jsx("input",{type:"range",min:"72",max:"600",step:"24",value:a.dpi,onChange:r=>h(t=>({...t,dpi:parseInt(r.target.value)})),style:{width:"100%",height:"6px",borderRadius:"3px",background:"var(--bg-tertiary)",outline:"none",accentColor:"var(--accent-color)"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:[e.jsx("span",{children:"72 (Web)"}),e.jsx("span",{children:"300 (Print)"}),e.jsx("span",{children:"600 (High)"})]})]}),(i==="png"||i==="jpg"||i==="webp")&&e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:["Quality: ",a.quality,"%"]}),e.jsx("input",{type:"range",min:"10",max:"100",value:a.quality,onChange:r=>h(t=>({...t,quality:parseInt(r.target.value)})),style:{width:"100%",height:"6px",borderRadius:"3px",background:"var(--bg-tertiary)",outline:"none",accentColor:"var(--accent-color)"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Background"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("input",{type:"color",value:a.backgroundColor,onChange:r=>h(t=>({...t,backgroundColor:r.target.value})),disabled:a.transparent,style:{width:"48px",height:"40px",border:"2px solid var(--border-color)",borderRadius:"8px",cursor:"pointer"}}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:a.transparent,onChange:r=>h(t=>({...t,transparent:r.target.checked})),style:{accentColor:"var(--accent-color)"}}),e.jsx("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Transparent Background"})]})]})]})]})]}),e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsxs("button",{onClick:f,disabled:s.length===0||p,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"1rem 1.5rem",background:s.length===0||p?"var(--text-muted)":"linear-gradient(135deg, var(--accent-color) 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"12px",fontWeight:"600",fontSize:"1rem",cursor:s.length===0||p?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:"var(--shadow-md)"},children:[p?e.jsx(W,{size:20,style:{animation:"spin 1s linear infinite"}}):e.jsx(A,{size:20}),e.jsx("span",{children:p?"Exporting...":s.length>1?`Export ${s.length} Files`:"Export Chart"})]}),s.length>1&&e.jsx("button",{onClick:J,disabled:p,style:{width:"100%",padding:"0.75rem 1.5rem",background:"transparent",color:"var(--accent-color)",border:"2px solid var(--accent-color)",borderRadius:"12px",fontWeight:"600",fontSize:"0.9rem",cursor:p?"not-allowed":"pointer",transition:"all 0.3s ease"},onMouseEnter:r=>{p||(r.currentTarget.style.background="var(--accent-color)",r.currentTarget.style.color="white")},onMouseLeave:r=>{p||(r.currentTarget.style.background="transparent",r.currentTarget.style.color="var(--accent-color)")},children:"Batch Export All"})]})]})]}),e.jsxs("div",{style:{marginTop:"3rem",background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"2rem",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"var(--text-primary)",margin:"0 0 1.5rem 0",textAlign:"center"},children:"How to Use Chart Exporter"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"64px",height:"64px",background:"var(--accent-light)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem auto"},children:e.jsx(C,{size:32,style:{color:"var(--accent-color)"}})}),e.jsx("h4",{style:{fontWeight:"600",color:"var(--text-primary)",margin:"0 0 0.5rem 0",fontSize:"1rem"},children:"1. Upload Charts"}),e.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Upload your chart files or generate sample charts for testing the export functionality"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"64px",height:"64px",background:"var(--success-light)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem auto"},children:e.jsx(P,{size:32,style:{color:"var(--success-color)"}})}),e.jsx("h4",{style:{fontWeight:"600",color:"var(--text-primary)",margin:"0 0 0.5rem 0",fontSize:"1rem"},children:"2. Configure Settings"}),e.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Choose export format, dimensions, quality, DPI, and background settings for professional output"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"64px",height:"64px",background:"var(--warning-light)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem auto"},children:e.jsx(A,{size:32,style:{color:"var(--warning-color)"}})}),e.jsx("h4",{style:{fontWeight:"600",color:"var(--text-primary)",margin:"0 0 0.5rem 0",fontSize:"1rem"},children:"3. Export & Download"}),e.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Generate and download your charts in the selected format with enhanced export capabilities"})]})]})]})]})};export{te as default};
