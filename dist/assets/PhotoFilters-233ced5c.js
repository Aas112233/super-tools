import{j as e}from"./index-425a4db3.js";import{r as i}from"./vendor-8a332d8f.js";import"./router-2c18f3be.js";import"./ui-86c81d4e.js";const G=()=>{const[g,p]=i.useState(""),[o,j]=i.useState("none"),[l,u]=i.useState(!1),[a,t]=i.useState({rr:1,gr:0,br:0,ar:0,addR:0,rg:0,gg:1,bg:0,ag:0,addG:0,rb:0,gb:0,bb:1,ab:0,addB:0,ra:0,ga:0,ba:0,aa:1,addA:0}),x=i.useRef(null),c=i.useRef(null),h=i.useRef(null),m=[{id:"none",label:"Original",filter:"none"},{id:"grayscale",label:"Grayscale",filter:"grayscale(100%)"},{id:"blackwhite",label:"Black & White",filter:"grayscale(100%) contrast(150%) brightness(110%)"},{id:"sepia",label:"Sepia",filter:"sepia(100%)"},{id:"blur",label:"Blur",filter:"blur(3px)"},{id:"brightness",label:"Bright",filter:"brightness(150%)"},{id:"contrast",label:"Contrast",filter:"contrast(150%)"},{id:"saturate",label:"Saturate",filter:"saturate(200%)"},{id:"hue",label:"Hue Rotate",filter:"hue-rotate(90deg)"},{id:"invert",label:"Invert",filter:"invert(100%)"},{id:"vintage",label:"Vintage",filter:"sepia(50%) contrast(120%) brightness(110%)"},{id:"cool",label:"Cool",filter:"hue-rotate(180deg) saturate(120%)"},{id:"warm",label:"Warm",filter:"hue-rotate(30deg) saturate(130%) brightness(110%)"}],$=r=>{var d;const s=(d=r.target.files)==null?void 0:d[0];if(s&&s.type.startsWith("image/")){const n=new FileReader;n.onload=b=>{var f;p((f=b.target)==null?void 0:f.result)},n.readAsDataURL(s)}},v=()=>{if(!h.current||!c.current)return;const r=c.current,s=r.getContext("2d"),d=h.current;if(r.width=d.naturalWidth,r.height=d.naturalHeight,l){const n=`${a.rr} ${a.gr} ${a.br} ${a.ar} ${a.addR} ${a.rg} ${a.gg} ${a.bg} ${a.ag} ${a.addG} ${a.rb} ${a.gb} ${a.bb} ${a.ab} ${a.addB} ${a.ra} ${a.ga} ${a.ba} ${a.aa} ${a.addA}`;s.filter=`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="matrix"><feColorMatrix values="${n}"/></filter></svg>#matrix')`}else{const n=m.find(b=>b.id===o);n&&(s.filter=n.filter)}s.drawImage(d,0,0),s.filter="none"};i.useEffect(()=>{g&&h.current&&v()},[o,g,a,l]);const C=()=>{if(!c.current)return;const r=c.current,s=document.createElement("a");s.download=`filtered-${l?"advanced":o}-${Date.now()}.png`,s.href=r.toDataURL("image/png",1),document.body.appendChild(s),s.click(),document.body.removeChild(s)},N=()=>{p(""),j("none"),u(!1),t({rr:1,gr:0,br:0,ar:0,addR:0,rg:0,gg:1,bg:0,ag:0,addG:0,rb:0,gb:0,bb:1,ab:0,addB:0,ra:0,ga:0,ba:0,aa:1,addA:0}),x.current&&(x.current.value="")},F=()=>{if(l)return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="matrix"><feColorMatrix values="${`${a.rr} ${a.gr} ${a.br} ${a.ar} ${a.addR} ${a.rg} ${a.gg} ${a.bg} ${a.ag} ${a.addG} ${a.rb} ${a.gb} ${a.bb} ${a.ab} ${a.addB} ${a.ra} ${a.ga} ${a.ba} ${a.aa} ${a.addA}`}"/></filter></svg>#matrix')`;const r=m.find(s=>s.id===o);return(r==null?void 0:r.filter)||"none"};return e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Photo Filters"}),e.jsx("p",{children:"Apply professional filters with advanced color matrix controls"})]}),e.jsxs("div",{className:"photo-filters-layout",children:[e.jsx("div",{className:"image-preview-section",children:g?e.jsxs("div",{className:"filter-preview-container",children:[e.jsx("img",{ref:h,src:g,alt:"Filtered",className:"filtered-image",style:{filter:F()},onLoad:v}),e.jsx("canvas",{ref:c,style:{display:"none"}}),e.jsxs("div",{className:"filter-actions",children:[e.jsx("button",{className:"download-btn",onClick:C,children:"📥 Download"}),e.jsx("button",{className:"new-btn",onClick:N,children:"🔄 New Image"})]})]}):e.jsxs("div",{className:"upload-area",onClick:()=>{var r;return(r=x.current)==null?void 0:r.click()},children:[e.jsx("div",{className:"upload-icon",children:"🖼️"}),e.jsx("p",{children:"Click to upload an image"}),e.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:$,style:{display:"none"}})]})}),e.jsxs("div",{className:"filters-controls-section",children:[e.jsxs("div",{className:"filters-controls-header",children:[e.jsx("h3",{children:"Photo Filters"}),e.jsx("p",{children:"Choose presets or advanced controls"})]}),e.jsxs("div",{className:"filters-controls",children:[e.jsxs("div",{className:"filter-mode-toggle",children:[e.jsx("button",{className:`mode-btn ${l?"":"active"}`,onClick:()=>u(!1),children:"Presets"}),e.jsx("button",{className:`mode-btn ${l?"active":""}`,onClick:()=>u(!0),children:"Advanced"})]}),l?e.jsxs("div",{className:"color-matrix-controls",children:[e.jsxs("div",{className:"matrix-section",children:[e.jsx("h5",{children:"Red Channel"}),e.jsxs("div",{className:"slider-group",children:[e.jsxs("label",{children:["Red to Red: ",a.rr.toFixed(2)]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.01",value:a.rr,onChange:r=>t(s=>({...s,rr:parseFloat(r.target.value)}))})]}),e.jsxs("div",{className:"slider-group",children:[e.jsxs("label",{children:["Green to Red: ",a.gr.toFixed(2)]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.01",value:a.gr,onChange:r=>t(s=>({...s,gr:parseFloat(r.target.value)}))})]}),e.jsxs("div",{className:"slider-group",children:[e.jsxs("label",{children:["Blue to Red: ",a.br.toFixed(2)]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.01",value:a.br,onChange:r=>t(s=>({...s,br:parseFloat(r.target.value)}))})]})]}),e.jsxs("div",{className:"matrix-section",children:[e.jsx("h5",{children:"Green Channel"}),e.jsxs("div",{className:"slider-group",children:[e.jsxs("label",{children:["Red to Green: ",a.rg.toFixed(2)]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.01",value:a.rg,onChange:r=>t(s=>({...s,rg:parseFloat(r.target.value)}))})]}),e.jsxs("div",{className:"slider-group",children:[e.jsxs("label",{children:["Green to Green: ",a.gg.toFixed(2)]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.01",value:a.gg,onChange:r=>t(s=>({...s,gg:parseFloat(r.target.value)}))})]}),e.jsxs("div",{className:"slider-group",children:[e.jsxs("label",{children:["Blue to Green: ",a.bg.toFixed(2)]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.01",value:a.bg,onChange:r=>t(s=>({...s,bg:parseFloat(r.target.value)}))})]})]}),e.jsxs("div",{className:"matrix-section",children:[e.jsx("h5",{children:"Blue Channel"}),e.jsxs("div",{className:"slider-group",children:[e.jsxs("label",{children:["Red to Blue: ",a.rb.toFixed(2)]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.01",value:a.rb,onChange:r=>t(s=>({...s,rb:parseFloat(r.target.value)}))})]}),e.jsxs("div",{className:"slider-group",children:[e.jsxs("label",{children:["Green to Blue: ",a.gb.toFixed(2)]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.01",value:a.gb,onChange:r=>t(s=>({...s,gb:parseFloat(r.target.value)}))})]}),e.jsxs("div",{className:"slider-group",children:[e.jsxs("label",{children:["Blue to Blue: ",a.bb.toFixed(2)]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.01",value:a.bb,onChange:r=>t(s=>({...s,bb:parseFloat(r.target.value)}))})]})]})]}):e.jsx("div",{className:"filter-grid",children:m.map(r=>e.jsx("button",{className:`filter-btn ${o===r.id?"active":""}`,onClick:()=>j(r.id),children:r.label},r.id))}),e.jsxs("div",{className:"filters-info",children:[e.jsx("h4",{children:l?"Color Matrix:":"Filter Categories:"}),e.jsx("ul",{children:l?e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"• Adjust RGB channel mixing"}),e.jsx("li",{children:"• Real-time color transformation"}),e.jsx("li",{children:"• Professional color grading"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Basic:"})," Grayscale, Sepia, Blur"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Enhance:"})," Brightness, Contrast, Saturate"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Creative:"})," Hue Rotate, Invert"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Vintage:"})," Retro, Cool, Warm tones"]})]})})]})]})]})]})]})};export{G as default};
