import{j as e}from"./index-425a4db3.js";import{r as d}from"./vendor-8a332d8f.js";import{ac as U,aa as G,a5 as x,m as H,A as K,a4 as V}from"./ui-86c81d4e.js";import"./router-2c18f3be.js";const W=()=>{const[g,C]=d.useState("#3B82F6"),[a,A]=d.useState(null),[E,T]=d.useState([]),[w,k]=d.useState(null),[X,$]=d.useState(!1),M=d.useRef(null),S=d.useRef(null),F=s=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}},I=(s,t,o)=>{s/=255,t/=255,o/=255;const r=Math.max(s,t,o),c=Math.min(s,t,o);let l=0,h=0,i=(r+c)/2;if(r!==c){const n=r-c;switch(h=i>.5?n/(2-r-c):n/(r+c),r){case s:l=(t-o)/n+(t<o?6:0);break;case t:l=(o-s)/n+2;break;case o:l=(s-t)/n+4;break}l/=6}return{h:Math.round(l*360),s:Math.round(h*100),l:Math.round(i*100)}},B=(s,t,o)=>{s/=255,t/=255,o/=255;const r=Math.max(s,t,o),c=Math.min(s,t,o),l=r-c,h=r,i=r===0?0:l/r;let n=0;if(r!==c){switch(r){case s:n=(t-o)/l+(t<o?6:0);break;case t:n=(o-s)/l+2;break;case o:n=(s-t)/l+4;break}n/=6}return{h:Math.round(n*360),s:Math.round(i*100),v:Math.round(h*100)}},D=(s,t,o)=>{s/=255,t/=255,o/=255;const r=1-Math.max(s,t,o),c=(1-s-r)/(1-r)||0,l=(1-t-r)/(1-r)||0,h=(1-o-r)/(1-r)||0;return{c:Math.round(c*100),m:Math.round(l*100),y:Math.round(h*100),k:Math.round(r*100)}},R=d.useCallback((s,t)=>{const{h:o}=I(t.r,t.g,t.b);return[{name:"Complementary",colors:[s,`hsl(${(o+180)%360}, 70%, 50%)`],description:"Colors that are opposite each other on the color wheel"},{name:"Analogous",colors:[`hsl(${(o+330)%360}, 70%, 50%)`,s,`hsl(${(o+30)%360}, 70%, 50%)`],description:"Colors that are adjacent to each other on the color wheel"},{name:"Triadic",colors:[s,`hsl(${(o+120)%360}, 70%, 50%)`,`hsl(${(o+240)%360}, 70%, 50%)`],description:"Three colors that are evenly spaced on the color wheel"},{name:"Split Complementary",colors:[s,`hsl(${(o+150)%360}, 70%, 50%)`,`hsl(${(o+210)%360}, 70%, 50%)`],description:"A base color and two colors adjacent to its complement"},{name:"Square",colors:[s,`hsl(${(o+90)%360}, 70%, 50%)`,`hsl(${(o+180)%360}, 70%, 50%)`,`hsl(${(o+270)%360}, 70%, 50%)`],description:"Four colors that are evenly spaced on the color wheel"},{name:"Monochromatic",colors:[`hsl(${o}, 70%, 20%)`,`hsl(${o}, 70%, 35%)`,s,`hsl(${o}, 70%, 65%)`,`hsl(${o}, 70%, 80%)`],description:"Different tones, shades and tints of the same hue"}]},[]),f=d.useCallback(s=>{$(!0);try{const t=F(s),o=I(t.r,t.g,t.b),r=B(t.r,t.g,t.b),c=D(t.r,t.g,t.b);A({hex:s,rgb:t,hsl:o,hsv:r,cmyk:c}),T(R(s,t))}catch(t){console.error("Error analyzing color:",t)}finally{$(!1)}},[R]),v=s=>{C(s),f(s)},z=()=>{const s="#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0");v(s)},L=s=>{var r;const t=(r=s.target.files)==null?void 0:r[0];if(!t)return;const o=new FileReader;o.onload=c=>{var h;const l=new Image;l.onload=()=>{const i=S.current;if(!i)return;const n=i.getContext("2d");if(!n)return;i.width=l.width,i.height=l.height,n.drawImage(l,0,0);const u=n.getImageData(0,0,i.width,i.height).data;let b=0,j=0,y=0;for(let p=0;p<u.length;p+=4)b+=u[p],j+=u[p+1],y+=u[p+2];const N=u.length/4;b=Math.round(b/N),j=Math.round(j/N),y=Math.round(y/N);const P=`#${b.toString(16).padStart(2,"0")}${j.toString(16).padStart(2,"0")}${y.toString(16).padStart(2,"0")}`;v(P)},l.src=(h=c.target)==null?void 0:h.result},o.readAsDataURL(t)},m=async(s,t)=>{try{await navigator.clipboard.writeText(s),k(t),setTimeout(()=>k(null),2e3)}catch(o){console.error("Failed to copy text: ",o)}};return d.useEffect(()=>{f(g)},[f,g]),e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Color Prism"}),e.jsx("p",{children:"Advanced color analysis and harmony generation tool"})]}),e.jsxs("div",{className:"color-prism-layout",children:[e.jsxs("div",{className:"color-input-section",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full"}),"Select or enter a color:"]}),e.jsxs("div",{className:"color-preview-input",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl shadow-lg border-4 border-white cursor-pointer",style:{backgroundColor:g},onClick:()=>{var s;return(s=document.getElementById("color-input"))==null?void 0:s.focus()}}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{id:"color-input",type:"text",value:g,onChange:s=>{const t=s.target.value;/^#[0-9A-Fa-f]{0,6}$/.test(t)&&(C(t),t.length===7&&f(t))},className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"#3B82F6"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:z,className:"flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all shadow-lg hover:shadow-xl",children:[e.jsx(U,{className:"w-4 h-4"}),"Random"]}),e.jsxs("button",{onClick:()=>{var s;return(s=M.current)==null?void 0:s.click()},className:"flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-xl hover:from-blue-600 hover:to-cyan-600 transition-all shadow-lg hover:shadow-xl",children:[e.jsx(G,{className:"w-4 h-4"}),"Extract"]})]}),e.jsx("input",{ref:M,type:"file",accept:"image/*",onChange:L,className:"hidden"}),e.jsx("canvas",{ref:S,className:"hidden"}),a&&e.jsxs("div",{className:"color-info-section",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full"}),"Color Information:"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"HEX"}),e.jsx("div",{className:"font-mono font-bold",children:a.hex}),e.jsxs("button",{onClick:()=>m(a.hex,"HEX"),className:"mt-2 text-xs text-blue-300 hover:text-blue-100 flex items-center justify-center gap-1 mx-auto",children:[e.jsx(x,{className:"w-3 h-3"}),"Copy"]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"RGB"}),e.jsxs("div",{className:"font-mono font-bold text-sm",children:[a.rgb.r,", ",a.rgb.g,", ",a.rgb.b]}),e.jsxs("button",{onClick:()=>m(`${a.rgb.r}, ${a.rgb.g}, ${a.rgb.b}`,"RGB"),className:"mt-2 text-xs text-blue-300 hover:text-blue-100 flex items-center justify-center gap-1 mx-auto",children:[e.jsx(x,{className:"w-3 h-3"}),"Copy"]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"HSL"}),e.jsxs("div",{className:"font-mono font-bold text-sm",children:[a.hsl.h,"°, ",a.hsl.s,"%, ",a.hsl.l,"%"]}),e.jsxs("button",{onClick:()=>m(`${a.hsl.h}, ${a.hsl.s}%, ${a.hsl.l}%`,"HSL"),className:"mt-2 text-xs text-blue-300 hover:text-blue-100 flex items-center justify-center gap-1 mx-auto",children:[e.jsx(x,{className:"w-3 h-3"}),"Copy"]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"HSV"}),e.jsxs("div",{className:"font-mono font-bold text-sm",children:[a.hsv.h,"°, ",a.hsv.s,"%, ",a.hsv.v,"%"]}),e.jsxs("button",{onClick:()=>m(`${a.hsv.h}, ${a.hsv.s}%, ${a.hsv.v}%`,"HSV"),className:"mt-2 text-xs text-blue-300 hover:text-blue-100 flex items-center justify-center gap-1 mx-auto",children:[e.jsx(x,{className:"w-3 h-3"}),"Copy"]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"CMYK"}),e.jsxs("div",{className:"font-mono font-bold text-sm",children:[a.cmyk.c,"%, ",a.cmyk.m,"%, ",a.cmyk.y,"%, ",a.cmyk.k,"%"]}),e.jsxs("button",{onClick:()=>m(`${a.cmyk.c}%, ${a.cmyk.m}%, ${a.cmyk.y}%, ${a.cmyk.k}%`,"CMYK"),className:"mt-2 text-xs text-blue-300 hover:text-blue-100 flex items-center justify-center gap-1 mx-auto",children:[e.jsx(x,{className:"w-3 h-3"}),"Copy"]})]})]})]})]}),e.jsxs("div",{className:"color-controls-section",children:[e.jsxs("div",{className:"color-controls-header",children:[e.jsx("h3",{children:"Color Harmonies"}),e.jsx("p",{children:"Explore different color combinations"})]}),e.jsx("div",{className:"color-controls",children:e.jsx("div",{className:"space-y-6",children:E.map((s,t)=>e.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"bg-gray-50 dark:bg-slate-700/50 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:s.description}),e.jsx("div",{className:"flex gap-2 mb-3",children:s.colors.map((o,r)=>e.jsx("div",{className:"w-8 h-8 rounded-lg shadow-sm border border-white/50 cursor-pointer hover:scale-110 transition-transform",style:{backgroundColor:o},onClick:()=>v(o),title:o},r))}),e.jsxs("button",{onClick:()=>m(s.colors.join(", "),s.name),className:"text-xs text-blue-500 hover:text-blue-600 flex items-center gap-1",children:[e.jsx(x,{className:"w-3 h-3"}),"Copy palette"]})]},t))})})]})]}),e.jsx(K,{children:w&&e.jsxs(H.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},className:"fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Copied: ",w]})})]})};export{W as default};
