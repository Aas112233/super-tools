import{j as e}from"./index-425a4db3.js";import{r as u}from"./vendor-8a332d8f.js";import{an as ae,ac as oe,a1 as L,a7 as z,a9 as F,ak as J,a2 as M,af as $,aj as T,ao as re,ap as G,ai as _,G as X,B as W,am as q,aa as le,r as Y,ag as se,Z as U,Y as V,ah as ne,al as ie,aq as Q,x as Z,s as K,a3 as H,C as I,a as ee,m as ce}from"./ui-86c81d4e.js";import{i as de}from"./charts-0e7df69e.js";import{c as me}from"./router-2c18f3be.js";class B extends u.Component{constructor(l){super(l),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,p){console.error("ECharts Error Boundary caught an error:",l,p),this.setState({error:l,errorInfo:p})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsxs("div",{className:"chart-error-container p-6 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(ae,{className:"w-8 h-8 text-red-500 mr-3"}),e.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"Chart Error"})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("p",{className:"text-red-600 mb-2",children:"Sorry, there was an error loading the chart component."}),e.jsx("p",{className:"text-sm text-red-500",children:"This error is isolated and won't affect other parts of the application."})]}),e.jsx("div",{className:"flex justify-center space-x-3",children:e.jsxs("button",{onClick:this.handleRetry,className:"flex items-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Retry"]})}),typeof window<"u"&&window.location.hostname==="localhost"&&this.state.error&&e.jsxs("details",{className:"mt-4 p-3 bg-red-100 rounded text-xs",children:[e.jsx("summary",{className:"cursor-pointer font-medium text-red-700",children:"Error Details (Development Only)"}),e.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-red-600",children:this.state.error.toString()}),this.state.errorInfo&&e.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-red-600",children:this.state.errorInfo.componentStack})]})]}):this.props.children}}const R=({option:S,width:l="100%",height:p="400px",theme:s,className:x="",onChartReady:f,onError:w})=>{const j=u.useRef(null),y=u.useRef(null),C=u.useCallback(()=>{try{if(!j.current)throw new Error("Chart container not found");y.current&&(y.current.dispose(),y.current=null);const h=de(j.current,s);y.current=h;try{h.setOption(S,!0)}catch(n){console.error("Error setting chart option:",n),w&&w(n);return}const m=()=>{try{y.current&&!y.current.isDisposed()&&y.current.resize()}catch(n){console.error("Error resizing chart:",n),w&&w(n)}};if(window.addEventListener("resize",m),f)try{f(h)}catch(n){console.error("Error in chart ready callback:",n),w&&w(n)}return()=>{window.removeEventListener("resize",m),y.current&&!y.current.isDisposed()&&y.current.dispose()}}catch(h){console.error("Error initializing chart:",h),w&&w(h)}},[S,s,f,w]);return u.useEffect(()=>C(),[C]),u.useEffect(()=>{try{y.current&&!y.current.isDisposed()&&y.current.setOption(S,!0)}catch(h){console.error("Error updating chart option:",h),w&&w(h)}},[S,w]),u.useEffect(()=>()=>{try{y.current&&!y.current.isDisposed()&&(y.current.dispose(),y.current=null)}catch(h){console.error("Error during chart cleanup:",h)}},[]),e.jsx("div",{ref:j,className:`echarts-container ${x}`,style:{width:typeof l=="number"?`${l}px`:l,height:typeof p=="number"?`${p}px`:p,minHeight:"200px"}})},ue=({className:S=""})=>{const[l,p]=u.useState({labels:["Jan","Feb","Mar","Apr","May","Jun"],values:[120,200,150,80,70,110],title:"Monthly Sales Data",xAxisLabel:"Months",yAxisLabel:"Sales (in thousands)"}),[s,x]=u.useState({primary:"#3B82F6",background:"#F8FAFC",text:"#1E293B"}),[f,w]=u.useState(l.labels.join(", ")),[j,y]=u.useState(l.values.join(", ")),C=u.useCallback(()=>{try{return{title:{text:l.title,left:"center",textStyle:{color:s.text,fontSize:18,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:s.primary,borderWidth:1,textStyle:{color:s.text}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:l.labels,name:l.xAxisLabel,nameLocation:"middle",nameGap:30,axisLine:{lineStyle:{color:s.text}},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:l.yAxisLabel,nameLocation:"middle",nameGap:50,axisLine:{lineStyle:{color:s.text}}},series:[{name:l.yAxisLabel,type:"bar",data:l.values,itemStyle:{color:s.primary,borderRadius:[4,4,0,0]},emphasis:{itemStyle:{color:"#2563EB"}},animationDuration:1e3,animationEasing:"cubicOut"}],backgroundColor:s.background}}catch(a){return console.error("Error generating chart option:",a),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),h=u.useCallback(a=>{try{w(a);const o=a.split(",").map(r=>r.trim()).filter(r=>r);o.length>0&&p(r=>({...r,labels:o}))}catch(o){console.error("Error updating labels:",o)}},[]),m=u.useCallback(a=>{try{y(a);const o=a.split(",").map(r=>parseFloat(r.trim())).filter(r=>!isNaN(r));o.length>0&&p(r=>({...r,values:o}))}catch(o){console.error("Error updating values:",o)}},[]),n=u.useCallback(()=>{try{const a={type:"bar-chart",data:l,colors:s,generatedAt:new Date().toISOString()},o=JSON.stringify(a,null,2),r=new Blob([o],{type:"application/json"}),t=URL.createObjectURL(r),c=document.createElement("a");c.href=t,c.download=`bar-chart-${Date.now()}.json`,c.click(),URL.revokeObjectURL(t)}catch(a){console.error("Error exporting chart:",a),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Bar Chart Builder"}),e.jsx("p",{children:"Create professional bar charts with customizable data, colors, and labels"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},className:"chart-grid-container",children:[e.jsxs("div",{className:"input-section",children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"chart-title",style:{display:"block",marginBottom:"0.5rem"},children:"Chart Title"}),e.jsx("input",{id:"chart-title",type:"text",value:l.title,onChange:a=>p(o=>({...o,title:a.target.value})),placeholder:"Enter chart title",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:a=>a.target.style.borderColor="var(--accent-color)",onBlur:a=>a.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"chart-labels",style:{display:"block",marginBottom:"0.5rem"},children:"Categories (comma-separated)"}),e.jsx("input",{id:"chart-labels",type:"text",value:f,onChange:a=>h(a.target.value),placeholder:"Jan, Feb, Mar, Apr, May",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:a=>a.target.style.borderColor="var(--accent-color)",onBlur:a=>a.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"chart-values",style:{display:"block",marginBottom:"0.5rem"},children:"Values (comma-separated)"}),e.jsx("input",{id:"chart-values",type:"text",value:j,onChange:a=>m(a.target.value),placeholder:"120, 200, 150, 80, 70",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:a=>a.target.style.borderColor="var(--accent-color)",onBlur:a=>a.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"x-axis",style:{display:"block",marginBottom:"0.5rem"},children:"X-Axis Label"}),e.jsx("input",{id:"x-axis",type:"text",value:l.xAxisLabel,onChange:a=>p(o=>({...o,xAxisLabel:a.target.value})),placeholder:"X-axis label",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"y-axis",style:{display:"block",marginBottom:"0.5rem"},children:"Y-Axis Label"}),e.jsx("input",{id:"y-axis",type:"text",value:l.yAxisLabel,onChange:a=>p(o=>({...o,yAxisLabel:a.target.value})),placeholder:"Y-axis label",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"}})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"bar-color",style:{display:"block",marginBottom:"0.5rem"},children:"Bar Color"}),e.jsx("input",{id:"bar-color",type:"color",value:s.primary,onChange:a=>x(o=>({...o,primary:a.target.value})),style:{width:"100%",height:"40px",border:"2px solid var(--border-color)",borderRadius:"12px",background:"var(--bg-tertiary)",cursor:"pointer"}})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:e.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",background:"linear-gradient(135deg, var(--accent-color) 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(L,{size:20}),"Export Chart"]})})]}),e.jsxs("div",{className:"output-section",children:[e.jsx("label",{children:"Chart Preview"}),e.jsx("div",{style:{padding:"1rem",background:"white",border:"2px dashed var(--border-color)",borderRadius:"16px",minHeight:"400px"},children:e.jsx(R,{option:C(),height:350,className:"w-full",onError:a=>{console.error("Bar chart rendering error:",a)}})})]})]})]})})},he=({className:S=""})=>{const[l,p]=u.useState({labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{name:"Sales",values:[120,200,150,80,70,110],color:"#3B82F6"},{name:"Revenue",values:[100,180,130,90,85,125],color:"#10B981"}],title:"Sales & Revenue Trends",xAxisLabel:"Months",yAxisLabel:"Amount (in thousands)"}),[s,x]=u.useState({smooth:!0,showArea:!1,showPoints:!0,gridLines:!0}),[f,w]=u.useState(l.labels.join(", ")),j=u.useCallback(()=>{try{return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"axis",backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},legend:{data:l.datasets.map(a=>a.name),top:40,textStyle:{color:"#374151"}},grid:{left:"3%",right:"4%",bottom:"3%",top:"15%",containLabel:!0,show:s.gridLines,borderColor:"#E5E7EB"},xAxis:{type:"category",data:l.labels,name:l.xAxisLabel,nameLocation:"middle",nameGap:30,axisLine:{lineStyle:{color:"#6B7280"}},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:l.yAxisLabel,nameLocation:"middle",nameGap:50,axisLine:{lineStyle:{color:"#6B7280"}},splitLine:{show:s.gridLines,lineStyle:{color:"#E5E7EB",type:"dashed"}}},series:l.datasets.map(a=>({name:a.name,type:"line",data:a.values,smooth:s.smooth,symbol:s.showPoints?"circle":"none",symbolSize:6,lineStyle:{color:a.color,width:3},itemStyle:{color:a.color},areaStyle:s.showArea?{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:a.color+"40"},{offset:1,color:a.color+"10"}]}}:void 0,emphasis:{focus:"series",lineStyle:{width:4}},animationDuration:1e3,animationEasing:"cubicOut"})),backgroundColor:"#FEFEFE"}}catch(a){return console.error("Error generating line chart option:",a),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),y=u.useCallback(a=>{try{w(a);const o=a.split(",").map(r=>r.trim()).filter(r=>r);o.length>0&&p(r=>({...r,labels:o}))}catch(o){console.error("Error updating labels:",o)}},[]),C=u.useCallback((a,o,r)=>{try{p(t=>({...t,datasets:t.datasets.map((c,i)=>{if(i===a){if(o==="values"&&typeof r=="string"){const d=r.split(",").map(g=>parseFloat(g.trim())).filter(g=>!isNaN(g));return{...c,values:d}}return{...c,[o]:r}}return c})}))}catch(t){console.error("Error updating dataset:",t)}},[]),h=u.useCallback(()=>{try{const a=["#EF4444","#F59E0B","#8B5CF6","#EC4899","#14B8A6"],o=a[l.datasets.length%a.length];p(r=>({...r,datasets:[...r.datasets,{name:`Dataset ${r.datasets.length+1}`,values:new Array(r.labels.length).fill(0),color:o}]}))}catch(a){console.error("Error adding dataset:",a)}},[l.datasets.length]),m=u.useCallback(a=>{try{l.datasets.length>1&&p(o=>({...o,datasets:o.datasets.filter((r,t)=>t!==a)}))}catch(o){console.error("Error removing dataset:",o)}},[l.datasets.length]),n=u.useCallback(()=>{try{const a={type:"line-chart",data:l,options:s,generatedAt:new Date().toISOString()},o=JSON.stringify(a,null,2),r=new Blob([o],{type:"application/json"}),t=URL.createObjectURL(r),c=document.createElement("a");c.href=t,c.download=`line-chart-${Date.now()}.json`,c.click(),URL.revokeObjectURL(t)}catch(a){console.error("Error exporting chart:",a),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Line Chart Builder"}),e.jsx("p",{children:"Create professional line charts with multiple data series, customizable colors, and smooth animations"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},className:"chart-grid-container",children:[e.jsxs("div",{className:"input-section",children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"chart-title",style:{display:"block",marginBottom:"0.5rem"},children:"Chart Title"}),e.jsx("input",{id:"chart-title",type:"text",value:l.title,onChange:a=>p(o=>({...o,title:a.target.value})),placeholder:"Enter chart title",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:a=>a.target.style.borderColor="var(--accent-color)",onBlur:a=>a.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"chart-labels",style:{display:"block",marginBottom:"0.5rem"},children:"Categories (comma-separated)"}),e.jsx("input",{id:"chart-labels",type:"text",value:f,onChange:a=>y(a.target.value),placeholder:"Jan, Feb, Mar, Apr, May",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:a=>a.target.style.borderColor="var(--accent-color)",onBlur:a=>a.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"x-axis",style:{display:"block",marginBottom:"0.5rem"},children:"X-Axis Label"}),e.jsx("input",{id:"x-axis",type:"text",value:l.xAxisLabel,onChange:a=>p(o=>({...o,xAxisLabel:a.target.value})),placeholder:"X-axis label",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"y-axis",style:{display:"block",marginBottom:"0.5rem"},children:"Y-Axis Label"}),e.jsx("input",{id:"y-axis",type:"text",value:l.yAxisLabel,onChange:a=>p(o=>({...o,yAxisLabel:a.target.value})),placeholder:"Y-axis label",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"}})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Chart Options"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.smooth,onChange:a=>x(o=>({...o,smooth:a.target.checked}))}),"Smooth Lines"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.showArea,onChange:a=>x(o=>({...o,showArea:a.target.checked}))}),"Show Area"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.showPoints,onChange:a=>x(o=>({...o,showPoints:a.target.checked}))}),"Show Points"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.gridLines,onChange:a=>x(o=>({...o,gridLines:a.target.checked}))}),"Grid Lines"]})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0"},children:"Data Series"}),e.jsx("button",{onClick:h,style:{padding:"0.5rem 1rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",cursor:"pointer"},children:"Add Series"})]}),e.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:l.datasets.map((a,o)=>e.jsxs("div",{style:{border:"2px solid var(--border-color)",borderRadius:"12px",padding:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsxs("span",{style:{fontSize:"0.9rem",fontWeight:"600"},children:["Series ",o+1]}),l.datasets.length>1&&e.jsx("button",{onClick:()=>m(o),style:{background:"transparent",color:"var(--error-color)",border:"none",fontSize:"0.8rem",cursor:"pointer"},children:"Remove"})]}),e.jsxs("div",{style:{display:"grid",gap:"0.5rem"},children:[e.jsx("input",{type:"text",value:a.name,onChange:r=>C(o,"name",r.target.value),placeholder:"Series name",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",fontSize:"0.9rem"}}),e.jsx("input",{type:"text",value:a.values.join(", "),onChange:r=>C(o,"values",r.target.value),placeholder:"Values (comma separated)",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",fontSize:"0.9rem"}}),e.jsx("input",{type:"color",value:a.color,onChange:r=>C(o,"color",r.target.value),style:{width:"100%",height:"40px",border:"2px solid var(--border-color)",borderRadius:"8px",cursor:"pointer"}})]})]},o))})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:e.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",background:"linear-gradient(135deg, var(--accent-color) 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[e.jsx(L,{size:20}),"Export Chart"]})})]}),e.jsxs("div",{className:"output-section",children:[e.jsx("label",{children:"Chart Preview"}),e.jsx("div",{style:{background:"white",border:"2px dashed var(--border-color)",borderRadius:"16px",padding:"2rem",marginBottom:"1.5rem",minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(R,{option:j(),height:400,className:"w-full",onError:a=>{console.error("Line chart rendering error:",a)}})})]})]})]})})},ge=({className:S=""})=>{const[l,p]=u.useState({title:"Market Share Distribution",data:[{name:"Product A",value:35,color:"#3B82F6"},{name:"Product B",value:28,color:"#10B981"},{name:"Product C",value:22,color:"#F59E0B"},{name:"Product D",value:15,color:"#EF4444"}]}),[s,x]=u.useState({showLabels:!0,showLegend:!0,showPercentage:!0,innerRadius:0,roseType:!1}),f=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"],w=u.useCallback(()=>{try{const m=l.data.reduce((n,a)=>n+a.value,0);return{title:{text:l.title,left:"center",top:20,textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",formatter:n=>{try{const a=(n.value/m*100).toFixed(1);return`${n.name}<br/>${n.value} (${a}%)`}catch{return`${n.name}: ${n.value}`}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},legend:s.showLegend?{orient:"vertical",right:20,top:"middle",textStyle:{color:"#374151"},data:l.data.map(n=>n.name)}:void 0,series:[{name:l.title,type:"pie",radius:s.innerRadius>0?[`${s.innerRadius}%`,"70%"]:"70%",center:s.showLegend?["40%","50%"]:["50%","50%"],data:l.data.map(n=>({value:n.value,name:n.name,itemStyle:{color:n.color}})),roseType:s.roseType?"area":void 0,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:s.showLabels?{show:!0,formatter:n=>{try{if(s.showPercentage){const a=(n.value/m*100).toFixed(1);return`${n.name}
${a}%`}return`${n.name}
${n.value}`}catch{return n.name}},fontSize:12,color:"#374151"}:{show:!1},labelLine:{show:s.showLabels},animationType:"scale",animationEasing:"elasticOut",animationDelay:n=>n*100}],backgroundColor:"#FEFEFE"}}catch(m){return console.error("Error generating pie chart option:",m),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),j=u.useCallback((m,n,a)=>{try{p(o=>({...o,data:o.data.map((r,t)=>{if(t===m){const c={...r,[n]:a};return n==="value"&&(c.value=Math.max(0,parseFloat(a)||0)),c}return r})}))}catch(o){console.error("Error updating data item:",o)}},[]),y=u.useCallback(()=>{try{const m=l.data.length,n=f[m%f.length];p(a=>({...a,data:[...a.data,{name:`Item ${m+1}`,value:10,color:n}]}))}catch(m){console.error("Error adding data item:",m)}},[l.data.length]),C=u.useCallback(m=>{try{l.data.length>1&&p(n=>({...n,data:n.data.filter((a,o)=>o!==m)}))}catch(n){console.error("Error removing data item:",n)}},[l.data.length]),h=u.useCallback(()=>{try{const m={type:"pie-chart",data:l,options:s,generatedAt:new Date().toISOString()},n=JSON.stringify(m,null,2),a=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download=`pie-chart-${Date.now()}.json`,r.click(),URL.revokeObjectURL(o)}catch(m){console.error("Error exporting chart:",m),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Pie Chart Builder"}),e.jsx("p",{children:"Create professional pie and donut charts with customizable data, colors, and display options"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},className:"chart-grid-container",children:[e.jsxs("div",{className:"input-section",children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"chart-title",style:{display:"block",marginBottom:"0.5rem"},children:"Chart Title"}),e.jsx("input",{id:"chart-title",type:"text",value:l.title,onChange:m=>p(n=>({...n,title:m.target.value})),placeholder:"Enter chart title",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:m=>m.target.style.borderColor="var(--accent-color)",onBlur:m=>m.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{htmlFor:"inner-radius",style:{display:"block",marginBottom:"0.5rem"},children:["Inner Radius: ",s.innerRadius,"% (0 = Pie, ",">"," 0 = Donut)"]}),e.jsx("input",{id:"inner-radius",type:"range",min:"0",max:"60",value:s.innerRadius,onChange:m=>x(n=>({...n,innerRadius:parseInt(m.target.value)})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"}})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Display Options"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.showLabels,onChange:m=>x(n=>({...n,showLabels:m.target.checked}))}),"Show Labels"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.showLegend,onChange:m=>x(n=>({...n,showLegend:m.target.checked}))}),"Show Legend"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.showPercentage,onChange:m=>x(n=>({...n,showPercentage:m.target.checked}))}),"Show Percentage"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.roseType,onChange:m=>x(n=>({...n,roseType:m.target.checked}))}),"Rose Style"]})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0"},children:"Data Items"}),e.jsxs("button",{onClick:y,style:{padding:"0.5rem 1rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(z,{size:16}),"Add Item"]})]}),e.jsx("div",{style:{maxHeight:"250px",overflowY:"auto"},children:l.data.map((m,n)=>e.jsxs("div",{style:{border:"2px solid var(--border-color)",borderRadius:"12px",padding:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsxs("span",{style:{fontSize:"0.9rem",fontWeight:"600"},children:["Item ",n+1]}),l.data.length>1&&e.jsxs("button",{onClick:()=>C(n),style:{background:"transparent",color:"var(--error-color)",border:"none",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem"},children:[e.jsx(F,{size:14}),"Remove"]})]}),e.jsxs("div",{style:{display:"grid",gap:"0.75rem"},children:[e.jsx("input",{type:"text",value:m.name,onChange:a=>j(n,"name",a.target.value),placeholder:"Item name",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",fontSize:"0.9rem"}}),e.jsx("input",{type:"number",value:m.value,onChange:a=>j(n,"value",a.target.value),placeholder:"Value",min:"0",step:"0.1",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",fontSize:"0.9rem"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"color",value:m.color,onChange:a=>j(n,"color",a.target.value),style:{width:"50px",height:"40px",border:"2px solid var(--border-color)",borderRadius:"8px",cursor:"pointer"}}),e.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)",fontFamily:"monospace"},children:m.color})]})]})]},n))})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:e.jsxs("button",{onClick:h,style:{padding:"1rem 2rem",background:"linear-gradient(135deg, var(--accent-color) 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[e.jsx(L,{size:20}),"Export Chart"]})})]}),e.jsxs("div",{className:"output-section",children:[e.jsx("label",{children:"Chart Preview"}),e.jsx("div",{style:{background:"white",border:"2px dashed var(--border-color)",borderRadius:"16px",padding:"2rem",marginBottom:"1.5rem",minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(R,{option:w(),height:400,className:"w-full",onError:m=>{console.error("Pie chart rendering error:",m)}})})]})]})]})})},pe=({className:S=""})=>{const[l,p]=u.useState({title:"Correlation Analysis",datasets:[{name:"Dataset 1",data:[{x:10,y:8},{x:20,y:7},{x:30,y:6},{x:40,y:9},{x:50,y:5},{x:60,y:8},{x:70,y:7},{x:80,y:6},{x:90,y:9}],color:"#3B82F6",size:8},{name:"Dataset 2",data:[{x:15,y:12},{x:25,y:11},{x:35,y:10},{x:45,y:13},{x:55,y:9},{x:65,y:12},{x:75,y:11},{x:85,y:10},{x:95,y:13}],color:"#10B981",size:8}],xAxisLabel:"X Variable",yAxisLabel:"Y Variable"}),[s,x]=u.useState({showGrid:!0,showTrendline:!1,pointShape:"circle",opacity:.8}),f=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"],w=u.useCallback(()=>{try{const o={circle:"circle",diamond:"diamond",square:"rect",triangle:"triangle"};return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",formatter:r=>{try{const[t,c]=r.value;return`${r.seriesName}<br/>X: ${t}<br/>Y: ${c}`}catch{return`${r.seriesName}: ${r.value}`}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},legend:{data:l.datasets.map(r=>r.name),top:40,textStyle:{color:"#374151"}},grid:{left:"3%",right:"4%",bottom:"3%",top:"15%",containLabel:!0,show:s.showGrid,borderColor:"#E5E7EB"},xAxis:{type:"value",name:l.xAxisLabel,nameLocation:"middle",nameGap:30,axisLine:{lineStyle:{color:"#6B7280"}},splitLine:{show:s.showGrid,lineStyle:{color:"#E5E7EB",type:"dashed"}}},yAxis:{type:"value",name:l.yAxisLabel,nameLocation:"middle",nameGap:50,axisLine:{lineStyle:{color:"#6B7280"}},splitLine:{show:s.showGrid,lineStyle:{color:"#E5E7EB",type:"dashed"}}},series:l.datasets.map(r=>({name:r.name,type:"scatter",data:r.data.map(t=>[t.x,t.y]),symbol:o[s.pointShape],symbolSize:r.size,itemStyle:{color:r.color,opacity:s.opacity},emphasis:{itemStyle:{opacity:1,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.3)"}},animationDuration:1e3,animationEasing:"cubicOut"})),backgroundColor:"#FEFEFE"}}catch(o){return console.error("Error generating scatter plot option:",o),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),j=u.useCallback((o,r,t)=>{try{p(c=>({...c,datasets:c.datasets.map((i,d)=>d===o?{...i,[r]:t}:i)}))}catch(c){console.error("Error updating dataset:",c)}},[]),y=u.useCallback((o,r,t,c)=>{try{const i=parseFloat(c)||0;p(d=>({...d,datasets:d.datasets.map((g,b)=>b===o?{...g,data:g.data.map((v,N)=>N===r?{...v,[t]:i}:v)}:g)}))}catch(i){console.error("Error updating data point:",i)}},[]),C=u.useCallback(()=>{try{const o=l.datasets.length,r=f[o%f.length];p(t=>({...t,datasets:[...t.datasets,{name:`Dataset ${o+1}`,data:[{x:0,y:0}],color:r,size:8}]}))}catch(o){console.error("Error adding dataset:",o)}},[l.datasets.length]),h=u.useCallback(o=>{try{l.datasets.length>1&&p(r=>({...r,datasets:r.datasets.filter((t,c)=>c!==o)}))}catch(r){console.error("Error removing dataset:",r)}},[l.datasets.length]),m=u.useCallback(o=>{try{p(r=>({...r,datasets:r.datasets.map((t,c)=>c===o?{...t,data:[...t.data,{x:0,y:0}]}:t)}))}catch(r){console.error("Error adding data point:",r)}},[]),n=u.useCallback((o,r)=>{try{p(t=>({...t,datasets:t.datasets.map((c,i)=>i===o&&c.data.length>1?{...c,data:c.data.filter((d,g)=>g!==r)}:c)}))}catch(t){console.error("Error removing data point:",t)}},[]),a=u.useCallback(()=>{try{const o={type:"scatter-plot",data:l,options:s,generatedAt:new Date().toISOString()},r=JSON.stringify(o,null,2),t=new Blob([r],{type:"application/json"}),c=URL.createObjectURL(t),i=document.createElement("a");i.href=c,i.download=`scatter-plot-${Date.now()}.json`,i.click(),URL.revokeObjectURL(c)}catch(o){console.error("Error exporting chart:",o),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Scatter Plot Builder"}),e.jsx("p",{children:"Create professional scatter plots to analyze correlations between variables with customizable data points and styling"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},className:"chart-grid-container",children:[e.jsxs("div",{className:"input-section",children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"chart-title",style:{display:"block",marginBottom:"0.5rem"},children:"Chart Title"}),e.jsx("input",{id:"chart-title",type:"text",value:l.title,onChange:o=>p(r=>({...r,title:o.target.value})),placeholder:"Enter chart title",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:o=>o.target.style.borderColor="var(--accent-color)",onBlur:o=>o.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"x-axis",style:{display:"block",marginBottom:"0.5rem"},children:"X-Axis Label"}),e.jsx("input",{id:"x-axis",type:"text",value:l.xAxisLabel,onChange:o=>p(r=>({...r,xAxisLabel:o.target.value})),placeholder:"X-axis label",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"y-axis",style:{display:"block",marginBottom:"0.5rem"},children:"Y-Axis Label"}),e.jsx("input",{id:"y-axis",type:"text",value:l.yAxisLabel,onChange:o=>p(r=>({...r,yAxisLabel:o.target.value})),placeholder:"Y-axis label",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"point-shape",style:{display:"block",marginBottom:"0.5rem"},children:"Point Shape"}),e.jsxs("select",{id:"point-shape",value:s.pointShape,onChange:o=>x(r=>({...r,pointShape:o.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",appearance:"none"},children:[e.jsx("option",{value:"circle",children:"Circle"}),e.jsx("option",{value:"diamond",children:"Diamond"}),e.jsx("option",{value:"square",children:"Square"}),e.jsx("option",{value:"triangle",children:"Triangle"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"opacity",style:{display:"block",marginBottom:"0.5rem"},children:["Opacity: ",Math.round(s.opacity*100),"%"]}),e.jsx("input",{id:"opacity",type:"range",min:"0.1",max:"1",step:"0.1",value:s.opacity,onChange:o=>x(r=>({...r,opacity:parseFloat(o.target.value)})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)"}})]})]}),e.jsx("div",{style:{marginBottom:"1.5rem"},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.showGrid,onChange:o=>x(r=>({...r,showGrid:o.target.checked}))}),"Show Grid Lines"]})}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0"},children:"Datasets"}),e.jsxs("button",{onClick:C,style:{padding:"0.5rem 1rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(z,{size:16}),"Add Dataset"]})]}),e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:l.datasets.map((o,r)=>e.jsxs("div",{style:{border:"2px solid var(--border-color)",borderRadius:"12px",padding:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("input",{type:"text",value:o.name,onChange:t=>j(r,"name",t.target.value),placeholder:"Dataset name",style:{border:"none",background:"transparent",fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)",outline:"none",flex:1}}),l.datasets.length>1&&e.jsx("button",{onClick:()=>h(r),style:{background:"transparent",color:"var(--error-color)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem"},children:e.jsx(F,{size:14})})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"color",value:o.color,onChange:t=>j(r,"color",t.target.value),style:{width:"40px",height:"30px",border:"2px solid var(--border-color)",borderRadius:"6px",cursor:"pointer"}}),e.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Color"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[e.jsx("input",{type:"range",min:"4",max:"20",value:o.size,onChange:t=>j(r,"size",parseInt(t.target.value)),style:{flex:1}}),e.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)",minWidth:"40px"},children:[o.size,"px"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"0.9rem",fontWeight:"600"},children:"Data Points"}),e.jsx("button",{onClick:()=>m(r),style:{background:"transparent",color:"var(--accent-color)",border:"none",cursor:"pointer",fontSize:"0.8rem"},children:e.jsx(z,{size:14})})]}),e.jsx("div",{style:{maxHeight:"120px",overflowY:"auto",display:"grid",gap:"0.5rem"},children:o.data.map((t,c)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"number",value:t.x,onChange:i=>y(r,c,"x",i.target.value),placeholder:"X",step:"0.1",style:{width:"60px",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-tertiary)",fontSize:"0.8rem"}}),e.jsx("input",{type:"number",value:t.y,onChange:i=>y(r,c,"y",i.target.value),placeholder:"Y",step:"0.1",style:{width:"60px",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-tertiary)",fontSize:"0.8rem"}}),o.data.length>1&&e.jsx("button",{onClick:()=>n(r,c),style:{background:"transparent",color:"var(--error-color)",border:"none",cursor:"pointer"},children:e.jsx(F,{size:12})})]},c))})]})]},r))})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:e.jsxs("button",{onClick:a,style:{padding:"1rem 2rem",background:"linear-gradient(135deg, var(--accent-color) 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[e.jsx(L,{size:20}),"Export Chart"]})})]}),e.jsxs("div",{className:"output-section",children:[e.jsx("label",{children:"Chart Preview"}),e.jsx("div",{style:{background:"white",border:"2px dashed var(--border-color)",borderRadius:"16px",padding:"2rem",marginBottom:"1.5rem",minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(R,{option:w(),height:400,className:"w-full",onError:o=>{console.error("Scatter plot rendering error:",o)}})})]})]})]})})},xe=({className:S=""})=>{const[l,p]=u.useState({title:"Multi-Dimensional Analysis",indicators:[{name:"Sales",max:100,min:0},{name:"Marketing",max:100,min:0},{name:"Development",max:100,min:0},{name:"Customer Support",max:100,min:0},{name:"Administration",max:100,min:0},{name:"Technology",max:100,min:0}],datasets:[{name:"Current Performance",data:[85,70,90,60,75,88],color:"#3B82F6",areaStyle:!0},{name:"Target Performance",data:[90,85,95,80,85,95],color:"#10B981",areaStyle:!1}]}),[s,x]=u.useState({showGrid:!0,shape:"polygon",splitNumber:5,centerX:50,centerY:50,radius:70}),f=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"],w=u.useCallback(()=>{try{return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},legend:{data:l.datasets.map(r=>r.name),top:40,textStyle:{color:"#374151"}},radar:{indicator:l.indicators.map(r=>({name:r.name,max:r.max,min:r.min||0})),shape:s.shape,splitNumber:s.splitNumber,center:[`${s.centerX}%`,`${s.centerY}%`],radius:`${s.radius}%`,splitArea:{show:s.showGrid,areaStyle:{color:["rgba(59, 130, 246, 0.05)","rgba(59, 130, 246, 0.1)","rgba(59, 130, 246, 0.05)","rgba(59, 130, 246, 0.1)","rgba(59, 130, 246, 0.05)"]}},splitLine:{show:s.showGrid,lineStyle:{color:"#E5E7EB",width:1}},axisLine:{show:s.showGrid,lineStyle:{color:"#9CA3AF"}}},series:[{name:"Performance Comparison",type:"radar",data:l.datasets.map(r=>({value:r.data,name:r.name,itemStyle:{color:r.color},lineStyle:{color:r.color,width:2},areaStyle:r.areaStyle?{color:r.color+"20"}:void 0,emphasis:{lineStyle:{width:3},areaStyle:r.areaStyle?{color:r.color+"40"}:void 0}})),animationDuration:1e3,animationEasing:"cubicOut"}],backgroundColor:"#FEFEFE"}}catch(r){return console.error("Error generating radar chart option:",r),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),j=u.useCallback((r,t,c)=>{try{p(i=>({...i,indicators:i.indicators.map((d,g)=>{if(g===r){const b={...d,[t]:c};return(t==="max"||t==="min")&&(b[t]=Math.max(0,parseFloat(c)||0)),b}return d})}))}catch(i){console.error("Error updating indicator:",i)}},[]),y=u.useCallback(()=>{try{p(r=>({...r,indicators:[...r.indicators,{name:`Indicator ${r.indicators.length+1}`,max:100,min:0}],datasets:r.datasets.map(t=>({...t,data:[...t.data,50]}))}))}catch(r){console.error("Error adding indicator:",r)}},[]),C=u.useCallback(r=>{try{l.indicators.length>3&&p(t=>({...t,indicators:t.indicators.filter((c,i)=>i!==r),datasets:t.datasets.map(c=>({...c,data:c.data.filter((i,d)=>d!==r)}))}))}catch(t){console.error("Error removing indicator:",t)}},[l.indicators.length]),h=u.useCallback((r,t,c)=>{try{p(i=>({...i,datasets:i.datasets.map((d,g)=>g===r?{...d,[t]:c}:d)}))}catch(i){console.error("Error updating dataset:",i)}},[]),m=u.useCallback((r,t,c)=>{try{const i=parseFloat(c)||0;p(d=>({...d,datasets:d.datasets.map((g,b)=>b===r?{...g,data:g.data.map((v,N)=>N===t?i:v)}:g)}))}catch(i){console.error("Error updating dataset value:",i)}},[]),n=u.useCallback(()=>{try{const r=l.datasets.length,t=f[r%f.length];p(c=>({...c,datasets:[...c.datasets,{name:`Dataset ${r+1}`,data:new Array(c.indicators.length).fill(50),color:t,areaStyle:!1}]}))}catch(r){console.error("Error adding dataset:",r)}},[l.datasets.length,l.indicators.length]),a=u.useCallback(r=>{try{l.datasets.length>1&&p(t=>({...t,datasets:t.datasets.filter((c,i)=>i!==r)}))}catch(t){console.error("Error removing dataset:",t)}},[l.datasets.length]),o=u.useCallback(()=>{try{const r={type:"radar-chart",data:l,options:s,generatedAt:new Date().toISOString()},t=JSON.stringify(r,null,2),c=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(c),d=document.createElement("a");d.href=i,d.download=`radar-chart-${Date.now()}.json`,d.click(),URL.revokeObjectURL(i)}catch(r){console.error("Error exporting chart:",r),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Radar Chart Builder"}),e.jsx("p",{children:"Create professional radar charts for multi-dimensional data analysis with customizable indicators and datasets"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},className:"chart-grid-container",children:[e.jsxs("div",{className:"input-section",children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"chart-title",style:{display:"block",marginBottom:"0.5rem"},children:"Chart Title"}),e.jsx("input",{id:"chart-title",type:"text",value:l.title,onChange:r=>p(t=>({...t,title:r.target.value})),placeholder:"Enter chart title",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:r=>r.target.style.borderColor="var(--accent-color)",onBlur:r=>r.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"radar-shape",style:{display:"block",marginBottom:"0.5rem"},children:"Radar Shape"}),e.jsxs("select",{id:"radar-shape",value:s.shape,onChange:r=>x(t=>({...t,shape:r.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",appearance:"none"},children:[e.jsx("option",{value:"polygon",children:"Polygon"}),e.jsx("option",{value:"circle",children:"Circle"})]})]}),e.jsx("div",{children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",paddingTop:"1rem"},children:[e.jsx("input",{type:"checkbox",checked:s.showGrid,onChange:r=>x(t=>({...t,showGrid:r.target.checked}))}),"Show Grid Lines"]})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"split-number",style:{display:"block",marginBottom:"0.5rem"},children:["Split Number: ",s.splitNumber]}),e.jsx("input",{id:"split-number",type:"range",min:"3",max:"10",value:s.splitNumber,onChange:r=>x(t=>({...t,splitNumber:parseInt(r.target.value)})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)"}})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"radius",style:{display:"block",marginBottom:"0.5rem"},children:["Radius: ",s.radius,"%"]}),e.jsx("input",{id:"radius",type:"range",min:"30",max:"90",value:s.radius,onChange:r=>x(t=>({...t,radius:parseInt(r.target.value)})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)"}})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0"},children:"Indicators"}),e.jsxs("button",{onClick:y,style:{padding:"0.5rem 1rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(z,{size:16}),"Add Indicator"]})]}),e.jsx("div",{style:{maxHeight:"180px",overflowY:"auto"},children:l.indicators.map((r,t)=>e.jsxs("div",{style:{border:"2px solid var(--border-color)",borderRadius:"12px",padding:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsxs("span",{style:{fontSize:"0.9rem",fontWeight:"600"},children:["Indicator ",t+1]}),l.indicators.length>3&&e.jsx("button",{onClick:()=>C(t),style:{background:"transparent",color:"var(--error-color)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem"},children:e.jsx(F,{size:14})})]}),e.jsxs("div",{style:{display:"grid",gap:"0.5rem"},children:[e.jsx("input",{type:"text",value:r.name,onChange:c=>j(t,"name",c.target.value),placeholder:"Indicator name",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",fontSize:"0.9rem"}}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[e.jsx("input",{type:"number",value:r.min||0,onChange:c=>j(t,"min",c.target.value),placeholder:"Min",min:"0",style:{padding:"0.75rem",borderRadius:"8px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",fontSize:"0.9rem"}}),e.jsx("input",{type:"number",value:r.max,onChange:c=>j(t,"max",c.target.value),placeholder:"Max",min:"1",style:{padding:"0.75rem",borderRadius:"8px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",fontSize:"0.9rem"}})]})]})]},t))})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0"},children:"Datasets"}),e.jsxs("button",{onClick:n,style:{padding:"0.5rem 1rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(z,{size:16}),"Add Dataset"]})]}),e.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:l.datasets.map((r,t)=>e.jsxs("div",{style:{border:"2px solid var(--border-color)",borderRadius:"12px",padding:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("input",{type:"text",value:r.name,onChange:c=>h(t,"name",c.target.value),placeholder:"Dataset name",style:{border:"none",background:"transparent",fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)",outline:"none",flex:1}}),l.datasets.length>1&&e.jsx("button",{onClick:()=>a(t),style:{background:"transparent",color:"var(--error-color)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem"},children:e.jsx(F,{size:14})})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"color",value:r.color,onChange:c=>h(t,"color",c.target.value),style:{width:"40px",height:"30px",border:"2px solid var(--border-color)",borderRadius:"6px",cursor:"pointer"}}),e.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Color"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:r.areaStyle,onChange:c=>h(t,"areaStyle",c.target.checked)}),"Area Fill"]})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"0.9rem",fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"Data Values"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",maxHeight:"120px",overflowY:"auto"},children:r.data.map((c,i)=>{var d;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)",minWidth:"60px",overflow:"hidden",textOverflow:"ellipsis"},children:[(d=l.indicators[i])==null?void 0:d.name,":"]}),e.jsx("input",{type:"number",value:c,onChange:g=>m(t,i,g.target.value),min:"0",step:"0.1",style:{width:"60px",padding:"0.25rem",borderRadius:"4px",border:"1px solid var(--border-color)",background:"var(--bg-tertiary)",fontSize:"0.8rem"}})]},i)})})]})]},t))})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:e.jsxs("button",{onClick:o,style:{padding:"1rem 2rem",background:"linear-gradient(135deg, var(--accent-color) 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[e.jsx(L,{size:20}),"Export Chart"]})})]}),e.jsxs("div",{className:"output-section",children:[e.jsx("label",{children:"Chart Preview"}),e.jsx("div",{style:{background:"white",border:"2px dashed var(--border-color)",borderRadius:"16px",padding:"2rem",marginBottom:"1.5rem",minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(R,{option:w(),height:400,className:"w-full",onError:r=>{console.error("Radar chart rendering error:",r)}})})]})]})]})})},be=({className:S=""})=>{const[l,p]=u.useState({title:"Correlation Heatmap",xAxisLabels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],yAxisLabels:["Week 1","Week 2","Week 3","Week 4","Week 5"],data:[{x:0,y:0,value:10},{x:1,y:0,value:15},{x:2,y:0,value:20},{x:3,y:0,value:25},{x:4,y:0,value:30},{x:5,y:0,value:8},{x:6,y:0,value:5},{x:0,y:1,value:12},{x:1,y:1,value:18},{x:2,y:1,value:22},{x:3,y:1,value:28},{x:4,y:1,value:32},{x:5,y:1,value:10},{x:6,y:1,value:7},{x:0,y:2,value:14},{x:1,y:2,value:20},{x:2,y:2,value:24},{x:3,y:2,value:30},{x:4,y:2,value:35},{x:5,y:2,value:12},{x:6,y:2,value:9},{x:0,y:3,value:16},{x:1,y:3,value:22},{x:2,y:3,value:26},{x:3,y:3,value:32},{x:4,y:3,value:38},{x:5,y:3,value:14},{x:6,y:3,value:11},{x:0,y:4,value:18},{x:1,y:4,value:24},{x:2,y:4,value:28},{x:3,y:4,value:34},{x:4,y:4,value:40},{x:5,y:4,value:16},{x:6,y:4,value:13}],xAxisLabel:"Days",yAxisLabel:"Weeks"}),[s,x]=u.useState({colorScheme:"Blues",showLabels:!0,showGrid:!0,cellBorderWidth:1,minOpacity:.1,maxOpacity:1}),[f,w]=u.useState(l.xAxisLabels.join(", ")),[j,y]=u.useState(l.yAxisLabels.join(", ")),C={Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Viridis:["#440154","#482878","#3e4989","#31688e","#26828e","#1f9e89","#35b779","#6ece58","#b5de2b"]},h=u.useCallback(()=>{try{const i=Math.max(...l.data.map(b=>b.value)),d=Math.min(...l.data.map(b=>b.value)),g=C[s.colorScheme];return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",formatter:b=>{try{const[v,N,k]=b.value,E=l.xAxisLabels[v]||`X${v}`,D=l.yAxisLabels[N]||`Y${N}`;return`${E}  ${D}<br/>Value: ${k}`}catch{return`Value: ${b.value[2]}`}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},grid:{left:"3%",right:"15%",bottom:"3%",top:"15%",containLabel:!0},xAxis:{type:"category",data:l.xAxisLabels,name:l.xAxisLabel,nameLocation:"middle",nameGap:30,splitArea:{show:s.showGrid},axisLine:{lineStyle:{color:"#6B7280"}}},yAxis:{type:"category",data:l.yAxisLabels,name:l.yAxisLabel,nameLocation:"middle",nameGap:50,splitArea:{show:s.showGrid},axisLine:{lineStyle:{color:"#6B7280"}}},visualMap:{min:d,max:i,calculable:!0,orient:"vertical",right:"5%",top:"middle",inRange:{color:g},textStyle:{color:"#374151"}},series:[{name:"Heatmap",type:"heatmap",data:l.data.map(b=>[b.x,b.y,b.value]),label:{show:s.showLabels,color:"#374151",fontSize:10},itemStyle:{borderColor:"#ffffff",borderWidth:s.cellBorderWidth},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationDuration:1e3,animationEasing:"cubicOut"}],backgroundColor:"#FEFEFE"}}catch(i){return console.error("Error generating heatmap chart option:",i),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),m=u.useCallback(i=>{try{w(i);const d=i.split(",").map(g=>g.trim()).filter(g=>g);d.length>0&&p(g=>({...g,xAxisLabels:d}))}catch(d){console.error("Error updating X labels:",d)}},[]),n=u.useCallback(i=>{try{y(i);const d=i.split(",").map(g=>g.trim()).filter(g=>g);d.length>0&&p(g=>({...g,yAxisLabels:d}))}catch(d){console.error("Error updating Y labels:",d)}},[]),a=u.useCallback((i,d,g)=>{try{const b=d==="value"?parseFloat(g)||0:parseInt(g)||0;p(v=>({...v,data:v.data.map((N,k)=>k===i?{...N,[d]:b}:N)}))}catch(b){console.error("Error updating data point:",b)}},[]),o=u.useCallback(()=>{try{p(i=>({...i,data:[...i.data,{x:0,y:0,value:0}]}))}catch(i){console.error("Error adding data point:",i)}},[]),r=u.useCallback(i=>{try{l.data.length>1&&p(d=>({...d,data:d.data.filter((g,b)=>b!==i)}))}catch(d){console.error("Error removing data point:",d)}},[l.data.length]),t=u.useCallback(()=>{try{const i=[];for(let d=0;d<l.xAxisLabels.length;d++)for(let g=0;g<l.yAxisLabels.length;g++)i.push({x:d,y:g,value:Math.floor(Math.random()*50)+1});p(d=>({...d,data:i}))}catch(i){console.error("Error generating random data:",i)}},[l.xAxisLabels.length,l.yAxisLabels.length]),c=u.useCallback(()=>{try{const i={type:"heatmap-chart",data:l,options:s,generatedAt:new Date().toISOString()},d=JSON.stringify(i,null,2),g=new Blob([d],{type:"application/json"}),b=URL.createObjectURL(g),v=document.createElement("a");v.href=b,v.download=`heatmap-chart-${Date.now()}.json`,v.click(),URL.revokeObjectURL(b)}catch(i){console.error("Error exporting chart:",i),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Heatmap Chart Builder"}),e.jsx("p",{children:"Create professional heatmaps to visualize data density and correlations with customizable color schemes"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},className:"chart-grid-container",children:[e.jsxs("div",{className:"input-section",children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"chart-title",style:{display:"block",marginBottom:"0.5rem"},children:"Chart Title"}),e.jsx("input",{id:"chart-title",type:"text",value:l.title,onChange:i=>p(d=>({...d,title:i.target.value})),placeholder:"Enter chart title",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:i=>i.target.style.borderColor="var(--accent-color)",onBlur:i=>i.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"x-labels",style:{display:"block",marginBottom:"0.5rem"},children:"X-Axis Labels (comma-separated)"}),e.jsx("textarea",{id:"x-labels",value:f,onChange:i=>m(i.target.value),placeholder:"Mon, Tue, Wed, Thu, Fri",rows:2,style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease",resize:"vertical"},onFocus:i=>i.target.style.borderColor="var(--accent-color)",onBlur:i=>i.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"y-labels",style:{display:"block",marginBottom:"0.5rem"},children:"Y-Axis Labels (comma-separated)"}),e.jsx("textarea",{id:"y-labels",value:j,onChange:i=>n(i.target.value),placeholder:"Week 1, Week 2, Week 3",rows:2,style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease",resize:"vertical"},onFocus:i=>i.target.style.borderColor="var(--accent-color)",onBlur:i=>i.target.style.borderColor="var(--border-color)"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"x-axis-label",style:{display:"block",marginBottom:"0.5rem"},children:"X-Axis Label"}),e.jsx("input",{id:"x-axis-label",type:"text",value:l.xAxisLabel,onChange:i=>p(d=>({...d,xAxisLabel:i.target.value})),placeholder:"X-axis label",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"y-axis-label",style:{display:"block",marginBottom:"0.5rem"},children:"Y-Axis Label"}),e.jsx("input",{id:"y-axis-label",type:"text",value:l.yAxisLabel,onChange:i=>p(d=>({...d,yAxisLabel:i.target.value})),placeholder:"Y-axis label",style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"color-scheme",style:{display:"block",marginBottom:"0.5rem"},children:"Color Scheme"}),e.jsxs("select",{id:"color-scheme",value:s.colorScheme,onChange:i=>x(d=>({...d,colorScheme:i.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",appearance:"none"},children:[e.jsx("option",{value:"Blues",children:"Blues"}),e.jsx("option",{value:"Reds",children:"Reds"}),e.jsx("option",{value:"Greens",children:"Greens"}),e.jsx("option",{value:"Purples",children:"Purples"}),e.jsx("option",{value:"Oranges",children:"Oranges"}),e.jsx("option",{value:"Viridis",children:"Viridis"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"border-width",style:{display:"block",marginBottom:"0.5rem"},children:["Border Width: ",s.cellBorderWidth,"px"]}),e.jsx("input",{id:"border-width",type:"range",min:"0",max:"5",value:s.cellBorderWidth,onChange:i=>x(d=>({...d,cellBorderWidth:parseInt(i.target.value)})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)"}})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Display Options"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.showLabels,onChange:i=>x(d=>({...d,showLabels:i.target.checked}))}),"Show Value Labels"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[e.jsx("input",{type:"checkbox",checked:s.showGrid,onChange:i=>x(d=>({...d,showGrid:i.target.checked}))}),"Show Grid"]})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0"},children:"Data Points"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{onClick:t,style:{padding:"0.5rem 1rem",background:"var(--text-muted)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",cursor:"pointer"},children:"Random"}),e.jsxs("button",{onClick:o,style:{padding:"0.5rem 1rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(z,{size:16}),"Add"]})]})]}),e.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:l.data.map((i,d)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"8px",background:"var(--bg-tertiary)"},children:[e.jsx("input",{type:"number",value:i.x,onChange:g=>a(d,"x",g.target.value),placeholder:"X",min:"0",style:{width:"50px",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"white",fontSize:"0.8rem"}}),e.jsx("input",{type:"number",value:i.y,onChange:g=>a(d,"y",g.target.value),placeholder:"Y",min:"0",style:{width:"50px",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"white",fontSize:"0.8rem"}}),e.jsx("input",{type:"number",value:i.value,onChange:g=>a(d,"value",g.target.value),placeholder:"Value",step:"0.1",style:{width:"70px",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"white",fontSize:"0.8rem",flex:1}}),l.data.length>1&&e.jsx("button",{onClick:()=>r(d),style:{background:"transparent",color:"var(--error-color)",border:"none",cursor:"pointer"},children:e.jsx(F,{size:14})})]},d))})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:e.jsxs("button",{onClick:c,style:{padding:"1rem 2rem",background:"linear-gradient(135deg, var(--accent-color) 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[e.jsx(L,{size:20}),"Export Chart"]})})]}),e.jsxs("div",{className:"output-section",children:[e.jsx("label",{children:"Chart Preview"}),e.jsx("div",{style:{background:"white",border:"2px dashed var(--border-color)",borderRadius:"16px",padding:"2rem",marginBottom:"1.5rem",minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(R,{option:h(),height:400,className:"w-full",onError:i=>{console.error("Heatmap chart rendering error:",i)}})})]})]})]})})},ye=({className:S=""})=>{const[l,p]=u.useState({title:"KPI Dashboard",gauges:[{name:"Performance",value:85},{name:"Quality",value:92},{name:"Efficiency",value:78}],min:0,max:100,unit:"%"}),[s,x]=u.useState({showProgress:!0,showPointer:!0,showTitle:!0,showDetail:!0,splitNumber:10,gaugeSize:75,colorScheme:"gradient",primaryColor:"#3B82F6",secondaryColor:"#10B981",backgroundColor:"#F8FAFC"}),f=u.useCallback(()=>{try{const m=()=>{switch(s.colorScheme){case"gradient":return[[.2,"#ff4d4f"],[.4,"#ff7a45"],[.6,"#ffa940"],[.8,"#52c41a"],[1,"#1890ff"]];case"segments":return[[.2,"#EF4444"],[.4,"#F59E0B"],[.6,"#EAB308"],[.8,"#22C55E"],[1,"#3B82F6"]];case"solid":return s.primaryColor;default:return s.primaryColor}},n=s.gaugeSize,a=l.gauges.length,o=Math.ceil(Math.sqrt(a)),r=Math.ceil(a/o);return{title:{text:l.title,left:"center",top:20,textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},series:l.gauges.map((t,c)=>{const i=c%o,d=Math.floor(c/o),g=100/o*(i+.5),b=100/r*(d+.5);return{name:t.name,type:"gauge",center:[`${g}%`,`${b}%`],radius:`${n/Math.max(o,r)}%`,min:l.min,max:l.max,splitNumber:s.splitNumber,axisLine:{lineStyle:{color:m(),width:8}},axisLabel:{distance:25,color:"#374151",fontSize:10,formatter:v=>`${v}${l.unit}`},axisTick:{distance:-8,splitNumber:5,lineStyle:{color:"#6B7280",width:1}},splitLine:{distance:-15,lineStyle:{color:"#6B7280",width:2}},pointer:{show:s.showPointer,length:"75%",width:3,itemStyle:{color:"#374151"}},progress:{show:s.showProgress,overlap:!1,roundCap:!0,clip:!1},title:{show:s.showTitle,offsetCenter:[0,"85%"],fontSize:12,color:"#374151",fontWeight:"bold"},detail:{show:s.showDetail,offsetCenter:[0,"95%"],valueAnimation:!0,fontSize:14,color:s.primaryColor,fontWeight:"bold",formatter:v=>`${v}${l.unit}`},data:[{value:t.value,name:t.name,title:{show:s.showTitle},detail:{show:s.showDetail}}],animationDuration:2e3,animationEasing:"elasticOut"}}),backgroundColor:s.backgroundColor}}catch(m){return console.error("Error generating gauge chart option:",m),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),w=u.useCallback((m,n,a)=>{try{p(o=>({...o,gauges:o.gauges.map((r,t)=>{if(t===m){const c={...r,[n]:a};return n==="value"&&(c.value=Math.max(o.min,Math.min(o.max,parseFloat(a)||0))),c}return r})}))}catch(o){console.error("Error updating gauge:",o)}},[]),j=u.useCallback(()=>{try{p(m=>({...m,gauges:[...m.gauges,{name:`Metric ${m.gauges.length+1}`,value:50}]}))}catch(m){console.error("Error adding gauge:",m)}},[]),y=u.useCallback(m=>{try{l.gauges.length>1&&p(n=>({...n,gauges:n.gauges.filter((a,o)=>o!==m)}))}catch(n){console.error("Error removing gauge:",n)}},[l.gauges.length]),C=u.useCallback(()=>{try{p(m=>({...m,gauges:m.gauges.map(n=>({...n,value:Math.floor(Math.random()*(m.max-m.min)+m.min)}))}))}catch(m){console.error("Error generating random values:",m)}},[]),h=u.useCallback(()=>{try{const m={type:"gauge-chart",data:l,options:s,generatedAt:new Date().toISOString()},n=JSON.stringify(m,null,2),a=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download=`gauge-chart-${Date.now()}.json`,r.click(),URL.revokeObjectURL(o)}catch(m){console.error("Error exporting chart:",m),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:`gauge-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{className:"w-6 h-6 text-blue-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Gauge Chart Builder"})]}),e.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:f(),height:400,className:"w-full",onError:m=>{console.error("Gauge chart rendering error:",m)}})})}),e.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Chart Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:m=>p(n=>({...n,title:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter chart title"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Value"}),e.jsx("input",{type:"number",value:l.min,onChange:m=>p(n=>({...n,min:parseFloat(m.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Value"}),e.jsx("input",{type:"number",value:l.max,onChange:m=>p(n=>({...n,max:parseFloat(m.target.value)||100})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),e.jsx("input",{type:"text",value:l.unit,onChange:m=>p(n=>({...n,unit:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., %, $, units"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Scheme"}),e.jsxs("select",{value:s.colorScheme,onChange:m=>x(n=>({...n,colorScheme:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"gradient",children:"Gradient"}),e.jsx("option",{value:"segments",children:"Segments"}),e.jsx("option",{value:"solid",children:"Solid"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gauge Size: ",s.gaugeSize,"%"]}),e.jsx("input",{type:"range",min:"40",max:"90",value:s.gaugeSize,onChange:m=>x(n=>({...n,gaugeSize:parseInt(m.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Split Number: ",s.splitNumber]}),e.jsx("input",{type:"range",min:"5",max:"20",value:s.splitNumber,onChange:m=>x(n=>({...n,splitNumber:parseInt(m.target.value)})),className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showProgress,onChange:m=>x(n=>({...n,showProgress:m.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Progress"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showPointer,onChange:m=>x(n=>({...n,showPointer:m.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Pointer"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showTitle,onChange:m=>x(n=>({...n,showTitle:m.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Titles"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showDetail,onChange:m=>x(n=>({...n,showDetail:m.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Values"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium",children:"Metrics"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:C,className:"px-3 py-1 bg-gray-500 text-white text-sm rounded hover:bg-gray-600 transition-colors",children:"Random"}),e.jsxs("button",{onClick:j,className:"flex items-center space-x-1 px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:"Add"})]})]})]}),e.jsx("div",{className:"space-y-3",children:l.gauges.map((m,n)=>e.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Metric ",n+1]}),l.gauges.length>1&&e.jsx("button",{onClick:()=>y(n),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:m.name,onChange:a=>w(n,"name",a.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Metric name"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:m.value,onChange:a=>w(n,"value",a.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:l.min,max:l.max,step:"0.1"}),e.jsx("span",{className:"text-xs text-gray-500",children:l.unit})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(m.value-l.min)/(l.max-l.min)*100}%`}})})]})]},n))})]})]})]})]})})},fe=({className:S=""})=>{const[l,p]=u.useState({title:"Sales Conversion Funnel",data:[{name:"Website Visitors",value:1e4},{name:"Product Views",value:5e3},{name:"Add to Cart",value:2500},{name:"Checkout Started",value:1e3},{name:"Payment Completed",value:750},{name:"Order Confirmed",value:600}],unit:"users"}),[s,x]=u.useState({sort:"descending",gap:2,showLabels:!0,showPercentage:!0,labelPosition:"inside",colorScheme:"gradient",funnelAlign:"center",width:80,height:80}),f={gradient:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452"],sequential:["#1890ff","#1473cc","#0d5da6","#074480","#032d5a","#001729"],custom:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD"]},w=u.useCallback(()=>{try{const n=[...l.data];s.sort==="descending"?n.sort((r,t)=>t.value-r.value):s.sort==="ascending"&&n.sort((r,t)=>r.value-t.value);const a=Math.max(...n.map(r=>r.value)),o=f[s.colorScheme];return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",formatter:r=>{try{const t=(r.value/a*100).toFixed(1),c=r.dataIndex>0?n[r.dataIndex-1].value:r.value,i=r.dataIndex>0?(r.value/c*100).toFixed(1):"100.0";return`
                <div style="text-align: left;">
                  <strong>${r.name}</strong><br/>
                  Value: ${r.value.toLocaleString()} ${l.unit}<br/>
                  Percentage: ${t}%<br/>
                  ${r.dataIndex>0?`Conversion: ${i}%`:""}
                </div>
              `}catch{return`${r.name}: ${r.value} ${l.unit}`}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},legend:{orient:"vertical",right:10,top:"middle",textStyle:{color:"#374151"}},series:[{name:"Funnel",type:"funnel",left:"10%",top:"15%",width:`${s.width}%`,height:`${s.height}%`,funnelAlign:s.funnelAlign,gap:s.gap,data:n.map((r,t)=>({value:r.value,name:r.name,itemStyle:{color:o[t%o.length]}})),label:{show:s.showLabels,position:s.labelPosition,formatter:r=>{try{if(s.showPercentage){const t=(r.value/a*100).toFixed(1);return`${r.name}\\n${r.value.toLocaleString()} (${t}%)`}return`${r.name}\\n${r.value.toLocaleString()}`}catch{return r.name}},fontSize:12,color:s.labelPosition==="inside"?"white":"#374151",fontWeight:"bold"},labelLine:{show:s.labelPosition==="outside",length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#ffffff",borderWidth:1,opacity:.9},emphasis:{itemStyle:{opacity:1,shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationDuration:1500,animationEasing:"cubicOut"}],backgroundColor:"#FEFEFE"}}catch(n){return console.error("Error generating funnel chart option:",n),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),j=u.useCallback((n,a,o)=>{try{p(r=>({...r,data:r.data.map((t,c)=>{if(c===n){const i={...t,[a]:o};return a==="value"&&(i.value=Math.max(0,parseFloat(o)||0)),i}return t})}))}catch(r){console.error("Error updating data item:",r)}},[]),y=u.useCallback(()=>{try{p(n=>({...n,data:[...n.data,{name:`Stage ${n.data.length+1}`,value:100}]}))}catch(n){console.error("Error adding data item:",n)}},[]),C=u.useCallback(n=>{try{l.data.length>2&&p(a=>({...a,data:a.data.filter((o,r)=>r!==n)}))}catch(a){console.error("Error removing data item:",a)}},[l.data.length]),h=u.useCallback(n=>{try{p({sales:{title:"Sales Pipeline",data:[{name:"Leads Generated",value:1e3},{name:"Qualified Leads",value:500},{name:"Proposals Sent",value:200},{name:"Negotiations",value:100},{name:"Closed Deals",value:50}],unit:"leads"},marketing:{title:"Marketing Funnel",data:[{name:"Ad Impressions",value:5e4},{name:"Ad Clicks",value:2500},{name:"Landing Page Views",value:2e3},{name:"Sign-ups",value:400},{name:"Paying Customers",value:80}],unit:"users"},ecommerce:{title:"E-commerce Funnel",data:[{name:"Store Visits",value:2e4},{name:"Product Views",value:8e3},{name:"Add to Cart",value:3e3},{name:"Checkout",value:1500},{name:"Purchase",value:1200}],unit:"sessions"}}[n])}catch(a){console.error("Error generating sample data:",a)}},[]),m=u.useCallback(()=>{try{const n={type:"funnel-chart",data:l,options:s,generatedAt:new Date().toISOString()},a=JSON.stringify(n,null,2),o=new Blob([a],{type:"application/json"}),r=URL.createObjectURL(o),t=document.createElement("a");t.href=r,t.download=`funnel-chart-${Date.now()}.json`,t.click(),URL.revokeObjectURL(r)}catch(n){console.error("Error exporting chart:",n),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:`funnel-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($,{className:"w-6 h-6 text-purple-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Funnel Chart Builder"})]}),e.jsxs("button",{onClick:m,className:"flex items-center space-x-2 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:w(),height:400,className:"w-full",onError:n=>{console.error("Funnel chart rendering error:",n)}})})}),e.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Chart Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:n=>p(a=>({...a,title:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"Enter chart title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),e.jsx("input",{type:"text",value:l.unit,onChange:n=>p(a=>({...a,unit:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"e.g., users, leads, sessions"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),e.jsxs("select",{value:s.sort,onChange:n=>x(a=>({...a,sort:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",children:[e.jsx("option",{value:"descending",children:"Descending"}),e.jsx("option",{value:"ascending",children:"Ascending"}),e.jsx("option",{value:"none",children:"Custom Order"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Scheme"}),e.jsxs("select",{value:s.colorScheme,onChange:n=>x(a=>({...a,colorScheme:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",children:[e.jsx("option",{value:"gradient",children:"Gradient"}),e.jsx("option",{value:"sequential",children:"Sequential"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alignment"}),e.jsxs("select",{value:s.funnelAlign,onChange:n=>x(a=>({...a,funnelAlign:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label Position"}),e.jsxs("select",{value:s.labelPosition,onChange:n=>x(a=>({...a,labelPosition:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",children:[e.jsx("option",{value:"inside",children:"Inside"}),e.jsx("option",{value:"outside",children:"Outside"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gap: ",s.gap,"px"]}),e.jsx("input",{type:"range",min:"0",max:"10",value:s.gap,onChange:n=>x(a=>({...a,gap:parseInt(n.target.value)})),className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showLabels,onChange:n=>x(a=>({...a,showLabels:n.target.checked})),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Labels"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showPercentage,onChange:n=>x(a=>({...a,showPercentage:n.target.checked})),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Percentages"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Quick Templates"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>h("sales"),className:"w-full px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:"Sales Pipeline"}),e.jsx("button",{onClick:()=>h("marketing"),className:"w-full px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-colors",children:"Marketing Funnel"}),e.jsx("button",{onClick:()=>h("ecommerce"),className:"w-full px-3 py-2 bg-orange-500 text-white text-sm rounded hover:bg-orange-600 transition-colors",children:"E-commerce Funnel"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium",children:"Funnel Stages"}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-1 px-3 py-1 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:"Add Stage"})]})]}),e.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:l.data.map((n,a)=>e.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Stage ",a+1]}),l.data.length>2&&e.jsx("button",{onClick:()=>C(a),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:n.name,onChange:o=>j(a,"name",o.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-purple-500",placeholder:"Stage name"}),e.jsx("input",{type:"number",value:n.value,onChange:o=>j(a,"value",o.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-purple-500",placeholder:"Value",min:"0",step:"1"}),a>0&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Conversion: ",(n.value/l.data[a-1].value*100).toFixed(1),"%"]})]})]},a))})]})]})]})]})})},ve=({className:S=""})=>{const[l,p]=u.useState({title:"Energy Flow Diagram",nodes:[{name:"Coal",id:"coal",itemStyle:{color:"#8B4513"}},{name:"Natural Gas",id:"gas",itemStyle:{color:"#4169E1"}},{name:"Nuclear",id:"nuclear",itemStyle:{color:"#FFD700"}},{name:"Renewables",id:"renewables",itemStyle:{color:"#32CD32"}},{name:"Electricity",id:"electricity",itemStyle:{color:"#FF6347"}},{name:"Industry",id:"industry",itemStyle:{color:"#708090"}},{name:"Residential",id:"residential",itemStyle:{color:"#20B2AA"}},{name:"Transportation",id:"transport",itemStyle:{color:"#FF69B4"}}],links:[{source:"coal",target:"electricity",value:35},{source:"gas",target:"electricity",value:25},{source:"nuclear",target:"electricity",value:20},{source:"renewables",target:"electricity",value:20},{source:"electricity",target:"industry",value:40},{source:"electricity",target:"residential",value:35},{source:"electricity",target:"transport",value:25},{source:"gas",target:"industry",value:15},{source:"gas",target:"residential",value:10}]}),[s,x]=u.useState({layout:"horizontal",nodeWidth:20,nodeGap:8,layoutIterations:32,showLabels:!0,labelPosition:"right",linkCurvature:.5,colorScheme:"default"}),f={default:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4"],gradient:["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7"],category:["#ff7f50","#87ceeb","#da70d6","#32cd32","#ffd700","#ff69b4","#ba55d3","#cd5c5c"]},w=u.useCallback(()=>{try{const r=l.nodes.map((t,c)=>{var i;return{...t,itemStyle:{color:s.colorScheme==="default"?((i=t.itemStyle)==null?void 0:i.color)||f.default[c%f.default.length]:f[s.colorScheme][c%f[s.colorScheme].length]}}});return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",triggerOn:"mousemove",formatter:t=>{try{return t.dataType==="node"?`<strong>${t.name}</strong><br/>
                        Node Value: ${t.value||"N/A"}`:t.dataType==="edge"?`<strong>${t.data.source}</strong>  <strong>${t.data.target}</strong><br/>
                        Flow: ${t.data.value}`:t.name}catch{return t.name||"Unknown"}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},series:[{type:"sankey",data:r,links:l.links,orient:s.layout==="horizontal"?"horizontal":"vertical",nodeWidth:s.nodeWidth,nodeGap:s.nodeGap,layoutIterations:s.layoutIterations,focusNodeAdjacency:"allEdges",label:{show:s.showLabels,position:s.labelPosition,fontSize:12,fontWeight:"bold",color:"#374151"},lineStyle:{curveness:s.linkCurvature,opacity:.7},itemStyle:{borderWidth:1,borderColor:"#ffffff"},emphasis:{focus:"adjacency",lineStyle:{opacity:.8},itemStyle:{borderWidth:2,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.3)"}},animationDuration:1500,animationEasing:"cubicOut"}],backgroundColor:"#FEFEFE"}}catch(r){return console.error("Error generating sankey chart option:",r),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),j=u.useCallback((r,t,c)=>{try{p(i=>({...i,nodes:i.nodes.map((d,g)=>g===r?t==="itemStyle"&&typeof c=="string"?{...d,itemStyle:{color:c}}:{...d,[t]:c}:d)}))}catch(i){console.error("Error updating node:",i)}},[]),y=u.useCallback((r,t,c)=>{try{p(i=>({...i,links:i.links.map((d,g)=>{if(g===r){const b={...d,[t]:c};return t==="value"&&(b.value=Math.max(0,parseFloat(c)||0)),b}return d})}))}catch(i){console.error("Error updating link:",i)}},[]),C=u.useCallback(()=>{try{const r=`node_${Date.now()}`;p(t=>({...t,nodes:[...t.nodes,{name:`Node ${t.nodes.length+1}`,id:r,itemStyle:{color:f.default[t.nodes.length%f.default.length]}}]}))}catch(r){console.error("Error adding node:",r)}},[]),h=u.useCallback(r=>{try{const t=l.nodes[r];t&&l.nodes.length>2&&p(c=>({...c,nodes:c.nodes.filter((i,d)=>d!==r),links:c.links.filter(i=>i.source!==t.id&&i.target!==t.id)}))}catch(t){console.error("Error removing node:",t)}},[l.nodes]),m=u.useCallback(()=>{try{l.nodes.length>=2&&p(r=>({...r,links:[...r.links,{source:r.nodes[0].id,target:r.nodes[1].id,value:10}]}))}catch(r){console.error("Error adding link:",r)}},[l.nodes]),n=u.useCallback(r=>{try{l.links.length>1&&p(t=>({...t,links:t.links.filter((c,i)=>i!==r)}))}catch(t){console.error("Error removing link:",t)}},[l.links.length]),a=u.useCallback(r=>{try{p({energy:{title:"Energy Flow Diagram",nodes:[{name:"Coal",id:"coal",itemStyle:{color:"#8B4513"}},{name:"Natural Gas",id:"gas",itemStyle:{color:"#4169E1"}},{name:"Nuclear",id:"nuclear",itemStyle:{color:"#FFD700"}},{name:"Renewables",id:"renewables",itemStyle:{color:"#32CD32"}},{name:"Electricity",id:"electricity",itemStyle:{color:"#FF6347"}},{name:"Industry",id:"industry",itemStyle:{color:"#708090"}},{name:"Residential",id:"residential",itemStyle:{color:"#20B2AA"}},{name:"Transportation",id:"transport",itemStyle:{color:"#FF69B4"}}],links:[{source:"coal",target:"electricity",value:35},{source:"gas",target:"electricity",value:25},{source:"nuclear",target:"electricity",value:20},{source:"renewables",target:"electricity",value:20},{source:"electricity",target:"industry",value:40},{source:"electricity",target:"residential",value:35},{source:"electricity",target:"transport",value:25},{source:"gas",target:"industry",value:15},{source:"gas",target:"residential",value:10}]},website:{title:"Website Traffic Flow",nodes:[{name:"Google",id:"google",itemStyle:{color:"#4285F4"}},{name:"Facebook",id:"facebook",itemStyle:{color:"#1877F2"}},{name:"Direct",id:"direct",itemStyle:{color:"#34A853"}},{name:"Homepage",id:"homepage",itemStyle:{color:"#EA4335"}},{name:"Product Page",id:"product",itemStyle:{color:"#FBBC04"}},{name:"Checkout",id:"checkout",itemStyle:{color:"#9C27B0"}},{name:"Purchase",id:"purchase",itemStyle:{color:"#4CAF50"}}],links:[{source:"google",target:"homepage",value:500},{source:"facebook",target:"homepage",value:200},{source:"direct",target:"homepage",value:300},{source:"homepage",target:"product",value:600},{source:"product",target:"checkout",value:200},{source:"checkout",target:"purchase",value:150}]},budget:{title:"Budget Allocation Flow",nodes:[{name:"Revenue",id:"revenue",itemStyle:{color:"#2E7D32"}},{name:"Operating Costs",id:"operating",itemStyle:{color:"#F57C00"}},{name:"Marketing",id:"marketing",itemStyle:{color:"#7B1FA2"}},{name:"R&D",id:"rd",itemStyle:{color:"#1976D2"}},{name:"Profit",id:"profit",itemStyle:{color:"#388E3C"}},{name:"Taxes",id:"taxes",itemStyle:{color:"#D32F2F"}}],links:[{source:"revenue",target:"operating",value:400},{source:"revenue",target:"marketing",value:200},{source:"revenue",target:"rd",value:150},{source:"revenue",target:"profit",value:200},{source:"revenue",target:"taxes",value:50}]}}[r])}catch(t){console.error("Error generating sample data:",t)}},[]),o=u.useCallback(()=>{try{const r={type:"sankey-chart",data:l,options:s,generatedAt:new Date().toISOString()},t=JSON.stringify(r,null,2),c=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(c),d=document.createElement("a");d.href=i,d.download=`sankey-chart-${Date.now()}.json`,d.click(),URL.revokeObjectURL(i)}catch(r){console.error("Error exporting chart:",r),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:`sankey-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(T,{className:"w-6 h-6 text-blue-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Sankey Diagram Builder"})]}),e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:w(),height:500,className:"w-full",onError:r=>{console.error("Sankey chart rendering error:",r)}})})}),e.jsxs("div",{className:"space-y-4 max-h-[700px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Chart Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:r=>p(t=>({...t,title:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter chart title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Layout"}),e.jsxs("select",{value:s.layout,onChange:r=>x(t=>({...t,layout:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"horizontal",children:"Horizontal"}),e.jsx("option",{value:"vertical",children:"Vertical"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Scheme"}),e.jsxs("select",{value:s.colorScheme,onChange:r=>x(t=>({...t,colorScheme:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"default",children:"Default"}),e.jsx("option",{value:"gradient",children:"Gradient"}),e.jsx("option",{value:"category",children:"Category"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label Position"}),e.jsxs("select",{value:s.labelPosition,onChange:r=>x(t=>({...t,labelPosition:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"right",children:"Right"}),e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"top",children:"Top"}),e.jsx("option",{value:"bottom",children:"Bottom"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Node Width: ",s.nodeWidth,"px"]}),e.jsx("input",{type:"range",min:"10",max:"50",value:s.nodeWidth,onChange:r=>x(t=>({...t,nodeWidth:parseInt(r.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Node Gap: ",s.nodeGap,"px"]}),e.jsx("input",{type:"range",min:"2",max:"20",value:s.nodeGap,onChange:r=>x(t=>({...t,nodeGap:parseInt(r.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Link Curvature: ",s.linkCurvature]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.linkCurvature,onChange:r=>x(t=>({...t,linkCurvature:parseFloat(r.target.value)})),className:"w-full"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showLabels,onChange:r=>x(t=>({...t,showLabels:r.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Labels"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Quick Templates"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>a("energy"),className:"w-full px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-colors",children:"Energy Flow"}),e.jsx("button",{onClick:()=>a("website"),className:"w-full px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:"Website Traffic"}),e.jsx("button",{onClick:()=>a("budget"),className:"w-full px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 transition-colors",children:"Budget Allocation"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium",children:"Nodes"}),e.jsxs("button",{onClick:C,className:"flex items-center space-x-1 px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:"Add Node"})]})]}),e.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:l.nodes.map((r,t)=>{var c;return e.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Node ",t+1]}),l.nodes.length>2&&e.jsx("button",{onClick:()=>h(t),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:r.name,onChange:i=>j(t,"name",i.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Node name"}),e.jsx("input",{type:"text",value:r.id,onChange:i=>j(t,"id",i.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Node ID"}),e.jsx("input",{type:"color",value:((c=r.itemStyle)==null?void 0:c.color)||"#5470c6",onChange:i=>j(t,"itemStyle",i.target.value),className:"w-full h-8 rounded border border-gray-300"})]})]},r.id)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium",children:"Links"}),e.jsxs("button",{onClick:m,className:"flex items-center space-x-1 px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:"Add Link"})]})]}),e.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:l.links.map((r,t)=>e.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Link ",t+1]}),l.links.length>1&&e.jsx("button",{onClick:()=>n(t),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("select",{value:r.source,onChange:c=>y(t,"source",c.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:l.nodes.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))}),e.jsx("select",{value:r.target,onChange:c=>y(t,"target",c.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:l.nodes.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))}),e.jsx("input",{type:"number",value:r.value,onChange:c=>y(t,"value",c.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Flow value",min:"0",step:"1"})]})]},t))})]})]})]})]})})},je=({className:S=""})=>{const[l,p]=u.useState({title:"Stock Price Analysis",symbol:"AAPL",data:[{date:"2024-01-01",open:150,high:155,low:148,close:152,volume:1e6},{date:"2024-01-02",open:152,high:158,low:151,close:156,volume:12e5},{date:"2024-01-03",open:156,high:160,low:154,close:157,volume:8e5},{date:"2024-01-04",open:157,high:159,low:153,close:154,volume:9e5},{date:"2024-01-05",open:154,high:156,low:150,close:151,volume:11e5},{date:"2024-01-08",open:151,high:153,low:148,close:149,volume:13e5},{date:"2024-01-09",open:149,high:152,low:147,close:150,volume:1e6},{date:"2024-01-10",open:150,high:154,low:149,close:153,volume:95e4}]}),[s,x]=u.useState({showVolume:!0,colorScheme:"traditional",candleWidth:"auto",showGrid:!0,showMA:!1,maLength:20}),f={traditional:{up:"#00DA3C",down:"#EC0000",upBorder:"#008F28",downBorder:"#8A0000"},modern:{up:"#26C6DA",down:"#EF5350",upBorder:"#00ACC1",downBorder:"#E53935"},monochrome:{up:"#606060",down:"#303030",upBorder:"#404040",downBorder:"#202020"}},w=u.useCallback((a,o)=>{const r=[];for(let t=0;t<a.length;t++)if(t<o-1)r.push(NaN);else{const c=a.slice(t-o+1,t+1).reduce((i,d)=>i+d.close,0);r.push(c/o)}return r},[]),j=u.useCallback(()=>{try{const a=f[s.colorScheme],o=l.data.map(d=>d.date),r=l.data.map(d=>[d.open,d.close,d.low,d.high]),t=l.data.map(d=>d.volume||0),c=s.showMA?w(l.data,s.maLength):[],i=[{name:l.symbol,type:"candlestick",data:r,xAxisIndex:0,yAxisIndex:0,itemStyle:{color:a.up,color0:a.down,borderColor:a.upBorder,borderColor0:a.downBorder,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:s.candleWidth==="fixed"?10:void 0,animationDuration:1e3,animationEasing:"cubicOut"}];return s.showMA&&c.length>0&&i.push({name:`MA${s.maLength}`,type:"line",data:c,xAxisIndex:0,yAxisIndex:0,smooth:!0,lineStyle:{color:"#FF6B6B",width:2,opacity:.8},symbol:"none",animationDuration:1500}),s.showVolume&&i.push({name:"Volume",type:"bar",data:t,xAxisIndex:0,yAxisIndex:1,itemStyle:{color:d=>{const g=d.dataIndex;if(g<l.data.length){const b=l.data[g];return b.close>=b.open?a.up+"60":a.down+"60"}return a.up+"60"}},emphasis:{itemStyle:{opacity:.8}},animationDuration:800}),{title:{text:l.title,subtext:`Symbol: ${l.symbol}`,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"},subtextStyle:{color:"#64748B"}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:d=>{try{if(!d||d.length===0)return"";let b=`<strong>${d[0].axisValue}</strong><br/>`;return d.forEach(v=>{if(v.seriesName===l.symbol&&v.data){const[N,k,E,D]=v.data,A=((k-N)/N*100).toFixed(2),O=k>=N?a.up:a.down;b+=`
                    <div style="margin: 5px 0;">
                      <strong>${v.seriesName}</strong><br/>
                      Open: ${N}<br/>
                      High: ${D}<br/>
                      Low: ${E}<br/>
                      Close: ${k}<br/>
                      <span style="color: ${O}">Change: ${A}%</span>
                    </div>
                  `}else v.seriesName==="Volume"?b+=`Volume: ${v.data.toLocaleString()}<br/>`:v.seriesName.startsWith("MA")&&(b+=`${v.seriesName}: ${v.data.toFixed(2)}<br/>`)}),b}catch{return"Data unavailable"}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},legend:{data:[l.symbol,...s.showMA?[`MA${s.maLength}`]:[],...s.showVolume?["Volume"]:[]],top:40,textStyle:{color:"#374151"}},grid:[{id:"price",left:"3%",right:"4%",top:"15%",height:s.showVolume?"50%":"75%",show:s.showGrid,borderColor:"#E5E7EB"},...s.showVolume?[{id:"volume",left:"3%",right:"4%",top:"70%",height:"20%",show:s.showGrid,borderColor:"#E5E7EB"}]:[]],xAxis:[{type:"category",data:o,scale:!0,boundaryGap:!1,axisLine:{onZero:!1,lineStyle:{color:"#6B7280"}},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax"}],yAxis:[{scale:!0,splitArea:{show:s.showGrid},axisLine:{lineStyle:{color:"#6B7280"}},splitLine:{show:s.showGrid,lineStyle:{color:"#E5E7EB",type:"dashed"}}},...s.showVolume?[{scale:!0,gridIndex:1,splitNumber:2,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}}]:[]],dataZoom:[{type:"inside",xAxisIndex:[0],start:0,end:100},{show:!0,xAxisIndex:[0],type:"slider",top:"90%",start:0,end:100}],backgroundColor:"#FEFEFE"}}catch(a){return console.error("Error generating candlestick chart option:",a),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s,f,w]),y=u.useCallback((a,o,r)=>{try{p(t=>({...t,data:t.data.map((c,i)=>{if(i===a){const d={...c,[o]:r};if(o!=="date"){const g=parseFloat(r)||0;d[o]=g}return d}return c})}))}catch(t){console.error("Error updating data point:",t)}},[]),C=u.useCallback(()=>{try{const a=l.data[l.data.length-1],o=new Date(a.date);o.setDate(o.getDate()+1),p(r=>({...r,data:[...r.data,{date:o.toISOString().split("T")[0],open:a.close,high:a.close+5,low:a.close-5,close:a.close+Math.random()*10-5,volume:Math.floor(Math.random()*1e6)+5e5}]}))}catch(a){console.error("Error adding data point:",a)}},[l.data]),h=u.useCallback(a=>{try{l.data.length>2&&p(o=>({...o,data:o.data.filter((r,t)=>t!==a)}))}catch(o){console.error("Error removing data point:",o)}},[l.data.length]),m=u.useCallback(a=>{try{const o=new Date("2024-01-01"),r=[];let t=150;for(let c=0;c<30;c++){const i=new Date(o);i.setDate(i.getDate()+c);let d=0;a==="bullish"?d=Math.random()*2:a==="bearish"?d=-Math.random()*2:d=(Math.random()-.5)*4;const g=t,b=Math.random()*8+2,v=g+Math.random()*b,N=g-Math.random()*b,k=g+d+(Math.random()-.5)*4;r.push({date:i.toISOString().split("T")[0],open:Math.round(g*100)/100,high:Math.round(Math.max(v,g,k)*100)/100,low:Math.round(Math.min(N,g,k)*100)/100,close:Math.round(k*100)/100,volume:Math.floor(Math.random()*1e6)+5e5}),t=k}p(c=>({...c,data:r}))}catch(o){console.error("Error generating sample data:",o)}},[]),n=u.useCallback(()=>{try{const a={type:"candlestick-chart",data:l,options:s,generatedAt:new Date().toISOString()},o=JSON.stringify(a,null,2),r=new Blob([o],{type:"application/json"}),t=URL.createObjectURL(r),c=document.createElement("a");c.href=t,c.download=`candlestick-chart-${Date.now()}.json`,c.click(),URL.revokeObjectURL(t)}catch(a){console.error("Error exporting chart:",a),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:`candlestick-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(re,{className:"w-6 h-6 text-green-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Candlestick Chart Builder"})]}),e.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:j(),height:500,className:"w-full",onError:a=>{console.error("Candlestick chart rendering error:",a)}})})}),e.jsxs("div",{className:"space-y-4 max-h-[700px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Chart Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:a=>p(o=>({...o,title:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",placeholder:"Enter chart title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Symbol"}),e.jsx("input",{type:"text",value:l.symbol,onChange:a=>p(o=>({...o,symbol:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",placeholder:"Stock symbol (e.g., AAPL)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Scheme"}),e.jsxs("select",{value:s.colorScheme,onChange:a=>x(o=>({...o,colorScheme:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",children:[e.jsx("option",{value:"traditional",children:"Traditional (Green/Red)"}),e.jsx("option",{value:"modern",children:"Modern (Cyan/Red)"}),e.jsx("option",{value:"monochrome",children:"Monochrome"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Candle Width"}),e.jsxs("select",{value:s.candleWidth,onChange:a=>x(o=>({...o,candleWidth:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",children:[e.jsx("option",{value:"auto",children:"Auto"}),e.jsx("option",{value:"fixed",children:"Fixed"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showVolume,onChange:a=>x(o=>({...o,showVolume:a.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Volume"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showGrid,onChange:a=>x(o=>({...o,showGrid:a.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Grid"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showMA,onChange:a=>x(o=>({...o,showMA:a.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Moving Average"})]})]}),s.showMA&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["MA Length: ",s.maLength]}),e.jsx("input",{type:"range",min:"5",max:"50",value:s.maLength,onChange:a=>x(o=>({...o,maLength:parseInt(a.target.value)})),className:"w-full"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Market Scenarios"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>m("bullish"),className:"w-full px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-colors",children:"Bullish Trend"}),e.jsx("button",{onClick:()=>m("bearish"),className:"w-full px-3 py-2 bg-red-500 text-white text-sm rounded hover:bg-red-600 transition-colors",children:"Bearish Trend"}),e.jsx("button",{onClick:()=>m("volatile"),className:"w-full px-3 py-2 bg-yellow-500 text-white text-sm rounded hover:bg-yellow-600 transition-colors",children:"Volatile Market"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium",children:"Data Points"}),e.jsxs("button",{onClick:C,className:"flex items-center space-x-1 px-3 py-1 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:"Add"})]})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:l.data.map((a,o)=>e.jsxs("div",{className:"border border-gray-200 rounded p-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium",children:a.date}),l.data.length>2&&e.jsx("button",{onClick:()=>h(o),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[e.jsx("input",{type:"number",value:a.open,onChange:r=>y(o,"open",r.target.value),className:"px-1 py-0.5 border border-gray-300 rounded",placeholder:"Open",step:"0.01"}),e.jsx("input",{type:"number",value:a.high,onChange:r=>y(o,"high",r.target.value),className:"px-1 py-0.5 border border-gray-300 rounded",placeholder:"High",step:"0.01"}),e.jsx("input",{type:"number",value:a.low,onChange:r=>y(o,"low",r.target.value),className:"px-1 py-0.5 border border-gray-300 rounded",placeholder:"Low",step:"0.01"}),e.jsx("input",{type:"number",value:a.close,onChange:r=>y(o,"close",r.target.value),className:"px-1 py-0.5 border border-gray-300 rounded",placeholder:"Close",step:"0.01"})]})]},o))})]})]})]})]})})},we=({className:S=""})=>{const[l,p]=u.useState({title:"Daily Activity Calendar",year:2024,metric:"Steps",data:[{date:"2024-01-01",value:8500,label:"New Year"},{date:"2024-01-15",value:12e3,label:"High Activity"},{date:"2024-02-14",value:6e3,label:"Valentine's Day"},{date:"2024-03-01",value:9500},{date:"2024-03-15",value:11e3},{date:"2024-04-01",value:7500},{date:"2024-04-15",value:10500},{date:"2024-05-01",value:8e3},{date:"2024-05-15",value:9e3},{date:"2024-06-01",value:11500},{date:"2024-06-15",value:1e4},{date:"2024-07-04",value:13e3,label:"Independence Day"},{date:"2024-08-01",value:9500},{date:"2024-09-01",value:8500},{date:"2024-10-31",value:7e3,label:"Halloween"},{date:"2024-11-01",value:8e3},{date:"2024-12-25",value:5e3,label:"Christmas"}]}),[s,x]=u.useState({colorScheme:"viridis",cellSize:"auto",showLabels:!1,showSplitLine:!0,orientation:"horizontal",monthLabelPosition:"start",dayLabelPosition:"start"}),f={viridis:["#440154","#31688e","#35b779","#fde725"],blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],custom:["#E8F4FD","#B3D9F7","#7FB8E3","#4A96CF","#1E74B0","#165288","#0E3A5F"]},w={auto:"auto",small:[15,15],medium:[20,20],large:[25,25]},j=u.useCallback(()=>{try{const h=f[s.colorScheme],m=w[s.cellSize],n=l.data.map(t=>[t.date,t.value]),a=l.data.map(t=>t.value),o=Math.min(...a),r=Math.max(...a);return{title:{text:l.title,subtext:`${l.metric} - ${l.year}`,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"},subtextStyle:{color:"#64748B",fontSize:14}},tooltip:{trigger:"item",formatter:t=>{try{const c=new Date(t.value[0]),i=t.value[1],d=l.data.find(v=>v.date===t.value[0]),g=d==null?void 0:d.label;return`
                <div style="text-align: left;">
                  <strong>${c.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</strong><br/>
                  ${l.metric}: ${i.toLocaleString()}
                  ${g?`<br/><em>${g}</em>`:""}
                </div>
              `}catch{return`${t.value[0]}: ${t.value[1]}`}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},visualMap:{min:o,max:r,type:"continuous",orient:"horizontal",left:"center",bottom:"10%",inRange:{color:h},textStyle:{color:"#374151"}},calendar:{top:120,left:30,right:30,cellSize:m,range:l.year.toString(),splitLine:{show:s.showSplitLine,lineStyle:{color:"#E5E7EB",width:1,type:"solid"}},yearLabel:{show:!0,fontSize:16,color:"#374151"},monthLabel:{show:!0,fontSize:12,color:"#6B7280",position:s.monthLabelPosition},dayLabel:{show:!0,fontSize:10,color:"#9CA3AF",position:s.dayLabelPosition,nameMap:["S","M","T","W","T","F","S"]},itemStyle:{borderWidth:1,borderColor:"#ffffff"},orient:s.orientation},series:[{type:"heatmap",coordinateSystem:"calendar",data:n,label:{show:s.showLabels,fontSize:8,color:"#374151"},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationDuration:1e3,animationEasing:"cubicOut"}],backgroundColor:"#FEFEFE"}}catch(h){return console.error("Error generating calendar chart option:",h),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]);u.useCallback((h,m,n)=>{try{p(a=>({...a,data:a.data.map((o,r)=>{if(r===h){const t={...o,[m]:n};return m==="value"&&(t.value=Math.max(0,parseFloat(n)||0)),t}return o})}))}catch(a){console.error("Error updating data point:",a)}},[]),u.useCallback(()=>{try{const m=new Date().toISOString().split("T")[0];p(n=>({...n,data:[...n.data,{date:m,value:Math.floor(Math.random()*1e4)+1e3}]}))}catch(h){console.error("Error adding data point:",h)}},[]),u.useCallback(h=>{try{l.data.length>1&&p(m=>({...m,data:m.data.filter((n,a)=>a!==h)}))}catch(m){console.error("Error removing data point:",m)}},[l.data.length]);const y=u.useCallback(h=>{try{const m={activity:{title:"Daily Steps Calendar",metric:"Steps",data:Array.from({length:50},(n,a)=>{const o=new Date(l.year,0,1);return o.setDate(o.getDate()+a*7+Math.floor(Math.random()*7)),{date:o.toISOString().split("T")[0],value:Math.floor(Math.random()*8e3)+3e3}})},commits:{title:"Git Commits Calendar",metric:"Commits",data:Array.from({length:100},(n,a)=>{const o=new Date(l.year,0,1);return o.setDate(o.getDate()+a*3+Math.floor(Math.random()*4)),{date:o.toISOString().split("T")[0],value:Math.floor(Math.random()*20)+1}})},sales:{title:"Daily Sales Calendar",metric:"Revenue ($)",data:Array.from({length:80},(n,a)=>{const o=new Date(l.year,0,1);return o.setDate(o.getDate()+a*4+Math.floor(Math.random()*5)),{date:o.toISOString().split("T")[0],value:Math.floor(Math.random()*5e4)+1e4}})}};p(n=>({...n,...m[h]}))}catch(m){console.error("Error generating sample data:",m)}},[l.year]),C=u.useCallback(()=>{try{const h={type:"calendar-chart",data:l,options:s,generatedAt:new Date().toISOString()},m=JSON.stringify(h,null,2),n=new Blob([m],{type:"application/json"}),a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download=`calendar-chart-${Date.now()}.json`,o.click(),URL.revokeObjectURL(a)}catch(h){console.error("Error exporting chart:",h),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Calendar Chart Builder"}),e.jsx("p",{children:"Time-series data visualization in calendar format with color-coded daily values"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[e.jsx("div",{className:"input-section",children:e.jsxs("div",{style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--text-primary)",margin:"0 0 1rem 0"},children:"Chart Settings"}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:h=>p(m=>({...m,title:h.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:h=>h.target.style.borderColor="var(--accent-color)",onBlur:h=>h.target.style.borderColor="var(--border-color)",placeholder:"Enter chart title"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Metric Name"}),e.jsx("input",{type:"text",value:l.metric,onChange:h=>p(m=>({...m,metric:h.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"},placeholder:"e.g., Steps, Commits"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Year"}),e.jsx("input",{type:"number",value:l.year,onChange:h=>p(m=>({...m,year:parseInt(h.target.value)||2024})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem"},min:"2020",max:"2030"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Color Scheme"}),e.jsxs("select",{value:s.colorScheme,onChange:h=>x(m=>({...m,colorScheme:h.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",appearance:"none",cursor:"pointer"},children:[e.jsx("option",{value:"viridis",children:"Viridis"}),e.jsx("option",{value:"blues",children:"Blues"}),e.jsx("option",{value:"reds",children:"Reds"}),e.jsx("option",{value:"greens",children:"Greens"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Cell Size"}),e.jsxs("select",{value:s.cellSize,onChange:h=>x(m=>({...m,cellSize:h.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",appearance:"none",cursor:"pointer"},children:[e.jsx("option",{value:"auto",children:"Auto"}),e.jsx("option",{value:"small",children:"Small"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"large",children:"Large"})]})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Orientation"}),e.jsxs("select",{value:s.orientation,onChange:h=>x(m=>({...m,orientation:h.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",appearance:"none",cursor:"pointer"},children:[e.jsx("option",{value:"horizontal",children:"Horizontal"}),e.jsx("option",{value:"vertical",children:"Vertical"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Month Label Position"}),e.jsxs("select",{value:s.monthLabelPosition,onChange:h=>x(m=>({...m,monthLabelPosition:h.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",appearance:"none",cursor:"pointer"},children:[e.jsx("option",{value:"start",children:"Start"}),e.jsx("option",{value:"end",children:"End"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Day Label Position"}),e.jsxs("select",{value:s.dayLabelPosition,onChange:h=>x(m=>({...m,dayLabelPosition:h.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"12px",border:"2px solid var(--border-color)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",appearance:"none",cursor:"pointer"},children:[e.jsx("option",{value:"start",children:"Start"}),e.jsx("option",{value:"end",children:"End"})]})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)",margin:"0 0 1rem 0"},children:"Display Options"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",background:"var(--bg-tertiary)",borderRadius:"12px",border:"2px solid var(--border-color)",transition:"all 0.3s ease"},onMouseEnter:h=>h.currentTarget.style.borderColor="var(--accent-color)",onMouseLeave:h=>h.currentTarget.style.borderColor="var(--border-color)",children:[e.jsx("input",{type:"checkbox",checked:s.showLabels,onChange:h=>x(m=>({...m,showLabels:h.target.checked})),style:{width:"18px",height:"18px",accentColor:"var(--accent-color)",cursor:"pointer"}}),e.jsx("span",{style:{color:"var(--text-primary)",fontSize:"1rem",fontWeight:"500"},children:"Show Cell Labels"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",background:"var(--bg-tertiary)",borderRadius:"12px",border:"2px solid var(--border-color)",transition:"all 0.3s ease"},onMouseEnter:h=>h.currentTarget.style.borderColor="var(--accent-color)",onMouseLeave:h=>h.currentTarget.style.borderColor="var(--border-color)",children:[e.jsx("input",{type:"checkbox",checked:s.showSplitLine,onChange:h=>x(m=>({...m,showSplitLine:h.target.checked})),style:{width:"18px",height:"18px",accentColor:"var(--accent-color)",cursor:"pointer"}}),e.jsx("span",{style:{color:"var(--text-primary)",fontSize:"1rem",fontWeight:"500"},children:"Show Grid Lines"})]})]})]}),e.jsxs("div",{style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)",margin:"0 0 1rem 0"},children:"Monthly Data Entry"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.75rem",marginBottom:"1rem"},children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((h,m)=>{const n=m+1,a=l.data.filter(r=>{const t=new Date(r.date);return t.getFullYear()===l.year&&t.getMonth()===m}),o=a.reduce((r,t)=>r+t.value,0);return e.jsxs("div",{style:{padding:"0.75rem",background:"var(--bg-tertiary)",border:"2px solid var(--border-color)",borderRadius:"12px",transition:"all 0.3s ease"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.5rem"},children:h.slice(0,3)}),e.jsx("input",{type:"number",placeholder:"0",min:"0",step:"1",style:{width:"100%",padding:"0.5rem",fontSize:"0.85rem",border:"1px solid var(--border-color)",borderRadius:"8px",background:"white",color:"var(--text-primary)",textAlign:"center",transition:"all 0.3s ease"},value:o||"",onChange:r=>{const t=parseInt(r.target.value)||0,c=`${l.year}-${n.toString().padStart(2,"0")}-15`;p(i=>{const d=i.data.filter(g=>{const b=new Date(g.date);return!(b.getFullYear()===l.year&&b.getMonth()===m)});return t>0&&d.push({date:c,value:t,label:`${h} Total`}),{...i,data:d.sort((g,b)=>new Date(g.date).getTime()-new Date(b.date).getTime())}})},onFocus:r=>r.target.style.borderColor="var(--accent-color)",onBlur:r=>r.target.style.borderColor="var(--border-color)"}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",textAlign:"center"},children:[a.length," days"]})]},h)})}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",justifyContent:"space-between"},children:[e.jsx("button",{onClick:()=>{const h=[];for(let m=0;m<12;m++){const n=Math.floor(Math.random()*5e3)+1e3,a=`${l.year}-${(m+1).toString().padStart(2,"0")}-15`;h.push({date:a,value:n,label:`Month ${m+1} Data`})}p(m=>({...m,data:h}))},style:{padding:"0.5rem 1rem",background:"var(--accent-light)",color:"var(--accent-color)",border:"2px solid var(--accent-color)",borderRadius:"8px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:h=>{h.currentTarget.style.background="var(--accent-color)",h.currentTarget.style.color="white"},onMouseLeave:h=>{h.currentTarget.style.background="var(--accent-light)",h.currentTarget.style.color="var(--accent-color)"},children:"Generate Random Data"}),e.jsx("button",{onClick:()=>{p(h=>({...h,data:[]}))},style:{padding:"0.5rem 1rem",background:"var(--error-light)",color:"var(--error-color)",border:"2px solid var(--error-color)",borderRadius:"8px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:h=>{h.currentTarget.style.background="var(--error-color)",h.currentTarget.style.color="white"},onMouseLeave:h=>{h.currentTarget.style.background="var(--error-light)",h.currentTarget.style.color="var(--error-color)"},children:"Clear All Data"})]})]}),e.jsxs("div",{style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)",margin:"0 0 1rem 0"},children:"Quick Templates"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0.75rem"},children:[e.jsx("button",{onClick:()=>y("activity"),style:{padding:"0.75rem 1rem",background:"var(--accent-light)",color:"var(--accent-color)",border:"2px solid var(--accent-color)",borderRadius:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",fontSize:"0.9rem"},onMouseEnter:h=>{h.currentTarget.style.background="var(--accent-color)",h.currentTarget.style.color="white"},onMouseLeave:h=>{h.currentTarget.style.background="var(--accent-light)",h.currentTarget.style.color="var(--accent-color)"},children:"Daily Activity Template"}),e.jsx("button",{onClick:()=>y("commits"),style:{padding:"0.75rem 1rem",background:"var(--success-light)",color:"var(--success-color)",border:"2px solid var(--success-color)",borderRadius:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",fontSize:"0.9rem"},onMouseEnter:h=>{h.currentTarget.style.background="var(--success-color)",h.currentTarget.style.color="white"},onMouseLeave:h=>{h.currentTarget.style.background="var(--success-light)",h.currentTarget.style.color="var(--success-color)"},children:"Git Commits Template"}),e.jsx("button",{onClick:()=>y("sales"),style:{padding:"0.75rem 1rem",background:"var(--warning-light)",color:"var(--warning-color)",border:"2px solid var(--warning-color)",borderRadius:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",fontSize:"0.9rem"},onMouseEnter:h=>{h.currentTarget.style.background="var(--warning-color)",h.currentTarget.style.color="white"},onMouseLeave:h=>{h.currentTarget.style.background="var(--warning-light)",h.currentTarget.style.color="var(--warning-color)"},children:"Daily Sales Template"})]})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:e.jsxs("button",{onClick:C,style:{padding:"1rem 2rem",background:"linear-gradient(135deg, var(--accent-color) 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(L,{size:20}),"Export Chart"]})})]})}),e.jsxs("div",{className:"output-section",children:[e.jsx("label",{children:"Calendar Preview"}),e.jsx("div",{style:{padding:"1rem",background:"white",border:"2px dashed var(--border-color)",borderRadius:"16px",minHeight:"500px"},children:e.jsx(R,{option:j(),height:450,className:"w-full",onError:h=>{console.error("Calendar chart rendering error:",h)}})})]})]})]})})},Ce=({className:S=""})=>{const[l,p]=u.useState({title:"Statistical Distribution Analysis",xAxisLabel:"Categories",yAxisLabel:"Values",datasets:[{name:"Group A",data:[120,132,101,134,90,230,210,85,88,134,145,156,167,178,189,190],color:"#5470c6"},{name:"Group B",data:[220,182,191,234,290,330,310,185,188,234,245,256,267,278,289,290],color:"#91cc75"},{name:"Group C",data:[150,172,121,164,190,200,180,165,168,174,175,186,197,198,199,200],color:"#fac858"}]}),[s,x]=u.useState({showOutliers:!0,orientation:"vertical",boxWidth:.7,showGrid:!0,showMean:!1,colorScheme:"default"}),f={default:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272"],pastel:["#FFB5B5","#B5D6FF","#B5FFB5","#FFFFB5","#FFB5FF","#B5FFFF"],vibrant:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD"]},w=u.useCallback(o=>{try{const r=[...o].sort((E,D)=>E-D),t=r.length;if(t===0)return[0,0,0,0,0];const c=Math.floor(t*.25),i=Math.floor(t*.5),d=Math.floor(t*.75),g=r[0],b=r[c],v=t%2===0?(r[i-1]+r[i])/2:r[i],N=r[d],k=r[t-1];return[g,b,v,N,k]}catch(r){return console.error("Error calculating boxplot stats:",r),[0,0,0,0,0]}},[]),j=u.useCallback(o=>{try{const r=[...o].sort((k,E)=>k-E),t=r.length;if(t===0)return[];const c=Math.floor(t*.25),i=Math.floor(t*.75),d=r[c],g=r[i],b=g-d,v=d-1.5*b,N=g+1.5*b;return o.filter(k=>k<v||k>N)}catch(r){return console.error("Error calculating outliers:",r),[]}},[]),y=u.useCallback(()=>{try{const o=f[s.colorScheme],r=l.datasets.map((i,d)=>w(i.data)),t=[];s.showOutliers&&l.datasets.forEach((i,d)=>{j(i.data).forEach(b=>{t.push([d,b])})});const c=[{name:"Boxplot",type:"boxplot",data:r,tooltip:{formatter:i=>{try{const d=i.dataIndex,g=l.datasets[d],[b,v,N,k,E]=i.data;return`
                  <div style="text-align: left;">
                    <strong>${g.name}</strong><br/>
                    Max: ${E}<br/>
                    Q3: ${k}<br/>
                    Median: ${N}<br/>
                    Q1: ${v}<br/>
                    Min: ${b}<br/>
                    IQR: ${(k-v).toFixed(2)}
                  </div>
                `}catch{return"Data unavailable"}}},itemStyle:{borderWidth:2},emphasis:{itemStyle:{borderWidth:3,shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.3)"}},animationDuration:1200,animationEasing:"cubicOut"}];return s.showOutliers&&t.length>0&&c.push({name:"Outliers",type:"scatter",data:t,symbolSize:6,itemStyle:{color:"#ee6666",opacity:.8},emphasis:{itemStyle:{opacity:1,shadowBlur:5,shadowColor:"rgba(238, 102, 102, 0.5)"}},tooltip:{formatter:i=>{try{const[d,g]=i.data;return`<strong>${l.datasets[d].name}</strong><br/>Outlier: ${g}`}catch{return"Outlier"}}}}),{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},legend:{data:["Boxplot",...s.showOutliers?["Outliers"]:[]],top:40,textStyle:{color:"#374151"}},grid:{left:"3%",right:"4%",bottom:"3%",top:"15%",containLabel:!0,show:s.showGrid,borderColor:"#E5E7EB"},xAxis:{type:"category",data:l.datasets.map(i=>i.name),name:l.xAxisLabel,nameLocation:"middle",nameGap:30,axisLine:{lineStyle:{color:"#6B7280"}},splitLine:{show:s.showGrid,lineStyle:{color:"#E5E7EB",type:"dashed"}}},yAxis:{type:"value",name:l.yAxisLabel,nameLocation:"middle",nameGap:50,axisLine:{lineStyle:{color:"#6B7280"}},splitLine:{show:s.showGrid,lineStyle:{color:"#E5E7EB",type:"dashed"}}},series:c,backgroundColor:"#FEFEFE",color:o}}catch(o){return console.error("Error generating boxplot chart option:",o),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s,w,j]),C=u.useCallback((o,r,t)=>{try{p(c=>({...c,datasets:c.datasets.map((i,d)=>{if(d===o){if(r==="data"&&typeof t=="string"){const g=t.split(",").map(b=>parseFloat(b.trim())).filter(b=>!isNaN(b));return{...i,data:g}}return{...i,[r]:t}}return i})}))}catch(c){console.error("Error updating dataset:",c)}},[]),h=u.useCallback(()=>{try{const o=f[s.colorScheme],r=o[l.datasets.length%o.length];p(t=>({...t,datasets:[...t.datasets,{name:`Group ${String.fromCharCode(65+t.datasets.length)}`,data:Array.from({length:20},()=>Math.floor(Math.random()*200)+100),color:r}]}))}catch(o){console.error("Error adding dataset:",o)}},[l.datasets.length,s.colorScheme]),m=u.useCallback(o=>{try{l.datasets.length>1&&p(r=>({...r,datasets:r.datasets.filter((t,c)=>c!==o)}))}catch(r){console.error("Error removing dataset:",r)}},[l.datasets.length]),n=u.useCallback(o=>{try{const r={scores:{title:"Test Scores Distribution",xAxisLabel:"Classes",yAxisLabel:"Scores",datasets:[{name:"Math",data:Array.from({length:30},()=>Math.floor(Math.random()*40)+60),color:"#5470c6"},{name:"Science",data:Array.from({length:30},()=>Math.floor(Math.random()*35)+65),color:"#91cc75"},{name:"English",data:Array.from({length:30},()=>Math.floor(Math.random()*30)+70),color:"#fac858"}]},performance:{title:"Employee Performance Metrics",xAxisLabel:"Departments",yAxisLabel:"Performance Score",datasets:[{name:"Sales",data:Array.from({length:25},()=>Math.floor(Math.random()*50)+50),color:"#ee6666"},{name:"Marketing",data:Array.from({length:25},()=>Math.floor(Math.random()*45)+55),color:"#73c0de"},{name:"Engineering",data:Array.from({length:25},()=>Math.floor(Math.random()*40)+60),color:"#3ba272"}]},measurements:{title:"Laboratory Measurements",xAxisLabel:"Samples",yAxisLabel:"Measurement Values",datasets:[{name:"Sample A",data:Array.from({length:20},()=>Math.floor(Math.random()*20)+80),color:"#fc8452"},{name:"Sample B",data:Array.from({length:20},()=>Math.floor(Math.random()*25)+75),color:"#9a60b4"},{name:"Sample C",data:Array.from({length:20},()=>Math.floor(Math.random()*30)+70),color:"#ea7ccc"}]}};p(r[o])}catch(r){console.error("Error generating sample data:",r)}},[]),a=u.useCallback(()=>{try{const o={type:"boxplot-chart",data:l,options:s,generatedAt:new Date().toISOString()},r=JSON.stringify(o,null,2),t=new Blob([r],{type:"application/json"}),c=URL.createObjectURL(t),i=document.createElement("a");i.href=c,i.download=`boxplot-chart-${Date.now()}.json`,i.click(),URL.revokeObjectURL(c)}catch(o){console.error("Error exporting chart:",o),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:`boxplot-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"w-6 h-6 text-indigo-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Boxplot Chart Builder"})]}),e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:y(),height:400,className:"w-full",onError:o=>{console.error("Boxplot chart rendering error:",o)}})})}),e.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Chart Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:o=>p(r=>({...r,title:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"Enter chart title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X-Axis Label"}),e.jsx("input",{type:"text",value:l.xAxisLabel,onChange:o=>p(r=>({...r,xAxisLabel:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"X-axis label"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y-Axis Label"}),e.jsx("input",{type:"text",value:l.yAxisLabel,onChange:o=>p(r=>({...r,yAxisLabel:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"Y-axis label"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Scheme"}),e.jsxs("select",{value:s.colorScheme,onChange:o=>x(r=>({...r,colorScheme:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",children:[e.jsx("option",{value:"default",children:"Default"}),e.jsx("option",{value:"pastel",children:"Pastel"}),e.jsx("option",{value:"vibrant",children:"Vibrant"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showOutliers,onChange:o=>x(r=>({...r,showOutliers:o.target.checked})),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Outliers"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showGrid,onChange:o=>x(r=>({...r,showGrid:o.target.checked})),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Grid"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Quick Templates"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>n("scores"),className:"w-full px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:"Test Scores"}),e.jsx("button",{onClick:()=>n("performance"),className:"w-full px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-colors",children:"Performance Metrics"}),e.jsx("button",{onClick:()=>n("measurements"),className:"w-full px-3 py-2 bg-orange-500 text-white text-sm rounded hover:bg-orange-600 transition-colors",children:"Lab Measurements"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium",children:"Datasets"}),e.jsxs("button",{onClick:h,className:"flex items-center space-x-1 px-3 py-1 bg-indigo-500 text-white text-sm rounded hover:bg-indigo-600 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:"Add Dataset"})]})]}),e.jsx("div",{className:"space-y-4",children:l.datasets.map((o,r)=>e.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Dataset ",r+1]}),l.datasets.length>1&&e.jsx("button",{onClick:()=>m(r),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:o.name,onChange:t=>C(r,"name",t.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Dataset name"}),e.jsx("textarea",{value:o.data.join(", "),onChange:t=>C(r,"data",t.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500",rows:3,placeholder:"Data values (comma separated)"}),e.jsx("input",{type:"color",value:o.color,onChange:t=>C(r,"color",t.target.value),className:"w-full h-8 rounded border border-gray-300"})]})]},r))})]})]})]})]})})},Se=({className:S=""})=>{const[l,p]=u.useState({title:"Organizational Structure",data:[{name:"CEO",value:100,itemStyle:{color:"#5470c6"},children:[{name:"CTO",value:80,itemStyle:{color:"#91cc75"},children:[{name:"Frontend Team",value:40,itemStyle:{color:"#fac858"},children:[{name:"React Developer",value:20,itemStyle:{color:"#ee6666"}},{name:"Vue Developer",value:15,itemStyle:{color:"#73c0de"}},{name:"UI/UX Designer",value:18,itemStyle:{color:"#3ba272"}}]},{name:"Backend Team",value:45,itemStyle:{color:"#fc8452"},children:[{name:"Node.js Developer",value:25,itemStyle:{color:"#9a60b4"}},{name:"Python Developer",value:22,itemStyle:{color:"#ea7ccc"}}]}]},{name:"CFO",value:60,itemStyle:{color:"#5470c6"},children:[{name:"Accounting",value:30,itemStyle:{color:"#91cc75"},children:[{name:"Accountant 1",value:15,itemStyle:{color:"#fac858"}},{name:"Accountant 2",value:12,itemStyle:{color:"#ee6666"}}]},{name:"Finance",value:25,itemStyle:{color:"#73c0de"},children:[{name:"Financial Analyst",value:20,itemStyle:{color:"#3ba272"}}]}]}]}]}),[s,x]=u.useState({layout:"orthogonal",orient:"vertical",symbolSize:7,showLabels:!0,labelPosition:"left",edgeShape:"curve",roam:!0,expandAndCollapse:!0,animationDuration:750}),f=u.useCallback(()=>{try{return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",triggerOn:"mousemove",formatter:a=>{try{const{name:o,value:r,data:t}=a,c=t.children&&t.children.length>0;return`
                <div style="text-align: left;">
                  <strong>${o}</strong><br/>
                  ${r?`Value: ${r}<br/>`:""}
                  ${c?`Children: ${t.children.length}`:"Leaf Node"}
                </div>
              `}catch{return a.name||"Unknown"}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},series:[{type:"tree",data:l.data,left:"10%",right:"10%",top:"15%",bottom:"10%",symbol:"circle",symbolSize:s.symbolSize,orient:s.orient,layout:s.layout,edgeShape:s.edgeShape,roam:s.roam,expandAndCollapse:s.expandAndCollapse,initialTreeDepth:3,label:{show:s.showLabels,position:s.labelPosition,fontSize:12,fontWeight:"bold",color:"#374151",distance:10},leaves:{label:{position:s.labelPosition,fontSize:11,color:"#6B7280"}},lineStyle:{color:"#94A3B8",width:2,curveness:s.edgeShape==="curve"?.5:0},emphasis:{focus:"descendant",lineStyle:{width:3,color:"#4F46E5"},itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.3)"}},animationDuration:s.animationDuration,animationEasing:"cubicOut",animationDurationUpdate:s.animationDuration/2}],backgroundColor:"#FEFEFE"}}catch(a){return console.error("Error generating tree chart option:",a),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),w=u.useCallback((a,o,r)=>o.length===0?a:a.map((t,c)=>c===o[0]?o.length===1?r(t):{...t,children:t.children?w(t.children,o.slice(1),r):[]}:t),[]),j=u.useCallback((a,o,r)=>o.length===0?[...a,r]:a.map((t,c)=>c===o[0]?o.length===1?{...t,children:[...t.children||[],r]}:{...t,children:t.children?j(t.children,o.slice(1),r):[]}:t),[]),y=u.useCallback((a,o,r)=>{try{p(t=>({...t,data:w(t.data,a,c=>o==="color"?{...c,itemStyle:{...c.itemStyle,color:r}}:o==="value"?{...c,value:parseFloat(r)||0}:{...c,[o]:r})}))}catch(t){console.error("Error updating node:",t)}},[w]),C=u.useCallback(a=>{try{const o={name:"New Node",value:10,itemStyle:{color:"#94A3B8"}};p(r=>({...r,data:j(r.data,a,o)}))}catch(o){console.error("Error adding child node:",o)}},[j]),h=u.useCallback(a=>{try{p({company:{title:"Company Organizational Chart",data:[{name:"CEO",value:100,itemStyle:{color:"#5470c6"},children:[{name:"CTO",value:80,itemStyle:{color:"#91cc75"},children:[{name:"Engineering",value:60,itemStyle:{color:"#fac858"}},{name:"DevOps",value:20,itemStyle:{color:"#ee6666"}}]},{name:"CMO",value:70,itemStyle:{color:"#73c0de"},children:[{name:"Marketing",value:40,itemStyle:{color:"#3ba272"}},{name:"Sales",value:30,itemStyle:{color:"#fc8452"}}]}]}]},family:{title:"Family Tree",data:[{name:"Grandparents",value:90,itemStyle:{color:"#5470c6"},children:[{name:"Parent 1",value:60,itemStyle:{color:"#91cc75"},children:[{name:"Child 1",value:25,itemStyle:{color:"#fac858"}},{name:"Child 2",value:22,itemStyle:{color:"#ee6666"}}]},{name:"Parent 2",value:58,itemStyle:{color:"#73c0de"},children:[{name:"Child 3",value:24,itemStyle:{color:"#3ba272"}}]}]}]},filesystem:{title:"File System Structure",data:[{name:"Root",value:1e3,itemStyle:{color:"#5470c6"},children:[{name:"Documents",value:400,itemStyle:{color:"#91cc75"},children:[{name:"Reports",value:200,itemStyle:{color:"#fac858"}},{name:"Presentations",value:150,itemStyle:{color:"#ee6666"}}]},{name:"Projects",value:600,itemStyle:{color:"#73c0de"},children:[{name:"Web Apps",value:300,itemStyle:{color:"#3ba272"}},{name:"Mobile Apps",value:250,itemStyle:{color:"#fc8452"}}]}]}]}}[a])}catch(o){console.error("Error generating sample data:",o)}},[]),m=u.useCallback(()=>{try{const a={type:"tree-chart",data:l,options:s,generatedAt:new Date().toISOString()},o=JSON.stringify(a,null,2),r=new Blob([o],{type:"application/json"}),t=URL.createObjectURL(r),c=document.createElement("a");c.href=t,c.download=`tree-chart-${Date.now()}.json`,c.click(),URL.revokeObjectURL(t)}catch(a){console.error("Error exporting chart:",a),alert("Export failed. Please try again.")}},[l,s]),n=u.useCallback((a,o,r=0)=>{var c;const t=r*20;return e.jsxs("div",{style:{marginLeft:`${t}px`},className:"border-l border-gray-200 pl-2 mb-2",children:[e.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:a.name}),e.jsx("button",{onClick:()=>C(o),className:"text-green-500 hover:text-green-700",children:e.jsx(z,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[e.jsx("input",{type:"text",value:a.name,onChange:i=>y(o,"name",i.target.value),className:"px-1 py-0.5 border border-gray-300 rounded",placeholder:"Node name"}),e.jsx("input",{type:"number",value:a.value||0,onChange:i=>y(o,"value",i.target.value),className:"px-1 py-0.5 border border-gray-300 rounded",placeholder:"Value",step:"1"}),e.jsx("input",{type:"color",value:((c=a.itemStyle)==null?void 0:c.color)||"#5470c6",onChange:i=>y(o,"color",i.target.value),className:"w-full h-6 rounded border border-gray-300"})]})]}),a.children&&a.children.map((i,d)=>n(i,[...o,d],r+1))]},o.join("-"))},[y,C]);return e.jsx(B,{children:e.jsxs("div",{className:`tree-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"w-6 h-6 text-green-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Tree Chart Builder"})]}),e.jsxs("button",{onClick:m,className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:f(),height:500,className:"w-full",onError:a=>{console.error("Tree chart rendering error:",a)}})})}),e.jsxs("div",{className:"space-y-4 max-h-[700px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Chart Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:a=>p(o=>({...o,title:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",placeholder:"Enter chart title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Layout"}),e.jsxs("select",{value:s.layout,onChange:a=>x(o=>({...o,layout:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",children:[e.jsx("option",{value:"orthogonal",children:"Orthogonal"}),e.jsx("option",{value:"radial",children:"Radial"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Orientation"}),e.jsxs("select",{value:s.orient,onChange:a=>x(o=>({...o,orient:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",children:[e.jsx("option",{value:"vertical",children:"Vertical"}),e.jsx("option",{value:"horizontal",children:"Horizontal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Edge Shape"}),e.jsxs("select",{value:s.edgeShape,onChange:a=>x(o=>({...o,edgeShape:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",children:[e.jsx("option",{value:"curve",children:"Curved"}),e.jsx("option",{value:"polyline",children:"Straight"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label Position"}),e.jsxs("select",{value:s.labelPosition,onChange:a=>x(o=>({...o,labelPosition:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"right",children:"Right"}),e.jsx("option",{value:"top",children:"Top"}),e.jsx("option",{value:"bottom",children:"Bottom"}),e.jsx("option",{value:"inside",children:"Inside"}),e.jsx("option",{value:"outside",children:"Outside"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Symbol Size: ",s.symbolSize]}),e.jsx("input",{type:"range",min:"3",max:"15",value:s.symbolSize,onChange:a=>x(o=>({...o,symbolSize:parseInt(a.target.value)})),className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showLabels,onChange:a=>x(o=>({...o,showLabels:a.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Labels"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.roam,onChange:a=>x(o=>({...o,roam:a.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Zoom & Pan"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.expandAndCollapse,onChange:a=>x(o=>({...o,expandAndCollapse:a.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Expand/Collapse"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Quick Templates"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>h("company"),className:"w-full px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:"Company Structure"}),e.jsx("button",{onClick:()=>h("family"),className:"w-full px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 transition-colors",children:"Family Tree"}),e.jsx("button",{onClick:()=>h("filesystem"),className:"w-full px-3 py-2 bg-orange-500 text-white text-sm rounded hover:bg-orange-600 transition-colors",children:"File System"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Tree Structure"}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.data.map((a,o)=>n(a,[o]))})]})]})]})]})})},ke=({className:S=""})=>{const[l,p]=u.useState({title:"Market Segmentation Analysis",data:[{name:"Technology",value:0,children:[{name:"Software",value:450,itemStyle:{color:"#5470c6"}},{name:"Hardware",value:320,itemStyle:{color:"#91cc75"}},{name:"AI/ML",value:280,itemStyle:{color:"#fac858"}},{name:"Cloud",value:200,itemStyle:{color:"#ee6666"}}]},{name:"Finance",value:0,children:[{name:"Banking",value:380,itemStyle:{color:"#73c0de"}},{name:"Insurance",value:290,itemStyle:{color:"#3ba272"}},{name:"Investment",value:240,itemStyle:{color:"#fc8452"}}]},{name:"Healthcare",value:0,children:[{name:"Pharmaceuticals",value:350,itemStyle:{color:"#9a60b4"}},{name:"Medical Devices",value:220,itemStyle:{color:"#ea7ccc"}},{name:"Telemedicine",value:180,itemStyle:{color:"#5470c6"}}]},{name:"Retail",value:0,children:[{name:"E-commerce",value:300,itemStyle:{color:"#91cc75"}},{name:"Physical Stores",value:180,itemStyle:{color:"#fac858"}},{name:"Logistics",value:150,itemStyle:{color:"#ee6666"}}]}]}),[s,x]=u.useState({layout:"squarified",showLabels:!0,labelPosition:"inside",colorScheme:"default",borderWidth:2,borderColor:"#ffffff",roam:!1,nodeClick:"zoomToNode",showBreadcrumb:!0}),f={default:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4"],gradient:["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7"],category:["#ff7f50","#87ceeb","#da70d6","#32cd32","#ffd700","#ff69b4","#ba55d3","#cd5c5c"]},w=u.useCallback((r,t,c=0)=>r.map((i,d)=>{const g=(c+d)%t.length,b={...i,itemStyle:{color:t[g]}};return i.children&&(b.children=w(i.children,t,g*4)),b}),[]),j=u.useCallback(()=>{try{const r=f[s.colorScheme],t=s.colorScheme!=="default"?w(l.data,r):l.data;return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",formatter:c=>{try{const{name:i,value:d,treePathInfo:g}=c,b=g.map(v=>v.name).join(" > ");return`
                <div style="text-align: left;">
                  <strong>${i}</strong><br/>
                  Path: ${b}<br/>
                  Value: ${d.toLocaleString()}
                </div>
              `}catch{return`${c.name}: ${c.value}`}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},series:[{name:"Treemap",type:"treemap",data:t,left:"2%",right:"2%",top:"15%",bottom:"5%",squareRatio:s.layout==="squarified"?.5*(1+Math.sqrt(5)):void 0,leafDepth:2,roam:s.roam,nodeClick:s.nodeClick,label:{show:s.showLabels,position:s.labelPosition,fontSize:12,fontWeight:"bold",color:"#ffffff",overflow:"truncate"},upperLabel:{show:!0,height:30,color:"#ffffff",fontSize:14,fontWeight:"bold"},itemStyle:{borderColor:s.borderColor,borderWidth:s.borderWidth,gapWidth:2},emphasis:{itemStyle:{borderWidth:s.borderWidth+1,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.3)"},label:{fontSize:14}},breadcrumb:{show:s.showBreadcrumb,height:25,bottom:0,left:"center",itemStyle:{color:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(255, 255, 255, 1)",borderWidth:1,shadowColor:"rgba(150, 150, 150, 1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#333"}}},animationDuration:1500,animationEasing:"cubicOut"}],backgroundColor:"#FEFEFE"}}catch(r){return console.error("Error generating treemap chart option:",r),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s,w]),y=u.useCallback((r,t,c)=>t.length===0?r:r.map((i,d)=>d===t[0]?t.length===1?c(i):{...i,children:i.children?y(i.children,t.slice(1),c):[]}:i),[]),C=u.useCallback((r,t,c)=>{try{p(i=>({...i,data:y(i.data,r,d=>t==="color"?{...d,itemStyle:{...d.itemStyle,color:c}}:t==="value"?{...d,value:Math.max(0,parseFloat(c)||0)}:{...d,[t]:c})}))}catch(i){console.error("Error updating node:",i)}},[y]),h=u.useCallback(r=>{try{const t=f[s.colorScheme],c={name:"New Item",value:100,itemStyle:{color:t[Math.floor(Math.random()*t.length)]}};p(i=>({...i,data:y(i.data,r,d=>({...d,children:[...d.children||[],c]}))}))}catch(t){console.error("Error adding node:",t)}},[y,s.colorScheme]),m=u.useCallback(r=>{try{if(r.length===0)return;const t=r.slice(0,-1),c=r[r.length-1];p(i=>({...i,data:y(i.data,t,d=>({...d,children:d.children?d.children.filter((g,b)=>b!==c):[]}))}))}catch(t){console.error("Error removing node:",t)}},[y]),n=u.useCallback(r=>{try{p({market:{title:"Market Share Analysis",data:[{name:"Mobile",value:0,children:[{name:"iOS",value:350,itemStyle:{color:"#5470c6"}},{name:"Android",value:500,itemStyle:{color:"#91cc75"}},{name:"Others",value:80,itemStyle:{color:"#fac858"}}]},{name:"Desktop",value:0,children:[{name:"Windows",value:400,itemStyle:{color:"#ee6666"}},{name:"macOS",value:200,itemStyle:{color:"#73c0de"}},{name:"Linux",value:100,itemStyle:{color:"#3ba272"}}]}]},portfolio:{title:"Investment Portfolio",data:[{name:"Stocks",value:0,children:[{name:"Tech Stocks",value:300,itemStyle:{color:"#5470c6"}},{name:"Healthcare",value:200,itemStyle:{color:"#91cc75"}},{name:"Finance",value:150,itemStyle:{color:"#fac858"}}]},{name:"Bonds",value:0,children:[{name:"Government",value:180,itemStyle:{color:"#ee6666"}},{name:"Corporate",value:120,itemStyle:{color:"#73c0de"}}]},{name:"Real Estate",value:0,children:[{name:"Commercial",value:100,itemStyle:{color:"#3ba272"}},{name:"Residential",value:80,itemStyle:{color:"#fc8452"}}]}]},filesystem:{title:"Disk Usage Analysis",data:[{name:"Documents",value:0,children:[{name:"Work Files",value:1200,itemStyle:{color:"#5470c6"}},{name:"Personal",value:800,itemStyle:{color:"#91cc75"}},{name:"Archive",value:400,itemStyle:{color:"#fac858"}}]},{name:"Media",value:0,children:[{name:"Photos",value:2e3,itemStyle:{color:"#ee6666"}},{name:"Videos",value:3500,itemStyle:{color:"#73c0de"}},{name:"Music",value:800,itemStyle:{color:"#3ba272"}}]}]}}[r])}catch(t){console.error("Error generating sample data:",t)}},[]),a=u.useCallback(()=>{try{const r={type:"treemap-chart",data:l,options:s,generatedAt:new Date().toISOString()},t=JSON.stringify(r,null,2),c=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(c),d=document.createElement("a");d.href=i,d.download=`treemap-chart-${Date.now()}.json`,d.click(),URL.revokeObjectURL(i)}catch(r){console.error("Error exporting chart:",r),alert("Export failed. Please try again.")}},[l,s]),o=u.useCallback((r,t,c=0)=>{var d;const i=c*15;return e.jsxs("div",{style:{marginLeft:`${i}px`},className:"border-l border-gray-200 pl-2 mb-2",children:[e.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:r.name}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>h(t),className:"text-green-500 hover:text-green-700",children:e.jsx(z,{className:"w-3 h-3"})}),c>0&&e.jsx("button",{onClick:()=>m(t),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[e.jsx("input",{type:"text",value:r.name,onChange:g=>C(t,"name",g.target.value),className:"px-1 py-0.5 border border-gray-300 rounded",placeholder:"Node name"}),e.jsx("input",{type:"number",value:r.value,onChange:g=>C(t,"value",g.target.value),className:"px-1 py-0.5 border border-gray-300 rounded",placeholder:"Value",step:"1",min:"0"}),e.jsx("input",{type:"color",value:((d=r.itemStyle)==null?void 0:d.color)||"#5470c6",onChange:g=>C(t,"color",g.target.value),className:"w-full h-6 rounded border border-gray-300 col-span-2"})]})]}),r.children&&r.children.map((g,b)=>o(g,[...t,b],c+1))]},t.join("-"))},[C,h,m]);return e.jsx(B,{children:e.jsxs("div",{className:`treemap-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{className:"w-6 h-6 text-orange-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Treemap Chart Builder"})]}),e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:j(),height:500,className:"w-full",onError:r=>{console.error("Treemap chart rendering error:",r)}})})}),e.jsxs("div",{className:"space-y-4 max-h-[700px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Chart Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:r=>p(t=>({...t,title:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",placeholder:"Enter chart title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Layout Algorithm"}),e.jsxs("select",{value:s.layout,onChange:r=>x(t=>({...t,layout:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",children:[e.jsx("option",{value:"squarified",children:"Squarified"}),e.jsx("option",{value:"binary",children:"Binary"}),e.jsx("option",{value:"slice",children:"Slice"}),e.jsx("option",{value:"dice",children:"Dice"}),e.jsx("option",{value:"sliceAndDice",children:"Slice & Dice"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Scheme"}),e.jsxs("select",{value:s.colorScheme,onChange:r=>x(t=>({...t,colorScheme:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",children:[e.jsx("option",{value:"default",children:"Default"}),e.jsx("option",{value:"gradient",children:"Gradient"}),e.jsx("option",{value:"category",children:"Category"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Node Click Action"}),e.jsxs("select",{value:s.nodeClick.toString(),onChange:r=>x(t=>({...t,nodeClick:r.target.value==="false"?!1:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",children:[e.jsx("option",{value:"zoomToNode",children:"Zoom to Node"}),e.jsx("option",{value:"link",children:"Open Link"}),e.jsx("option",{value:"false",children:"No Action"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Border Width: ",s.borderWidth,"px"]}),e.jsx("input",{type:"range",min:"0",max:"5",value:s.borderWidth,onChange:r=>x(t=>({...t,borderWidth:parseInt(r.target.value)})),className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showLabels,onChange:r=>x(t=>({...t,showLabels:r.target.checked})),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Labels"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showBreadcrumb,onChange:r=>x(t=>({...t,showBreadcrumb:r.target.checked})),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Breadcrumb"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.roam,onChange:r=>x(t=>({...t,roam:r.target.checked})),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Zoom & Pan"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Quick Templates"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>n("market"),className:"w-full px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:"Market Share"}),e.jsx("button",{onClick:()=>n("portfolio"),className:"w-full px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-colors",children:"Investment Portfolio"}),e.jsx("button",{onClick:()=>n("filesystem"),className:"w-full px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 transition-colors",children:"Disk Usage"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Hierarchy Structure"}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.data.map((r,t)=>o(r,[t]))})]})]})]})]})})},Ne=({className:S=""})=>{const[l,p]=u.useState({title:"Company Structure Sunburst",data:[{name:"Company",children:[{name:"Engineering",value:120,itemStyle:{color:"#5470c6"},children:[{name:"Frontend",value:40,itemStyle:{color:"#91cc75"}},{name:"Backend",value:50,itemStyle:{color:"#fac858"}},{name:"DevOps",value:30,itemStyle:{color:"#ee6666"}}]},{name:"Sales",value:80,itemStyle:{color:"#73c0de"},children:[{name:"Inside Sales",value:35,itemStyle:{color:"#3ba272"}},{name:"Field Sales",value:25,itemStyle:{color:"#fc8452"}},{name:"Sales Support",value:20,itemStyle:{color:"#9a60b4"}}]},{name:"Marketing",value:60,itemStyle:{color:"#ea7ccc"},children:[{name:"Digital Marketing",value:25,itemStyle:{color:"#5470c6"}},{name:"Content Marketing",value:20,itemStyle:{color:"#91cc75"}},{name:"Event Marketing",value:15,itemStyle:{color:"#fac858"}}]},{name:"Operations",value:40,itemStyle:{color:"#ee6666"},children:[{name:"HR",value:15,itemStyle:{color:"#73c0de"}},{name:"Finance",value:15,itemStyle:{color:"#3ba272"}},{name:"Legal",value:10,itemStyle:{color:"#fc8452"}}]}]}]}),[s,x]=u.useState({radius:[0,"90%"],sort:"desc",renderLabelForZeroData:!1,labelRotate:"radial",highlightPolicy:"descendant",colorScheme:"default",showLabels:!0,nodeClick:!0,animationDuration:1e3}),f={default:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4"],gradient:["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7"],category:["#ff7f50","#87ceeb","#da70d6","#32cd32","#ffd700","#ff69b4","#ba55d3","#cd5c5c"]},w=u.useCallback((r,t,c=0,i=0)=>r.map((d,g)=>{const b=(i+g)%t.length,v={...d,itemStyle:{color:t[b],borderColor:"#ffffff",borderWidth:c===0?2:1}};return d.children&&(v.children=w(d.children,t,c+1,b*3)),v}),[]),j=u.useCallback(()=>{try{const r=f[s.colorScheme],t=s.colorScheme!=="default"?w(l.data,r):l.data;return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",formatter:c=>{try{const{name:i,value:d,treePathInfo:g}=c,b=g?g.map(v=>v.name).join(" > "):i;return`
                <div style="text-align: left;">
                  <strong>${i}</strong><br/>
                  Path: ${b}<br/>
                  ${d?`Value: ${d}`:"Category"}
                </div>
              `}catch{return`${c.name}${c.value?`: ${c.value}`:""}`}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},series:[{name:"Sunburst",type:"sunburst",data:t,radius:s.radius,center:["50%","50%"],sort:s.sort,renderLabelForZeroData:s.renderLabelForZeroData,label:{show:s.showLabels,rotate:s.labelRotate,fontSize:12,fontWeight:"bold",color:"#ffffff",overflow:"break"},emphasis:{focus:s.highlightPolicy,itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},levels:[{},{r0:"15%",r:"35%",itemStyle:{borderWidth:2},label:{fontSize:14,fontWeight:"bold"}},{r0:"35%",r:"70%",label:{position:"outside",padding:3,silent:!1},itemStyle:{borderWidth:1}},{r0:"70%",r:"72%",label:{position:"outside",padding:3,silent:!1,fontSize:10},itemStyle:{borderWidth:1}}],animationDuration:s.animationDuration,animationEasing:"cubicOut"}],backgroundColor:"#FEFEFE"}}catch(r){return console.error("Error generating sunburst chart option:",r),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s,w]),y=u.useCallback((r,t,c)=>t.length===0?r:r.map((i,d)=>d===t[0]?t.length===1?c(i):{...i,children:i.children?y(i.children,t.slice(1),c):[]}:i),[]),C=u.useCallback((r,t,c)=>{try{p(i=>({...i,data:y(i.data,r,d=>{if(t==="color")return{...d,itemStyle:{...d.itemStyle,color:c}};if(t==="value"){const g=parseFloat(c);return{...d,value:isNaN(g)?void 0:Math.max(0,g)}}else return{...d,[t]:c}})}))}catch(i){console.error("Error updating node:",i)}},[y]),h=u.useCallback(r=>{try{const t=f[s.colorScheme],c={name:"New Item",value:10,itemStyle:{color:t[Math.floor(Math.random()*t.length)]}};p(i=>({...i,data:y(i.data,r,d=>({...d,children:[...d.children||[],c]}))}))}catch(t){console.error("Error adding node:",t)}},[y,s.colorScheme]),m=u.useCallback(r=>{try{if(r.length===0)return;const t=r.slice(0,-1),c=r[r.length-1];p(i=>({...i,data:y(i.data,t,d=>({...d,children:d.children?d.children.filter((g,b)=>b!==c):[]}))}))}catch(t){console.error("Error removing node:",t)}},[y]),n=u.useCallback(r=>{try{p({organization:{title:"Organizational Hierarchy",data:[{name:"CEO",children:[{name:"Technology",value:150,itemStyle:{color:"#5470c6"},children:[{name:"Development",value:80,itemStyle:{color:"#91cc75"}},{name:"QA",value:40,itemStyle:{color:"#fac858"}},{name:"DevOps",value:30,itemStyle:{color:"#ee6666"}}]},{name:"Business",value:100,itemStyle:{color:"#73c0de"},children:[{name:"Sales",value:60,itemStyle:{color:"#3ba272"}},{name:"Marketing",value:40,itemStyle:{color:"#fc8452"}}]}]}]},skills:{title:"Skill Development Tree",data:[{name:"Programming",children:[{name:"Frontend",value:80,itemStyle:{color:"#5470c6"},children:[{name:"React",value:40,itemStyle:{color:"#91cc75"}},{name:"Vue",value:25,itemStyle:{color:"#fac858"}},{name:"Angular",value:15,itemStyle:{color:"#ee6666"}}]},{name:"Backend",value:70,itemStyle:{color:"#73c0de"},children:[{name:"Node.js",value:35,itemStyle:{color:"#3ba272"}},{name:"Python",value:25,itemStyle:{color:"#fc8452"}},{name:"Java",value:10,itemStyle:{color:"#9a60b4"}}]}]}]},budget:{title:"Budget Allocation",data:[{name:"Annual Budget",children:[{name:"Operations",value:400,itemStyle:{color:"#5470c6"},children:[{name:"Salaries",value:250,itemStyle:{color:"#91cc75"}},{name:"Office",value:100,itemStyle:{color:"#fac858"}},{name:"Utilities",value:50,itemStyle:{color:"#ee6666"}}]},{name:"Growth",value:300,itemStyle:{color:"#73c0de"},children:[{name:"Marketing",value:150,itemStyle:{color:"#3ba272"}},{name:"R&D",value:100,itemStyle:{color:"#fc8452"}},{name:"Expansion",value:50,itemStyle:{color:"#9a60b4"}}]}]}]}}[r])}catch(t){console.error("Error generating sample data:",t)}},[]),a=u.useCallback(()=>{try{const r={type:"sunburst-chart",data:l,options:s,generatedAt:new Date().toISOString()},t=JSON.stringify(r,null,2),c=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(c),d=document.createElement("a");d.href=i,d.download=`sunburst-chart-${Date.now()}.json`,d.click(),URL.revokeObjectURL(i)}catch(r){console.error("Error exporting chart:",r),alert("Export failed. Please try again.")}},[l,s]),o=u.useCallback((r,t,c=0)=>{var d;const i=c*15;return e.jsxs("div",{style:{marginLeft:`${i}px`},className:"border-l border-gray-200 pl-2 mb-2",children:[e.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:r.name}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>h(t),className:"text-green-500 hover:text-green-700",children:e.jsx(z,{className:"w-3 h-3"})}),c>0&&e.jsx("button",{onClick:()=>m(t),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[e.jsx("input",{type:"text",value:r.name,onChange:g=>C(t,"name",g.target.value),className:"px-1 py-0.5 border border-gray-300 rounded",placeholder:"Node name"}),e.jsx("input",{type:"number",value:r.value||"",onChange:g=>C(t,"value",g.target.value),className:"px-1 py-0.5 border border-gray-300 rounded",placeholder:"Value (optional)",step:"1",min:"0"}),e.jsx("input",{type:"color",value:((d=r.itemStyle)==null?void 0:d.color)||"#5470c6",onChange:g=>C(t,"color",g.target.value),className:"w-full h-6 rounded border border-gray-300 col-span-2"})]})]}),r.children&&r.children.map((g,b)=>o(g,[...t,b],c+1))]},t.join("-"))},[C,h,m]);return e.jsx(B,{children:e.jsxs("div",{className:`sunburst-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($,{className:"w-6 h-6 text-yellow-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Sunburst Chart Builder"})]}),e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:j(),height:500,className:"w-full",onError:r=>{console.error("Sunburst chart rendering error:",r)}})})}),e.jsxs("div",{className:"space-y-4 max-h-[700px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Chart Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:r=>p(t=>({...t,title:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm",placeholder:"Enter chart title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),e.jsxs("select",{value:s.sort||"none",onChange:r=>x(t=>({...t,sort:r.target.value==="none"?null:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm",children:[e.jsx("option",{value:"desc",children:"Descending"}),e.jsx("option",{value:"asc",children:"Ascending"}),e.jsx("option",{value:"none",children:"No Sorting"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Scheme"}),e.jsxs("select",{value:s.colorScheme,onChange:r=>x(t=>({...t,colorScheme:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm",children:[e.jsx("option",{value:"default",children:"Default"}),e.jsx("option",{value:"gradient",children:"Gradient"}),e.jsx("option",{value:"category",children:"Category"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label Rotation"}),e.jsxs("select",{value:s.labelRotate,onChange:r=>x(t=>({...t,labelRotate:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm",children:[e.jsx("option",{value:"radial",children:"Radial"}),e.jsx("option",{value:"tangential",children:"Tangential"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Highlight Policy"}),e.jsxs("select",{value:s.highlightPolicy,onChange:r=>x(t=>({...t,highlightPolicy:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm",children:[e.jsx("option",{value:"descendant",children:"Descendants"}),e.jsx("option",{value:"ancestor",children:"Ancestors"}),e.jsx("option",{value:"self",children:"Self Only"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showLabels,onChange:r=>x(t=>({...t,showLabels:r.target.checked})),className:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Labels"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.nodeClick,onChange:r=>x(t=>({...t,nodeClick:r.target.checked})),className:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Node Click"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.renderLabelForZeroData,onChange:r=>x(t=>({...t,renderLabelForZeroData:r.target.checked})),className:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Zero Data Labels"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Quick Templates"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>n("organization"),className:"w-full px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:"Organization Chart"}),e.jsx("button",{onClick:()=>n("skills"),className:"w-full px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-colors",children:"Skill Tree"}),e.jsx("button",{onClick:()=>n("budget"),className:"w-full px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 transition-colors",children:"Budget Breakdown"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Hierarchy Structure"}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.data.map((r,t)=>o(r,[t]))})]})]})]})]})})},Ee=({className:S=""})=>{const[l,p]=u.useState({title:"Multi-Dimensional Data Analysis",dimensions:[{name:"Price",type:"value",min:0,max:100},{name:"Quality",type:"value",min:0,max:10},{name:"Performance",type:"value",min:0,max:100},{name:"Features",type:"value",min:0,max:20},{name:"Brand",type:"category",categories:["Apple","Samsung","Google","Huawei","OnePlus"]}],data:[{Price:80,Quality:8.5,Performance:85,Features:15,Brand:"Apple"},{Price:65,Quality:7.8,Performance:82,Features:14,Brand:"Samsung"},{Price:50,Quality:7.2,Performance:78,Features:12,Brand:"Google"},{Price:45,Quality:6.8,Performance:75,Features:11,Brand:"Huawei"},{Price:70,Quality:8,Performance:88,Features:16,Brand:"OnePlus"},{Price:85,Quality:9,Performance:90,Features:18,Brand:"Apple"},{Price:60,Quality:7.5,Performance:80,Features:13,Brand:"Samsung"},{Price:55,Quality:7,Performance:76,Features:10,Brand:"Google"},{Price:40,Quality:6.5,Performance:70,Features:9,Brand:"Huawei"},{Price:75,Quality:8.2,Performance:85,Features:17,Brand:"OnePlus"}]}),[s,x]=u.useState({smooth:!1,realtime:!0,colorBy:"data",colorScheme:"default",lineOpacity:.4,lineWidth:2,brushLink:"all",showAxisName:!0,parallelIndex:0}),f={default:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4"],gradient:["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7"],category:["#ff7f50","#87ceeb","#da70d6","#32cd32","#ffd700","#ff69b4","#ba55d3","#cd5c5c"]},w=u.useCallback(()=>{try{return l.dimensions.map((r,t)=>{const c={dim:t,name:r.name,nameLocation:"start",nameTextStyle:{fontSize:12,fontWeight:"bold",color:"#374151"}};return r.type==="category"&&r.categories?(c.type="category",c.data=r.categories):(c.type="value",c.min=r.min||0,c.max=r.max||100,c.axisLabel={formatter:i=>i.toFixed(1)}),c})}catch(r){return console.error("Error generating parallel config:",r),[]}},[l.dimensions]),j=u.useCallback(()=>{try{return l.data.map(r=>l.dimensions.map(t=>{const c=r[t.name];if(t.type==="category"&&t.categories){const i=t.categories.indexOf(c);return i>=0?i:0}return typeof c=="number"?c:0}))}catch(r){return console.error("Error converting data:",r),[]}},[l]),y=u.useCallback(()=>{try{const r=f[s.colorScheme],t=j();return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",formatter:c=>{try{const i=c.dataIndex,d=l.data[i];if(!d)return"Data unavailable";let g='<div style="text-align: left;"><strong>Data Point</strong><br/>';return l.dimensions.forEach(b=>{const v=d[b.name];g+=`${b.name}: ${v}<br/>`}),g+="</div>",g}catch{return"Data unavailable"}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},parallel:{left:"5%",right:"18%",bottom:"10%",top:"20%",parallelAxisDefault:{type:"value",nameLocation:"end",nameGap:20,nameTextStyle:{color:"#374151",fontSize:12},axisLine:{lineStyle:{color:"#94A3B8"}},axisTick:{lineStyle:{color:"#94A3B8"}},splitLine:{show:!1},axisLabel:{color:"#6B7280"}}},parallelAxis:w(),visualMap:{show:!0,min:0,max:Math.max(...t.flat()),dimension:0,inRange:{color:r},textStyle:{color:"#374151"},right:10,top:"middle"},series:[{name:"Parallel Coordinates",type:"parallel",lineStyle:{width:s.lineWidth,opacity:s.lineOpacity},data:t,smooth:s.smooth,realtime:s.realtime,emphasis:{lineStyle:{width:s.lineWidth+2,opacity:1}},animationDuration:1e3,animationEasing:"cubicOut"}],backgroundColor:"#FEFEFE"}}catch(r){return console.error("Error generating parallel chart option:",r),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s,w,j]),C=u.useCallback((r,t,c)=>{try{p(i=>({...i,dimensions:i.dimensions.map((d,g)=>{if(g===r)if(t==="categories"&&typeof c=="string"){const b=c.split(",").map(v=>v.trim()).filter(v=>v);return{...d,categories:b}}else return t==="min"||t==="max"?{...d,[t]:parseFloat(c)||0}:{...d,[t]:c};return d})}))}catch(i){console.error("Error updating dimension:",i)}},[]),h=u.useCallback(()=>{try{p(r=>({...r,dimensions:[...r.dimensions,{name:`Dimension ${r.dimensions.length+1}`,type:"value",min:0,max:100}]}))}catch(r){console.error("Error adding dimension:",r)}},[]),m=u.useCallback(r=>{try{l.dimensions.length>2&&p(t=>({...t,dimensions:t.dimensions.filter((c,i)=>i!==r)}))}catch(t){console.error("Error removing dimension:",t)}},[l.dimensions.length]),n=u.useCallback(()=>{try{const r={};l.dimensions.forEach(t=>{if(t.type==="category"&&t.categories)r[t.name]=t.categories[0]||"Unknown";else{const c=t.min||0,i=t.max||100;r[t.name]=Math.floor(Math.random()*(i-c)+c)}}),p(t=>({...t,data:[...t.data,r]}))}catch(r){console.error("Error adding data point:",r)}},[l.dimensions]);u.useCallback(r=>{try{l.data.length>1&&p(t=>({...t,data:t.data.filter((c,i)=>i!==r)}))}catch(t){console.error("Error removing data point:",t)}},[l.data.length]);const a=u.useCallback(r=>{try{const t={products:{title:"Product Comparison Analysis",dimensions:[{name:"Price",type:"value",min:0,max:100},{name:"Quality",type:"value",min:0,max:10},{name:"Performance",type:"value",min:0,max:100},{name:"Features",type:"value",min:0,max:20},{name:"Brand",type:"category",categories:["Apple","Samsung","Google","Huawei","OnePlus"]}],data:Array.from({length:15},()=>({Price:Math.floor(Math.random()*100),Quality:Math.floor(Math.random()*10),Performance:Math.floor(Math.random()*100),Features:Math.floor(Math.random()*20),Brand:["Apple","Samsung","Google","Huawei","OnePlus"][Math.floor(Math.random()*5)]}))},employees:{title:"Employee Performance Analysis",dimensions:[{name:"Experience",type:"value",min:0,max:20},{name:"Performance",type:"value",min:0,max:100},{name:"Salary",type:"value",min:30,max:150},{name:"Education",type:"value",min:1,max:5},{name:"Department",type:"category",categories:["Engineering","Sales","Marketing","HR","Finance"]}],data:Array.from({length:20},()=>({Experience:Math.floor(Math.random()*20),Performance:Math.floor(Math.random()*100),Salary:Math.floor(Math.random()*120)+30,Education:Math.floor(Math.random()*5)+1,Department:["Engineering","Sales","Marketing","HR","Finance"][Math.floor(Math.random()*5)]}))},stocks:{title:"Stock Analysis Dashboard",dimensions:[{name:"Price",type:"value",min:0,max:500},{name:"Volume",type:"value",min:0,max:1e3},{name:"PE Ratio",type:"value",min:0,max:50},{name:"Dividend",type:"value",min:0,max:10},{name:"Sector",type:"category",categories:["Technology","Healthcare","Finance","Energy","Consumer"]}],data:Array.from({length:25},()=>({Price:Math.floor(Math.random()*500),Volume:Math.floor(Math.random()*1e3),"PE Ratio":Math.floor(Math.random()*50),Dividend:Math.floor(Math.random()*10),Sector:["Technology","Healthcare","Finance","Energy","Consumer"][Math.floor(Math.random()*5)]}))}};p(t[r])}catch(t){console.error("Error generating sample data:",t)}},[]),o=u.useCallback(()=>{try{const r={type:"parallel-chart",data:l,options:s,generatedAt:new Date().toISOString()},t=JSON.stringify(r,null,2),c=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(c),d=document.createElement("a");d.href=i,d.download=`parallel-chart-${Date.now()}.json`,d.click(),URL.revokeObjectURL(i)}catch(r){console.error("Error exporting chart:",r),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:`parallel-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"w-6 h-6 text-blue-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Parallel Coordinates Builder"})]}),e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:y(),height:500,className:"w-full",onError:r=>{console.error("Parallel chart rendering error:",r)}})})}),e.jsxs("div",{className:"space-y-4 max-h-[700px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Chart Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:r=>p(t=>({...t,title:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter chart title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Scheme"}),e.jsxs("select",{value:s.colorScheme,onChange:r=>x(t=>({...t,colorScheme:r.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"default",children:"Default"}),e.jsx("option",{value:"gradient",children:"Gradient"}),e.jsx("option",{value:"category",children:"Category"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Line Opacity: ",s.lineOpacity]}),e.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:s.lineOpacity,onChange:r=>x(t=>({...t,lineOpacity:parseFloat(r.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Line Width: ",s.lineWidth,"px"]}),e.jsx("input",{type:"range",min:"1",max:"5",value:s.lineWidth,onChange:r=>x(t=>({...t,lineWidth:parseInt(r.target.value)})),className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.smooth,onChange:r=>x(t=>({...t,smooth:r.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Smooth Lines"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.realtime,onChange:r=>x(t=>({...t,realtime:r.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Real-time Brush"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Quick Templates"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>a("products"),className:"w-full px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:"Product Analysis"}),e.jsx("button",{onClick:()=>a("employees"),className:"w-full px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-colors",children:"Employee Performance"}),e.jsx("button",{onClick:()=>a("stocks"),className:"w-full px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 transition-colors",children:"Stock Analysis"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium",children:"Dimensions"}),e.jsxs("button",{onClick:h,className:"flex items-center space-x-1 px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:"Add"})]})]}),e.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:l.dimensions.map((r,t)=>{var c;return e.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Dimension ",t+1]}),l.dimensions.length>2&&e.jsx("button",{onClick:()=>m(t),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:r.name,onChange:i=>C(t,"name",i.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Dimension name"}),e.jsxs("select",{value:r.type,onChange:i=>C(t,"type",i.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"value",children:"Numeric"}),e.jsx("option",{value:"category",children:"Category"})]}),r.type==="category"?e.jsx("textarea",{value:((c=r.categories)==null?void 0:c.join(", "))||"",onChange:i=>C(t,"categories",i.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",rows:2,placeholder:"Category1, Category2, Category3"}):e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsx("input",{type:"number",value:r.min||0,onChange:i=>C(t,"min",i.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Min"}),e.jsx("input",{type:"number",value:r.max||100,onChange:i=>C(t,"max",i.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Max"})]})]})]},t)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"font-medium",children:["Data Points (",l.data.length,")"]}),e.jsx("div",{className:"flex space-x-1",children:e.jsxs("button",{onClick:n,className:"flex items-center space-x-1 px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:"Add"})]})})]}),e.jsxs("div",{className:"text-xs text-gray-500 max-h-20 overflow-y-auto",children:[e.jsx("div",{className:"font-medium mb-1",children:"Sample Data:"}),l.data.slice(0,3).map((r,t)=>e.jsx("div",{className:"mb-1",children:Object.entries(r).map(([c,i])=>`${c}: ${i}`).join(", ")},t)),l.data.length>3&&e.jsxs("div",{children:["... and ",l.data.length-3," more"]})]})]})]})]})]})})},Be=({className:S=""})=>{const[l,p]=u.useState({title:"Network Relationship Graph",categories:[{name:"Core",itemStyle:{color:"#5470c6"}},{name:"Management",itemStyle:{color:"#91cc75"}},{name:"External",itemStyle:{color:"#fac858"}}],nodes:[{id:"CEO",name:"CEO",value:50,category:1,symbolSize:40},{id:"CTO",name:"CTO",value:40,category:1,symbolSize:35},{id:"Dev1",name:"Developer 1",value:25,category:0,symbolSize:25},{id:"Dev2",name:"Developer 2",value:25,category:0,symbolSize:25},{id:"Client",name:"Client",value:15,category:2,symbolSize:20}],links:[{source:"CEO",target:"CTO",value:5},{source:"CTO",target:"Dev1",value:3},{source:"CTO",target:"Dev2",value:3},{source:"Dev1",target:"Client",value:2},{source:"Dev2",target:"Client",value:2}]}),[s,x]=u.useState({layout:"force",roam:!0,showLabels:!0,edgeLength:150,repulsion:1e3}),f=u.useCallback(()=>{try{return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",formatter:h=>h.dataType==="node"?`<strong>${h.data.name}</strong><br/>Value: ${h.data.value||0}`:`${h.data.source}  ${h.data.target}`},legend:{data:l.categories.map(h=>h.name),top:40},series:[{type:"graph",layout:s.layout,data:l.nodes,links:l.links,categories:l.categories,roam:s.roam,label:{show:s.showLabels,position:"right",fontSize:12},force:s.layout==="force"?{edgeLength:s.edgeLength,repulsion:s.repulsion,gravity:.2}:void 0,emphasis:{focus:"adjacency",lineStyle:{width:4}}}]}}catch{return{title:{text:"Chart Error"},series:[]}}},[l,s]),w=u.useCallback(()=>{const h=`Node_${Date.now()}`;p(m=>({...m,nodes:[...m.nodes,{id:h,name:`Node ${m.nodes.length+1}`,value:20,category:0,symbolSize:20}]}))},[]),j=u.useCallback(h=>{const m=l.nodes[h];l.nodes.length>2&&p(n=>({...n,nodes:n.nodes.filter((a,o)=>o!==h),links:n.links.filter(a=>a.source!==m.id&&a.target!==m.id)}))},[l.nodes]),y=u.useCallback(h=>{const m={social:{title:"Social Network",nodes:[{id:"You",name:"You",value:50,category:0,symbolSize:40},{id:"Friend1",name:"Best Friend",value:35,category:0,symbolSize:32},{id:"Family",name:"Family",value:30,category:1,symbolSize:30},{id:"Work",name:"Colleagues",value:25,category:2,symbolSize:25}],links:[{source:"You",target:"Friend1",value:5},{source:"You",target:"Family",value:5},{source:"You",target:"Work",value:3}]},org:{title:"Organization Chart",nodes:[{id:"CEO",name:"CEO",value:50,category:1,symbolSize:45},{id:"CTO",name:"CTO",value:40,category:1,symbolSize:40},{id:"Dev1",name:"Developer 1",value:20,category:0,symbolSize:20},{id:"Dev2",name:"Developer 2",value:20,category:0,symbolSize:20}],links:[{source:"CEO",target:"CTO",value:5},{source:"CTO",target:"Dev1",value:3},{source:"CTO",target:"Dev2",value:3}]},tech:{title:"Tech Stack",nodes:[{id:"React",name:"React",value:40,category:0,symbolSize:35},{id:"Node",name:"Node.js",value:35,category:1,symbolSize:32},{id:"DB",name:"Database",value:25,category:2,symbolSize:25}],links:[{source:"React",target:"Node",value:4},{source:"Node",target:"DB",value:3}]}};p(n=>({...n,...m[h]}))},[]),C=u.useCallback(()=>{try{const h=JSON.stringify({type:"graph-chart",data:l,options:s},null,2),m=new Blob([h],{type:"application/json"}),n=URL.createObjectURL(m),a=document.createElement("a");a.href=n,a.download=`graph-chart-${Date.now()}.json`,a.click(),URL.revokeObjectURL(n)}catch{alert("Export failed.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:`graph-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(T,{className:"w-6 h-6 text-cyan-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Graph/Network Chart Builder"})]}),e.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:f(),height:500,className:"w-full"})})}),e.jsxs("div",{className:"space-y-4 max-h-[700px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:l.title,onChange:h=>p(m=>({...m,title:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"Chart title"}),e.jsxs("select",{value:s.layout,onChange:h=>x(m=>({...m,layout:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",children:[e.jsx("option",{value:"force",children:"Force Layout"}),e.jsx("option",{value:"circular",children:"Circular Layout"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showLabels,onChange:h=>x(m=>({...m,showLabels:h.target.checked})),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Labels"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.roam,onChange:h=>x(m=>({...m,roam:h.target.checked})),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Zoom & Pan"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Templates"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>y("social"),className:"w-full px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600",children:"Social Network"}),e.jsx("button",{onClick:()=>y("org"),className:"w-full px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600",children:"Organization"}),e.jsx("button",{onClick:()=>y("tech"),className:"w-full px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600",children:"Tech Stack"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"font-medium",children:["Nodes (",l.nodes.length,")"]}),e.jsxs("button",{onClick:w,className:"flex items-center space-x-1 px-3 py-1 bg-cyan-500 text-white text-sm rounded hover:bg-cyan-600",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:"Add"})]})]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:l.nodes.map((h,m)=>e.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded",children:[e.jsx("span",{className:"text-sm font-medium",children:h.name}),l.nodes.length>2&&e.jsx("button",{onClick:()=>j(m),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-4 h-4"})})]},h.id))})]})]})]})]})})},De=({className:S=""})=>{const[l,p]=u.useState({title:"Creative Data Visualization",xAxisLabel:"Categories",yAxisLabel:"Values",data:[{name:"Apples",value:120,color:"#ff6b6b",symbol:"circle",symbolSize:20,symbolRepeat:!0,symbolClip:!1},{name:"Oranges",value:200,color:"#feca57",symbol:"rect",symbolSize:18,symbolRepeat:!0,symbolClip:!1},{name:"Bananas",value:150,color:"#48dbfb",symbol:"roundRect",symbolSize:16,symbolRepeat:!0,symbolClip:!1},{name:"Grapes",value:80,color:"#0abde3",symbol:"triangle",symbolSize:22,symbolRepeat:!0,symbolClip:!1},{name:"Strawberries",value:90,color:"#ee5a6f",symbol:"diamond",symbolSize:20,symbolRepeat:!0,symbolClip:!1}]}),[s,x]=u.useState({orientation:"vertical",showLabels:!0,showGrid:!0,animationDuration:1e3,symbolRepeatDirection:"start",barGap:"20%",barCategoryGap:"40%"}),f=[{value:"circle",label:"Circle"},{value:"rect",label:"Rectangle"},{value:"roundRect",label:"Rounded Rectangle"},{value:"triangle",label:"Triangle"},{value:"diamond",label:"Diamond"},{value:"pin",label:"Pin"},{value:"arrow",label:"Arrow"},{value:"none",label:"None"}],w=u.useCallback(()=>{try{const n=s.orientation==="horizontal",a=l.data.map((r,t)=>({name:r.name,type:"pictorialBar",data:[{value:r.value,name:r.name,itemStyle:{color:r.color}}],symbol:r.symbol,symbolSize:r.symbolSize||20,symbolRepeat:r.symbolRepeat,symbolClip:r.symbolClip,symbolMargin:"10%",symbolRepeatDirection:s.symbolRepeatDirection,barGap:s.barGap,barCategoryGap:s.barCategoryGap,animationDuration:s.animationDuration,animationDelay:t*100,emphasis:{itemStyle:{opacity:.8,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.3)"}}}));return{title:{text:l.title,left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1E293B"}},tooltip:{trigger:"item",formatter:r=>{try{const{name:t,value:c,color:i}=r;return`
                <div style="text-align: left;">
                  <strong>${t}</strong><br/>
                  <span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${i};"></span>
                  Value: ${c.toLocaleString()}
                </div>
              `}catch{return`${r.name}: ${r.value}`}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E5E7EB",borderWidth:1,textStyle:{color:"#374151"}},legend:{data:l.data.map(r=>r.name),top:40,textStyle:{color:"#374151"}},grid:{left:"3%",right:"4%",bottom:"3%",top:"15%",containLabel:!0,show:s.showGrid,borderColor:"#E5E7EB"},xAxis:{type:n?"value":"category",data:n?void 0:l.data.map(r=>r.name),name:n?l.yAxisLabel:l.xAxisLabel,nameLocation:"middle",nameGap:30,axisLine:{lineStyle:{color:"#6B7280"}},splitLine:{show:s.showGrid,lineStyle:{color:"#E5E7EB",type:"dashed"}}},yAxis:{type:n?"category":"value",data:n?l.data.map(r=>r.name):void 0,name:n?l.xAxisLabel:l.yAxisLabel,nameLocation:"middle",nameGap:50,axisLine:{lineStyle:{color:"#6B7280"}},splitLine:{show:s.showGrid,lineStyle:{color:"#E5E7EB",type:"dashed"}}},series:a,backgroundColor:"#FEFEFE"}}catch(n){return console.error("Error generating pictorial bar chart option:",n),{title:{text:"Chart Error",left:"center"},series:[]}}},[l,s]),j=u.useCallback((n,a,o)=>{try{p(r=>({...r,data:r.data.map((t,c)=>c===n?a==="value"?{...t,value:Math.max(0,parseFloat(o)||0)}:a==="symbolSize"?{...t,symbolSize:Math.max(5,parseInt(o)||20)}:a==="symbolRepeat"?typeof o=="boolean"?{...t,symbolRepeat:o}:{...t,symbolRepeat:Math.max(1,parseInt(o)||1)}:{...t,[a]:o}:t)}))}catch(r){console.error("Error updating data item:",r)}},[]),y=u.useCallback(()=>{try{const n=["#ff6b6b","#feca57","#48dbfb","#0abde3","#ee5a6f","#ff9ff3","#54a0ff","#5f27cd"],a=["circle","rect","roundRect","triangle","diamond"];p(o=>({...o,data:[...o.data,{name:`Item ${o.data.length+1}`,value:Math.floor(Math.random()*200)+50,color:n[o.data.length%n.length],symbol:a[o.data.length%a.length],symbolSize:20,symbolRepeat:!0,symbolClip:!1}]}))}catch(n){console.error("Error adding data item:",n)}},[]),C=u.useCallback(n=>{try{l.data.length>1&&p(a=>({...a,data:a.data.filter((o,r)=>r!==n)}))}catch(a){console.error("Error removing data item:",a)}},[l.data.length]),h=u.useCallback(n=>{try{p({fruits:{title:"Fruit Sales Visualization",xAxisLabel:"Fruit Types",yAxisLabel:"Sales (kg)",data:[{name:"Apples",value:120,color:"#ff6b6b",symbol:"circle",symbolSize:20,symbolRepeat:!0,symbolClip:!1},{name:"Oranges",value:200,color:"#feca57",symbol:"circle",symbolSize:18,symbolRepeat:!0,symbolClip:!1},{name:"Bananas",value:150,color:"#48dbfb",symbol:"roundRect",symbolSize:16,symbolRepeat:!0,symbolClip:!1},{name:"Grapes",value:80,color:"#0abde3",symbol:"triangle",symbolSize:22,symbolRepeat:!0,symbolClip:!1},{name:"Strawberries",value:90,color:"#ee5a6f",symbol:"diamond",symbolSize:20,symbolRepeat:!0,symbolClip:!1}]},devices:{title:"Device Usage Statistics",xAxisLabel:"Device Types",yAxisLabel:"Users (thousands)",data:[{name:"Smartphones",value:350,color:"#1e90ff",symbol:"rect",symbolSize:25,symbolRepeat:!0,symbolClip:!1},{name:"Tablets",value:180,color:"#32cd32",symbol:"roundRect",symbolSize:22,symbolRepeat:!0,symbolClip:!1},{name:"Laptops",value:220,color:"#ff69b4",symbol:"rect",symbolSize:20,symbolRepeat:!0,symbolClip:!1},{name:"Desktops",value:90,color:"#ffa500",symbol:"rect",symbolSize:24,symbolRepeat:!0,symbolClip:!1},{name:"Smart TVs",value:130,color:"#9370db",symbol:"roundRect",symbolSize:26,symbolRepeat:!0,symbolClip:!1}]},social:{title:"Social Media Engagement",xAxisLabel:"Platforms",yAxisLabel:"Engagement (millions)",data:[{name:"Facebook",value:280,color:"#1877f2",symbol:"circle",symbolSize:24,symbolRepeat:!0,symbolClip:!1},{name:"Instagram",value:220,color:"#e4405f",symbol:"diamond",symbolSize:22,symbolRepeat:!0,symbolClip:!1},{name:"Twitter",value:180,color:"#1da1f2",symbol:"triangle",symbolSize:20,symbolRepeat:!0,symbolClip:!1},{name:"LinkedIn",value:120,color:"#0077b5",symbol:"rect",symbolSize:18,symbolRepeat:!0,symbolClip:!1},{name:"TikTok",value:300,color:"#ff0050",symbol:"pin",symbolSize:26,symbolRepeat:!0,symbolClip:!1}]}}[n])}catch(a){console.error("Error generating sample data:",a)}},[]),m=u.useCallback(()=>{try{const n={type:"pictorial-bar-chart",data:l,options:s,generatedAt:new Date().toISOString()},a=JSON.stringify(n,null,2),o=new Blob([a],{type:"application/json"}),r=URL.createObjectURL(o),t=document.createElement("a");t.href=r,t.download=`pictorial-bar-chart-${Date.now()}.json`,t.click(),URL.revokeObjectURL(r)}catch(n){console.error("Error exporting chart:",n),alert("Export failed. Please try again.")}},[l,s]);return e.jsx(B,{children:e.jsxs("div",{className:`pictorial-bar-chart-builder ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(W,{className:"w-6 h-6 text-pink-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Pictorial Bar Chart Builder"})]}),e.jsxs("button",{onClick:m,className:"flex items-center space-x-2 px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(R,{option:w(),height:400,className:"w-full",onError:n=>{console.error("Pictorial bar chart rendering error:",n)}})})}),e.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Chart Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:l.title,onChange:n=>p(a=>({...a,title:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm",placeholder:"Enter chart title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X-Axis Label"}),e.jsx("input",{type:"text",value:l.xAxisLabel,onChange:n=>p(a=>({...a,xAxisLabel:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm",placeholder:"X-axis label"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y-Axis Label"}),e.jsx("input",{type:"text",value:l.yAxisLabel,onChange:n=>p(a=>({...a,yAxisLabel:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm",placeholder:"Y-axis label"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Orientation"}),e.jsxs("select",{value:s.orientation,onChange:n=>x(a=>({...a,orientation:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm",children:[e.jsx("option",{value:"vertical",children:"Vertical"}),e.jsx("option",{value:"horizontal",children:"Horizontal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Symbol Repeat Direction"}),e.jsxs("select",{value:s.symbolRepeatDirection,onChange:n=>x(a=>({...a,symbolRepeatDirection:n.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm",children:[e.jsx("option",{value:"start",children:"Start"}),e.jsx("option",{value:"end",children:"End"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showLabels,onChange:n=>x(a=>({...a,showLabels:n.target.checked})),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Labels"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.showGrid,onChange:n=>x(a=>({...a,showGrid:n.target.checked})),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Grid"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Quick Templates"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>h("fruits"),className:"w-full px-3 py-2 bg-red-500 text-white text-sm rounded hover:bg-red-600 transition-colors",children:"Fruit Sales"}),e.jsx("button",{onClick:()=>h("devices"),className:"w-full px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:"Device Usage"}),e.jsx("button",{onClick:()=>h("social"),className:"w-full px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 transition-colors",children:"Social Media"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium",children:"Data Items"}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-1 px-3 py-1 bg-pink-500 text-white text-sm rounded hover:bg-pink-600 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:"Add Item"})]})]}),e.jsx("div",{className:"space-y-4",children:l.data.map((n,a)=>e.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Item ",a+1]}),l.data.length>1&&e.jsx("button",{onClick:()=>C(a),className:"text-red-500 hover:text-red-700",children:e.jsx(F,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:n.name,onChange:o=>j(a,"name",o.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-pink-500",placeholder:"Item name"}),e.jsx("input",{type:"number",value:n.value,onChange:o=>j(a,"value",o.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-pink-500",placeholder:"Value",min:"0",step:"1"}),e.jsx("select",{value:n.symbol,onChange:o=>j(a,"symbol",o.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-pink-500",children:f.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",value:n.symbolSize||20,onChange:o=>j(a,"symbolSize",o.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-pink-500",placeholder:"Size",min:"5",max:"50"}),e.jsx("input",{type:"color",value:n.color,onChange:o=>j(a,"color",o.target.value),className:"w-12 h-8 rounded border border-gray-300"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"checkbox",checked:!!n.symbolRepeat,onChange:o=>j(a,"symbolRepeat",o.target.checked),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-xs text-gray-700",children:"Repeat"})]}),e.jsxs("label",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"checkbox",checked:!!n.symbolClip,onChange:o=>j(a,"symbolClip",o.target.checked),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-xs text-gray-700",children:"Clip"})]})]})]})]},a))})]})]})]})]})})},Le=({className:S=""})=>{var i;const[l,p]=u.useState({name:"Sample Dataset",columns:[{name:"Product",type:"string",values:["Laptop","Smartphone","Tablet","Desktop","Smart TV"]},{name:"Sales",type:"number",values:[1500,2200,800,650,1200]},{name:"Category",type:"string",values:["Electronics","Electronics","Electronics","Electronics","Electronics"]},{name:"Date",type:"date",values:["2024-01-15","2024-01-16","2024-01-17","2024-01-18","2024-01-19"]},{name:"InStock",type:"boolean",values:[!0,!0,!1,!0,!0]}]}),[s,x]=u.useState(""),[f,w]=u.useState(""),[j,y]=u.useState(""),[C,h]=u.useState(""),[m,n]=u.useState("asc"),a=u.useCallback(d=>{try{const g=d.trim().split(`
`);if(g.length<2)return null;const b=g[0].split(",").map(k=>k.trim().replace(/"/g,"")),v=g.slice(1).map(k=>k.split(",").map(E=>E.trim().replace(/"/g,"")));return b.map(k=>{const E=v.map(A=>A[b.indexOf(k)]||"");let D="string";return E.every(A=>!isNaN(parseFloat(A))&&isFinite(parseFloat(A)))?D="number":E.every(A=>["true","false","1","0"].includes(A.toLowerCase()))?D="boolean":E.every(A=>!isNaN(Date.parse(A)))&&(D="date"),{name:k,type:D,values:D==="number"?E.map(A=>parseFloat(A)):D==="boolean"?E.map(A=>["true","1"].includes(A.toLowerCase())):E}})}catch(g){return console.error("Error parsing CSV:",g),null}},[]),o=u.useCallback(()=>{try{const d=a(s);d?(p(g=>({...g,columns:d})),x(""),alert("Data imported successfully!")):alert("Invalid CSV format. Please check your data.")}catch(d){console.error("Error importing CSV:",d),alert("Error importing CSV data.")}},[s,a]),r=u.useCallback(()=>{var d;try{let g=((d=l.columns[0])==null?void 0:d.values.map((b,v)=>v))||[];if(f&&j){const b=l.columns.find(v=>v.name===f);b&&(g=g.filter(v=>String(b.values[v]).toLowerCase().includes(j.toLowerCase())))}if(C){const b=l.columns.find(v=>v.name===C);b&&g.sort((v,N)=>{const k=b.values[v],E=b.values[N];let D=0;return b.type==="number"?D=parseFloat(k)-parseFloat(E):D=String(k).localeCompare(String(E)),m==="desc"?-D:D})}return g}catch(g){return console.error("Error processing data:",g),[]}},[l,f,j,C,m]),t=u.useCallback(d=>{try{const g=r();let b,v,N;if(d==="json"){const A={name:l.name,columns:l.columns.map(O=>({...O,values:g.map(P=>O.values[P])}))};b=JSON.stringify(A,null,2),v=`${l.name.replace(/\s+/g,"_")}_${Date.now()}.json`,N="application/json"}else{const A=l.columns.map(P=>P.name).join(","),O=g.map(P=>l.columns.map(te=>te.values[P]).join(",")).join(`
`);b=A+`
`+O,v=`${l.name.replace(/\s+/g,"_")}_${Date.now()}.csv`,N="text/csv"}const k=new Blob([b],{type:N}),E=URL.createObjectURL(k),D=document.createElement("a");D.href=E,D.download=v,D.click(),URL.revokeObjectURL(E)}catch(g){console.error("Error exporting data:",g),alert("Export failed. Please try again.")}},[l,r]),c=u.useCallback(d=>{try{p({sales:{name:"Sales Data",columns:[{name:"Product",type:"string",values:["iPhone","Samsung","iPad","MacBook","Dell"]},{name:"Revenue",type:"number",values:[5e4,35e3,25e3,8e4,45e3]},{name:"Units",type:"number",values:[50,70,125,40,45]},{name:"Quarter",type:"string",values:["Q1","Q1","Q2","Q2","Q3"]}]},users:{name:"User Analytics",columns:[{name:"Country",type:"string",values:["USA","UK","Germany","France","Japan"]},{name:"Users",type:"number",values:[15e3,8e3,12e3,7500,9e3]},{name:"Sessions",type:"number",values:[45e3,24e3,36e3,22500,27e3]},{name:"Active",type:"boolean",values:[!0,!0,!0,!1,!0]}]},financial:{name:"Financial Metrics",columns:[{name:"Month",type:"string",values:["Jan","Feb","Mar","Apr","May"]},{name:"Revenue",type:"number",values:[125e3,132e3,118e3,145e3,155e3]},{name:"Expenses",type:"number",values:[85e3,88e3,82e3,92e3,95e3]},{name:"Profit",type:"number",values:[4e4,44e3,36e3,53e3,6e4]}]}}[d])}catch(g){console.error("Error generating sample data:",g)}},[]);return e.jsx(B,{children:e.jsxs("div",{className:`dataset-manager ${S}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(q,{className:"w-6 h-6 text-blue-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Dataset Manager"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>t("csv"),className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"CSV"})]}),e.jsxs("button",{onClick:()=>t("json"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"JSON"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3",children:["Data Preview - ",l.name]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b",children:l.columns.map(d=>e.jsxs("th",{className:"text-left p-2 font-medium",children:[d.name,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",d.type,")"]})]},d.name))})}),e.jsx("tbody",{children:r().slice(0,10).map((d,g)=>e.jsx("tr",{className:"border-b hover:bg-gray-50",children:l.columns.map(b=>e.jsx("td",{className:"p-2",children:String(b.values[d])},b.name))},g))})]})}),e.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Showing ",Math.min(10,r().length)," of ",r().length," rows"]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Import Data"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:l.name,onChange:d=>p(g=>({...g,name:d.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Dataset name"}),e.jsx("textarea",{value:s,onChange:d=>x(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:4,placeholder:"Paste CSV data here..."}),e.jsx("button",{onClick:o,disabled:!s.trim(),className:"w-full px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors disabled:bg-gray-300",children:"Import CSV"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Sample Data"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>c("sales"),className:"w-full px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-colors",children:"Sales Data"}),e.jsx("button",{onClick:()=>c("users"),className:"w-full px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 transition-colors",children:"User Analytics"}),e.jsx("button",{onClick:()=>c("financial"),className:"w-full px-3 py-2 bg-orange-500 text-white text-sm rounded hover:bg-orange-600 transition-colors",children:"Financial Metrics"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"font-medium mb-3 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Transform Data"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsxs("select",{value:f,onChange:d=>w(d.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Column"}),l.columns.map(d=>e.jsx("option",{value:d.name,children:d.name},d.name))]}),e.jsx("input",{type:"text",value:j,onChange:d=>y(d.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Value"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsxs("select",{value:C,onChange:d=>h(d.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Column"}),l.columns.map(d=>e.jsx("option",{value:d.name,children:d.name},d.name))]}),e.jsxs("select",{value:m,onChange:d=>n(d.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"asc",children:""}),e.jsx("option",{value:"desc",children:""})]})]})]}),e.jsx("button",{onClick:()=>{w(""),y(""),h("")},className:"w-full px-3 py-2 bg-gray-500 text-white text-sm rounded hover:bg-gray-600 transition-colors",children:"Reset Filters"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Statistics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Rows:"}),e.jsx("span",{className:"font-medium",children:((i=l.columns[0])==null?void 0:i.values.length)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Filtered Rows:"}),e.jsx("span",{className:"font-medium",children:r().length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Columns:"}),e.jsx("span",{className:"font-medium",children:l.columns.length})]})]})]})]})]})]})})},Te=()=>{const[S]=me(),[l,p]=u.useState(null),[s,x]=u.useState(null),[f,w]=u.useState("");u.useEffect(()=>{const n=S.get("chart");if(n){const a=j.flatMap(o=>o.charts).find(o=>o.id===n);a&&a.implemented&&(p(n),x(null))}},[S]);const j=[{id:"basic",name:"Basic Charts",description:"Essential chart types for common data visualization needs",icon:W,color:"blue",charts:[{id:"bar",name:"Bar Chart",description:"Compare data across categories with vertical or horizontal bars",icon:W,component:ue,implemented:!0},{id:"line",name:"Line Chart",description:"Show trends and changes over time with connected data points",icon:Y,component:he,implemented:!0},{id:"pie",name:"Pie Chart",description:"Display proportional data as slices of a circular chart",icon:se,component:ge,implemented:!0},{id:"scatter",name:"Scatter Plot",description:"Analyze correlations between two variables with plotted points",icon:U,component:pe,implemented:!0}]},{id:"statistical",name:"Statistical Charts",description:"Advanced charts for statistical analysis and data exploration",icon:V,color:"green",charts:[{id:"radar",name:"Radar Chart",description:"Multi-dimensional data comparison in a radial format",icon:ne,component:xe,implemented:!0},{id:"heatmap",name:"Heatmap",description:"Visualize data density and correlations with color intensity",icon:X,component:be,implemented:!0},{id:"boxplot",name:"Box Plot",description:"Statistical distribution analysis with quartiles and outliers",icon:G,component:Ce,implemented:!0},{id:"candlestick",name:"Candlestick",description:"Financial data visualization with OHLC (Open, High, Low, Close)",icon:re,component:je,implemented:!0}]},{id:"hierarchical",name:"Hierarchical Charts",description:"Visualize tree structures and nested data relationships",icon:_,color:"purple",charts:[{id:"tree",name:"Tree Chart",description:"Hierarchical data visualization in tree structure",icon:_,component:Se,implemented:!0},{id:"treemap",name:"Treemap",description:"Hierarchical data as nested rectangles by size",icon:X,component:ke,implemented:!0},{id:"sunburst",name:"Sunburst",description:"Multi-level hierarchical data in concentric circles",icon:$,component:Ne,implemented:!0}]},{id:"flow",name:"Flow & Network",description:"Visualize relationships, flows, and network connections",icon:T,color:"indigo",charts:[{id:"sankey",name:"Sankey Diagram",description:"Flow visualization between different stages or categories",icon:T,component:ve,implemented:!0},{id:"graph",name:"Graph/Network",description:"Node-link diagrams for network relationship visualization",icon:T,component:Be,implemented:!0},{id:"parallel",name:"Parallel Coordinates",description:"Multi-dimensional data analysis with parallel axes",icon:G,component:Ee,implemented:!0}]},{id:"specialized",name:"Specialized Charts",description:"Purpose-built charts for specific use cases and industries",icon:J,color:"orange",charts:[{id:"gauge",name:"Gauge Chart",description:"KPI visualization with speedometer-style indicators",icon:J,component:ye,implemented:!0},{id:"funnel",name:"Funnel Chart",description:"Conversion analysis and process flow visualization",icon:$,component:fe,implemented:!0},{id:"pictorialbar",name:"Pictorial Bar",description:"Creative bar charts with custom shapes and symbols",icon:W,component:De,implemented:!0},{id:"calendar",name:"Calendar Chart",description:"Time-series data visualization in calendar format",icon:ie,component:we,implemented:!0},{id:"themeriver",name:"Theme River",description:"Temporal data flow visualization over time",icon:V,implemented:!1}]},{id:"geographic",name:"Geographic Charts",description:"Location-based data visualization and mapping",icon:Q,color:"teal",charts:[{id:"map",name:"Geo/Map Chart",description:"Geographic data visualization on world/country maps",icon:Q,implemented:!1},{id:"lines",name:"Map Lines",description:"Flight routes and connection visualization on maps",icon:T,implemented:!1}]},{id:"3d",name:"3D Charts",description:"Three-dimensional data visualization with depth and perspective",icon:Z,color:"pink",charts:[{id:"3d-globe",name:"3D Globe",description:"Interactive 3D earth visualization for global data",icon:Z,implemented:!1},{id:"3d-bar",name:"3D Bar Chart",description:"Three-dimensional bar charts with depth",icon:G,implemented:!1},{id:"3d-scatter",name:"3D Scatter Plot",description:"Three-dimensional scatter plot for complex correlations",icon:U,implemented:!1},{id:"3d-surface",name:"3D Surface",description:"Mathematical function visualization in 3D space",icon:V,implemented:!1},{id:"3d-map",name:"3D Map",description:"Three-dimensional geographic visualization",icon:Q,implemented:!1},{id:"3d-lines",name:"3D Lines",description:"Three-dimensional line connections and paths",icon:Y,implemented:!1}]},{id:"webgl",name:"WebGL Enhanced",description:"High-performance charts using WebGL for large datasets",icon:K,color:"cyan",charts:[{id:"scatter-gl",name:"Scatter GL",description:"GPU-accelerated scatter plots for massive datasets",icon:U,implemented:!1},{id:"lines-gl",name:"Lines GL",description:"High-performance line rendering with WebGL",icon:Y,implemented:!1},{id:"flow-gl",name:"Flow GL",description:"GPU-accelerated flow field visualization",icon:V,implemented:!1},{id:"graph-gl",name:"Graph GL",description:"Large-scale network visualization with WebGL",icon:T,implemented:!1}]},{id:"utility",name:"Utilities & Tools",description:"Data transformation and chart enhancement utilities",icon:q,color:"gray",charts:[{id:"dataset",name:"Dataset Manager",description:"Data transformation and management utilities",icon:q,component:Le,implemented:!0},{id:"datazoom",name:"Data Zoom",description:"Interactive zooming and panning for large datasets",icon:U,implemented:!1},{id:"graphic",name:"Graphic Elements",description:"Custom graphics and annotations for charts",icon:K,implemented:!1},{id:"richtext",name:"Rich Text",description:"Advanced text formatting and labeling options",icon:W,implemented:!1}]}],y=n=>{try{p(n),x(null)}catch(a){console.error("Error selecting chart:",a),p(null)}},C=n=>{try{x(n),p(null)}catch(a){console.error("Error selecting category:",a),x(null)}},h=()=>{try{x(null),p(null)}catch(n){console.error("Error going back to categories:",n)}},m=()=>{try{const n=j.flatMap(o=>o.charts).find(o=>o.id===l);if(!n||!n.component)return e.jsx("div",{style:{minHeight:"100vh",background:"var(--bg-primary)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:e.jsxs("div",{style:{background:"var(--warning-light)",border:"2px solid var(--warning-color)",borderRadius:"16px",padding:"3rem",textAlign:"center",maxWidth:"600px",boxShadow:"var(--shadow-md)"},children:[e.jsx(H,{size:64,style:{color:"var(--warning-color)",margin:"0 auto 1.5rem auto"}}),e.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:"var(--warning-color)",margin:"0 0 1rem 0"},children:"Chart Coming Soon"}),e.jsxs("p",{style:{color:"var(--text-secondary)",margin:"0 0 2rem 0",lineHeight:"1.6",fontSize:"1rem"},children:["The ",n==null?void 0:n.name," component is currently under development and will be available soon."]}),e.jsx("button",{onClick:h,style:{padding:"1rem 2rem",background:"var(--warning-color)",color:"white",border:"none",borderRadius:"12px",fontWeight:"600",fontSize:"1rem",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"var(--shadow-sm)"},children:"Back to Chart Selection"})]})});const a=n.component;return e.jsx(B,{fallback:e.jsxs("div",{style:{background:"var(--error-light)",border:"2px solid var(--error-color)",borderRadius:"16px",padding:"2rem",textAlign:"center",maxWidth:"600px",margin:"2rem auto"},children:[e.jsx(H,{size:48,style:{color:"var(--error-color)",margin:"0 auto 1rem auto"}}),e.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"var(--error-color)",margin:"0 0 1rem 0"},children:"Chart Component Error"}),e.jsxs("p",{style:{color:"var(--text-secondary)",margin:"0 0 1.5rem 0",lineHeight:"1.5"},children:["There was an error loading the ",n.name," component."]}),e.jsx("button",{onClick:h,style:{padding:"0.75rem 1.5rem",background:"var(--error-color)",color:"white",border:"none",borderRadius:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},children:"Back to Chart Selection"})]}),children:e.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-primary)",padding:"0"},children:[e.jsx("div",{style:{background:"white",borderBottom:"1px solid var(--border-color)",padding:"1rem 2rem",position:"sticky",top:"0",zIndex:"10",boxShadow:"var(--shadow-sm)"},children:e.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("button",{onClick:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--bg-tertiary)",border:"2px solid var(--border-color)",borderRadius:"12px",padding:"0.75rem 1rem",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.3s ease"},onMouseEnter:o=>{o.currentTarget.style.borderColor="var(--accent-color)",o.currentTarget.style.color="var(--accent-color)"},onMouseLeave:o=>{o.currentTarget.style.borderColor="var(--border-color)",o.currentTarget.style.color="var(--text-secondary)"},children:[e.jsx(I,{size:16,style:{transform:"rotate(180deg)"}}),"Back to Charts"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"var(--accent-light)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(n.icon,{size:18,style:{color:"var(--accent-color)"}})}),e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--text-primary)",margin:0},children:n.name}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",margin:0},children:n.description})]})]})]})}),e.jsx("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:e.jsx(a,{})})]})})}catch(n){return console.error("Error rendering active chart:",n),e.jsx("div",{style:{minHeight:"100vh",background:"var(--bg-primary)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:e.jsxs("div",{style:{background:"var(--error-light)",border:"2px solid var(--error-color)",borderRadius:"16px",padding:"3rem",textAlign:"center",maxWidth:"600px",boxShadow:"var(--shadow-md)"},children:[e.jsx(H,{size:64,style:{color:"var(--error-color)",margin:"0 auto 1.5rem auto"}}),e.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:"var(--error-color)",margin:"0 0 1rem 0"},children:"Rendering Error"}),e.jsx("p",{style:{color:"var(--text-secondary)",margin:"0 0 2rem 0",lineHeight:"1.6",fontSize:"1rem"},children:"Unable to render the chart component. This error is isolated and won't affect other parts of the application."}),e.jsx("button",{onClick:h,style:{padding:"1rem 2rem",background:"var(--error-color)",color:"white",border:"none",borderRadius:"12px",fontWeight:"600",fontSize:"1rem",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"var(--shadow-sm)"},children:"Back to Chart Selection"})]})})}};if(s&&!l){const n=j.find(o=>o.id===s);if(!n)return e.jsx("div",{className:"tool-container",children:e.jsxs("div",{className:"text-center",children:[e.jsx(H,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Category Not Found"}),e.jsx("button",{onClick:h,style:{padding:"0.75rem 1.5rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"12px",fontWeight:"600",cursor:"pointer"},children:"Back to Categories"})]})});const a=n.icon;return e.jsx(B,{children:e.jsxs("div",{className:"tool-container",children:[e.jsx("div",{style:{marginBottom:"2rem"},children:e.jsxs("button",{onClick:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",padding:"0.5rem 0"},children:[e.jsx(I,{size:16,style:{transform:"rotate(180deg)"}}),"Back to Categories"]})}),e.jsx("div",{style:{textAlign:"center",marginBottom:"3rem"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"16px",background:"var(--accent-light)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(a,{size:32,style:{color:"var(--accent-color)"}})}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--text-primary)",margin:0,marginBottom:"0.5rem"},children:n.name}),e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.1rem",margin:0},children:n.description})]})]})}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"3rem"},children:n.charts.map(o=>{const r=o.icon;return e.jsxs("div",{onClick:()=>o.implemented?y(o.id):null,style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",cursor:o.implemented?"pointer":"not-allowed",opacity:o.implemented?1:.6,transition:"all 0.3s ease",boxShadow:"var(--shadow-sm)",position:"relative"},onMouseEnter:t=>{o.implemented&&(t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="var(--shadow-md)",t.currentTarget.style.borderColor="var(--accent-color)")},onMouseLeave:t=>{o.implemented&&(t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="var(--shadow-sm)",t.currentTarget.style.borderColor="var(--border-color)")},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:o.implemented?"var(--accent-light)":"var(--bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(r,{size:20,style:{color:o.implemented?"var(--accent-color)":"var(--text-muted)"}})}),e.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--text-primary)",margin:0},children:o.name})]}),!o.implemented&&e.jsx("span",{style:{background:"var(--warning-light)",color:"var(--warning-color)",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"500"},children:"Soon"})]}),e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem",lineHeight:"1.5",margin:"0 0 1.5rem 0"},children:o.description}),o.implemented?e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"var(--accent-color)",fontWeight:"600",fontSize:"0.9rem",paddingTop:"1rem",borderTop:"1px solid var(--border-color)"},children:["Create Chart",e.jsx(I,{size:16})]}):e.jsx("div",{style:{textAlign:"center",paddingTop:"1rem",borderTop:"1px solid var(--border-color)",color:"var(--text-muted)",fontSize:"0.9rem"},children:"Coming Soon"})]},o.id)})}),e.jsx("div",{style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"2rem"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"2rem",textAlign:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--accent-color)",marginBottom:"0.5rem"},children:n.charts.filter(o=>o.implemented).length}),e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Available Now"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--text-muted)",marginBottom:"0.5rem"},children:n.charts.length}),e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Total Charts"})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--success-color)",marginBottom:"0.5rem"},children:[Math.round(n.charts.filter(o=>o.implemented).length/n.charts.length*100),"%"]}),e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Ready"})]})]})})]})})}if(!l&&!s){const n=j.map(a=>{const o=a.charts.filter(r=>(f===""||r.name.toLowerCase().includes(f.toLowerCase())||r.description.toLowerCase().includes(f.toLowerCase())||a.name.toLowerCase().includes(f.toLowerCase()))&&r.implemented);return{...a,charts:o,hasMatches:o.length>0}}).filter(a=>a.hasMatches||f==="");return e.jsx(B,{children:e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("h1",{children:"Chart Tools"}),e.jsx("p",{children:"Interactive visualization powered by ECharts - Create stunning charts and graphs"})]}),e.jsxs("div",{style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",marginBottom:"2rem",boxShadow:"var(--shadow-sm)"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx(ee,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),e.jsx("input",{type:"text",placeholder:"Search charts by name, description, or category...",value:f,onChange:a=>w(a.target.value),style:{width:"100%",paddingLeft:"3rem",paddingRight:"1rem",paddingTop:"1rem",paddingBottom:"1rem",border:"2px solid var(--border-color)",borderRadius:"12px",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"1rem",transition:"all 0.3s ease"},onFocus:a=>a.target.style.borderColor="var(--accent-color)",onBlur:a=>a.target.style.borderColor="var(--border-color)"})]}),f&&e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsxs("span",{children:["Found ",n.reduce((a,o)=>a+o.charts.length,0)," charts in ",n.length," categories"]}),f&&e.jsx("button",{onClick:()=>w(""),style:{background:"var(--bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"0.25rem 0.5rem",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.8rem",transition:"all 0.3s ease"},onMouseEnter:a=>{a.currentTarget.style.background="var(--accent-light)",a.currentTarget.style.color="var(--accent-color)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--bg-tertiary)",a.currentTarget.style.color="var(--text-secondary)"},children:"Clear search"})]})]}),f&&n.length===0&&e.jsxs("div",{style:{background:"white",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"3rem",textAlign:"center",boxShadow:"var(--shadow-sm)"},children:[e.jsx(ee,{size:48,style:{color:"var(--text-muted)",margin:"0 auto 1rem auto"}}),e.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"var(--text-secondary)",margin:"0 0 0.5rem 0"},children:"No charts found"}),e.jsx("p",{style:{color:"var(--text-muted)",margin:"0 0 1.5rem 0"},children:"Try searching with different keywords or browse all categories below."}),e.jsx("button",{onClick:()=>w(""),style:{padding:"0.75rem 1.5rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},children:"Show All Charts"})]}),f&&n.length>0&&e.jsxs("div",{style:{background:"white",border:"2px solid var(--accent-color)",borderRadius:"16px",padding:"1.5rem",marginBottom:"2rem",boxShadow:"var(--shadow-md)"},children:[e.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--text-primary)",margin:"0 0 1rem 0",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx($,{size:20,style:{color:"var(--accent-color)"}}),"Quick Access to Charts"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"0.75rem"},children:n.flatMap(a=>a.charts).slice(0,8).map((a,o)=>{const r=a.icon;return e.jsxs("button",{onClick:()=>y(a.id),style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"var(--accent-light)",border:"2px solid var(--accent-color)",borderRadius:"12px",color:"var(--accent-color)",cursor:"pointer",fontWeight:"500",fontSize:"0.9rem",transition:"all 0.3s ease",textAlign:"left"},onMouseEnter:t=>{t.currentTarget.style.background="var(--accent-color)",t.currentTarget.style.color="white"},onMouseLeave:t=>{t.currentTarget.style.background="var(--accent-light)",t.currentTarget.style.color="var(--accent-color)"},children:[e.jsx(r,{size:18}),e.jsx("span",{children:a.name}),e.jsx(I,{size:16,style:{marginLeft:"auto"}})]},a.id)})}),n.flatMap(a=>a.charts).length>8&&e.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:"1rem 0 0 0",textAlign:"center"},children:["+",n.flatMap(a=>a.charts).length-8," more charts available in categories below"]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem",marginTop:"2rem"},children:n.map((a,o)=>{var d,g;const r=a.icon,t=a.charts.length,c=((d=j.find(b=>b.id===a.id))==null?void 0:d.charts.filter(b=>b.implemented).length)||0,i=((g=j.find(b=>b.id===a.id))==null?void 0:g.charts.length)||0;return e.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*o},onClick:()=>t>0&&C(a.id),style:{background:"white",border:f&&t>0?"2px solid var(--accent-color)":"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",cursor:t>0?"pointer":"not-allowed",opacity:t>0?1:.6,transition:"all 0.3s ease",boxShadow:f&&t>0?"var(--shadow-md)":"var(--shadow-sm)"},whileHover:t>0?{y:-5,boxShadow:"var(--shadow-md)"}:{},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:t>0?"var(--accent-light)":"var(--bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(r,{size:24,style:{color:t>0?"var(--accent-color)":"var(--text-muted)"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"var(--text-primary)",margin:0,marginBottom:"0.25rem"},children:a.name}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsxs("span",{children:[f?`${t} matching`:`${c} of ${i}`," charts"]}),t>0&&e.jsx("span",{style:{background:f?"var(--accent-light)":"var(--success-light)",color:f?"var(--accent-color)":"var(--success-color)",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"500"},children:f?"Found":"Ready"})]})]})]}),e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem",lineHeight:"1.5",margin:"0 0 1rem 0"},children:a.description}),e.jsx("div",{style:{marginBottom:"1rem"},children:e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[a.charts.slice(0,3).map((b,v)=>e.jsx("span",{style:{background:f?"var(--accent-light)":"var(--bg-tertiary)",color:f?"var(--accent-color)":"var(--text-secondary)",padding:"0.25rem 0.75rem",borderRadius:"16px",fontSize:"0.8rem",fontWeight:"500"},children:b.name},v)),t>3&&e.jsxs("span",{style:{background:f?"var(--accent-light)":"var(--bg-tertiary)",color:f?"var(--accent-color)":"var(--text-secondary)",padding:"0.25rem 0.75rem",borderRadius:"16px",fontSize:"0.8rem",fontWeight:"500"},children:["+",t-3," more"]})]})}),t>0?e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"var(--accent-color)",fontWeight:"600",fontSize:"0.9rem",paddingTop:"1rem",borderTop:"1px solid var(--border-color)"},children:[e.jsxs("span",{children:["Explore ",a.name]}),e.jsx(I,{size:16})]}):e.jsx("div",{style:{textAlign:"center",paddingTop:"1rem",borderTop:"1px solid var(--border-color)",color:"var(--text-muted)",fontSize:"0.9rem",fontWeight:"500"},children:"Coming Soon"})]},a.id)})})]})})}return m()};export{Te as default};
