import{j as e}from"./index-425a4db3.js";import{r as p}from"./vendor-8a332d8f.js";import"./router-2c18f3be.js";import"./ui-86c81d4e.js";class D{static async loadFont(s,c){if(this.loadedFonts.has(s))return Promise.resolve();if(this.loadingFonts.has(s))return this.loadingFonts.get(s);const l=this.loadFontInternal(s,c);this.loadingFonts.set(s,l);try{await l,this.loadedFonts.add(s)}catch(i){throw console.warn(`Failed to load font ${s}:`,i),i}finally{this.loadingFonts.delete(s)}}static async loadFontInternal(s,c){return new Promise((l,i)=>{this.loadFontViaCSS(s,c).then(()=>{setTimeout(()=>{this.verifyFontLoaded(s)?l():this.loadFontViaFontFace(s,c).then(l).catch(i)},200)}).catch(()=>{this.loadFontViaFontFace(s,c).then(l).catch(i)})})}static loadFontViaCSS(s,c){return new Promise((l,i)=>{if(document.querySelector(`link[href="${c}"]`)){l();return}const m=document.createElement("link");m.rel="stylesheet",m.href=c,m.crossOrigin="anonymous";const N=setTimeout(()=>{i(new Error(`Font loading timeout: ${s}`))},1e4);m.onload=()=>{clearTimeout(N),setTimeout(()=>l(),100)},m.onerror=()=>{clearTimeout(N),i(new Error(`Failed to load font CSS from ${c}`))},document.head.appendChild(m)})}static async loadFontViaFontFace(s,c){if(!window.FontFace)throw new Error("FontFace API not supported");try{const l=await this.extractFontFileUrl(c),i=new FontFace(s,`url(${l})`);await i.load(),document.fonts.add(i)}catch(l){throw new Error(`FontFace loading failed: ${l}`)}}static async extractFontFileUrl(s){if(s.includes("fonts.googleapis.com")){const i=(await(await fetch(s)).text()).match(/url\(([^)]+)\)/);if(i)return i[1].replace(/["']/g,"")}throw new Error("Could not extract font file URL")}static verifyFontLoaded(s){if(!document.fonts||!document.fonts.check)return!0;try{return document.fonts.check(`16px "${s}"`)}catch{return!0}}}D.loadedFonts=new Set;D.loadingFonts=new Map;D.fontTestStrings=new Map([["bengali","à¦†à¦®à¦¿ à¦à¦•à¦Ÿà¦¿ à¦¬à¦¾à¦•à§à¦¯"],["hindi","à¤®à¥ˆà¤‚ à¤à¤• à¤µà¤¾à¤•à¥à¤¯"],["tamil","à®¨à®¾à®©à¯ à®’à®°à¯ à®µà®¾à®•à¯à®•à®¿à®¯à®®à¯"],["arabic","Ø£Ù†Ø§ Ø¬Ù…Ù„Ø©"],["chinese","æˆ‘æ˜¯ä¸€ä¸ªå¥å­"],["japanese","ç§ã¯æ–‡ã§ã™"],["korean","ë‚˜ëŠ” ë¬¸ìž¥ì´ë‹¤"]]);class U{static async loadPaperTexture(s){if(!s)return Promise.resolve("");if(this.loadedTextures.has(s))return Promise.resolve(s);if(this.loadingTextures.has(s))return this.loadingTextures.get(s);const c=this.loadTextureInternal(s);this.loadingTextures.set(s,c);try{const l=await c;return this.loadedTextures.add(s),l}catch(l){throw console.warn("Failed to load paper texture:",l),l}finally{this.loadingTextures.delete(s)}}static async loadTextureInternal(s){return new Promise((c,l)=>{const i=new Image;i.crossOrigin="anonymous";const F=setTimeout(()=>{l(new Error("Paper texture loading timeout"))},8e3);i.onload=()=>{clearTimeout(F);try{const m=document.createElement("canvas"),N=m.getContext("2d");m.width=i.width,m.height=i.height,N==null||N.drawImage(i,0,0);const h=m.toDataURL("image/jpeg",.8);c(h)}catch{c(s)}},i.onerror=()=>{clearTimeout(F),l(new Error(`Failed to load paper texture from ${s}`))},i.src=s+(s.includes("?")?"&":"?")+"cache="+Date.now()})}static preloadTextures(s){const c=s.filter(l=>l).map(l=>this.loadPaperTexture(l).catch(()=>console.warn(`Preload failed for: ${l}`)));return Promise.all(c).then(()=>{})}static isTextureLoaded(s){return this.loadedTextures.has(s)}}U.loadedTextures=new Set;U.loadingTextures=new Map;const Oe=()=>{var re,ce,de,pe,fe,ge,me,he,ue,xe,we,ve,be,ye;const[g,s]=p.useState(""),[c,l]=p.useState("cursive"),[i,F]=p.useState("blue"),[m,N]=p.useState(24),[h,ke]=p.useState("english"),[K,V]=p.useState(!1),[L,Y]=p.useState(!1),[O,q]=p.useState(!1),[J,X]=p.useState(""),[x,Ce]=p.useState("plain"),[Z,_]=p.useState(!1),[Q,ee]=p.useState(""),[A,ae]=p.useState(!1),[b,Te]=p.useState("text-area"),[I,te]=p.useState(!1),[w,Pe]=p.useState("center"),[H,se]=p.useState(!1),Ue=p.useRef(null),P=[{value:"english",label:"English",flag:"ðŸ‡ºðŸ‡¸",font:"Dancing Script",fontUrl:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap"},{value:"spanish",label:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸",font:"Kalam",fontUrl:"https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap"},{value:"french",label:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·",font:"Caveat",fontUrl:"https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&display=swap"},{value:"german",label:"Deutsch",flag:"ðŸ‡©ðŸ‡ª",font:"Shadows Into Light",fontUrl:"https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap"},{value:"italian",label:"Italiano",flag:"ðŸ‡®ðŸ‡¹",font:"Amatic SC",fontUrl:"https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap"},{value:"portuguese",label:"PortuguÃªs",flag:"ðŸ‡µðŸ‡¹",font:"Patrick Hand",fontUrl:"https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap"},{value:"dutch",label:"Nederlands",flag:"ðŸ‡³ðŸ‡±",font:"Kalam",fontUrl:"https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap"},{value:"swedish",label:"Svenska",flag:"ðŸ‡¸ðŸ‡ª",font:"Dancing Script",fontUrl:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap"},{value:"norwegian",label:"Norsk",flag:"ðŸ‡³ðŸ‡´",font:"Patrick Hand",fontUrl:"https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap"},{value:"danish",label:"Dansk",flag:"ðŸ‡©ðŸ‡°",font:"Amatic SC",fontUrl:"https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap"},{value:"finnish",label:"Suomi",flag:"ðŸ‡«ðŸ‡®",font:"Shadows Into Light",fontUrl:"https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap"},{value:"polish",label:"Polski",flag:"ðŸ‡µðŸ‡±",font:"Caveat",fontUrl:"https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&display=swap"},{value:"czech",label:"ÄŒeÅ¡tina",flag:"ðŸ‡¨ðŸ‡¿",font:"Dancing Script",fontUrl:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap"},{value:"hungarian",label:"Magyar",flag:"ðŸ‡­ðŸ‡º",font:"Kalam",fontUrl:"https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap"},{value:"romanian",label:"RomÃ¢nÄƒ",flag:"ðŸ‡·ðŸ‡´",font:"Patrick Hand",fontUrl:"https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap"},{value:"greek",label:"Î•Î»Î»Î·Î½Î¹ÎºÎ¬",flag:"ðŸ‡¬ðŸ‡·",font:"Dancing Script",fontUrl:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap"},{value:"russian",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º",font:"Marck Script",fontUrl:"https://fonts.googleapis.com/css2?family=Marck+Script&display=swap"},{value:"ukrainian",label:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°",flag:"ðŸ‡ºðŸ‡¦",font:"Caveat",fontUrl:"https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&display=swap"},{value:"bulgarian",label:"Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸",flag:"ðŸ‡§ðŸ‡¬",font:"Caveat",fontUrl:"https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&display=swap"},{value:"serbian",label:"Ð¡Ñ€Ð¿ÑÐºÐ¸",flag:"ðŸ‡·ðŸ‡¸",font:"Kalam",fontUrl:"https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap"},{value:"croatian",label:"Hrvatski",flag:"ðŸ‡­ðŸ‡·",font:"Patrick Hand",fontUrl:"https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap"},{value:"chinese",label:"ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³",font:"Ma Shan Zheng",fontUrl:"https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap"},{value:"japanese",label:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ",font:"Klee One",fontUrl:"https://fonts.googleapis.com/css2?family=Klee+One:wght@400;600&display=swap"},{value:"korean",label:"í•œêµ­ì–´",flag:"ðŸ‡°ðŸ‡·",font:"Gaegu",fontUrl:"https://fonts.googleapis.com/css2?family=Gaegu:wght@300;400;700&display=swap"},{value:"thai",label:"à¹„à¸—à¸¢",flag:"ðŸ‡¹ðŸ‡­",font:"Sarabun",fontUrl:"https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap"},{value:"vietnamese",label:"Tiáº¿ng Viá»‡t",flag:"ðŸ‡»ðŸ‡³",font:"Dancing Script",fontUrl:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap"},{value:"indonesian",label:"Bahasa Indonesia",flag:"ðŸ‡®ðŸ‡©",font:"Kalam",fontUrl:"https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap"},{value:"malay",label:"Bahasa Melayu",flag:"ðŸ‡²ðŸ‡¾",font:"Patrick Hand",fontUrl:"https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap"},{value:"filipino",label:"Filipino",flag:"ðŸ‡µðŸ‡­",font:"Caveat",fontUrl:"https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&display=swap"},{value:"arabic",label:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¸ðŸ‡¦",font:"Amiri",fontUrl:"https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&display=swap"},{value:"persian",label:"ÙØ§Ø±Ø³ÛŒ",flag:"ðŸ‡®ðŸ‡·",font:"Vazirmatn",fontUrl:"https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100;200;300;400;500;600;700;800;900&display=swap"},{value:"hebrew",label:"×¢×‘×¨×™×ª",flag:"ðŸ‡®ðŸ‡±",font:"Alef",fontUrl:"https://fonts.googleapis.com/css2?family=Alef:wght@400;700&display=swap"},{value:"urdu",label:"Ø§Ø±Ø¯Ùˆ",flag:"ðŸ‡µðŸ‡°",font:"Noto Nastaliq Urdu",fontUrl:"https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400;500;600;700&display=swap"},{value:"turkish",label:"TÃ¼rkÃ§e",flag:"ðŸ‡¹ðŸ‡·",font:"Caveat",fontUrl:"https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&display=swap"},{value:"hindi",label:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",flag:"ðŸ‡®ðŸ‡³",font:"Kalam",fontUrl:"https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap"},{value:"bengali",label:"à¦¬à¦¾à¦‚à¦²à¦¾",flag:"ðŸ‡§ðŸ‡©",font:"Galada",fontUrl:"https://fonts.googleapis.com/css2?family=Galada&display=swap"},{value:"tamil",label:"à®¤à®®à®¿à®´à¯",flag:"ðŸ‡®ðŸ‡³",font:"Yatra One",fontUrl:"https://fonts.googleapis.com/css2?family=Yatra+One&display=swap"},{value:"telugu",label:"à°¤à±†à°²à±à°—à±",flag:"ðŸ‡®ðŸ‡³",font:"Gidugu",fontUrl:"https://fonts.googleapis.com/css2?family=Gidugu&display=swap"},{value:"gujarati",label:"àª—à«àªœàª°àª¾àª¤à«€",flag:"ðŸ‡®ðŸ‡³",font:"Modak",fontUrl:"https://fonts.googleapis.com/css2?family=Modak&display=swap"},{value:"punjabi",label:"à¨ªà©°à¨œà¨¾à¨¬à©€",flag:"ðŸ‡®ðŸ‡³",font:"Baloo Bhai",fontUrl:"https://fonts.googleapis.com/css2?family=Baloo+Bhai+2:wght@400;500;600;700;800&display=swap"},{value:"marathi",label:"à¤®à¤°à¤¾à¤ à¥€",flag:"ðŸ‡®ðŸ‡³",font:"Kalam",fontUrl:"https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap"},{value:"kannada",label:"à²•à²¨à³à²¨à²¡",flag:"ðŸ‡®ðŸ‡³",font:"Gurajada",fontUrl:"https://fonts.googleapis.com/css2?family=Gurajada&display=swap"},{value:"malayalam",label:"à´®à´²à´¯à´¾à´³à´‚",flag:"ðŸ‡®ðŸ‡³",font:"Meera Inimai",fontUrl:"https://fonts.googleapis.com/css2?family=Meera+Inimai&display=swap"},{value:"sinhala",label:"à·ƒà·’à¶‚à·„à¶½",flag:"ðŸ‡±ðŸ‡°",font:"Yaldevi",fontUrl:"https://fonts.googleapis.com/css2?family=Yaldevi:wght@200;300;400;500;600;700&display=swap"},{value:"nepali",label:"à¤¨à¥‡à¤ªà¤¾à¤²à¥€",flag:"ðŸ‡³ðŸ‡µ",font:"Kalam",fontUrl:"https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap"},{value:"amharic",label:"áŠ áˆ›áˆ­áŠ›",flag:"ðŸ‡ªðŸ‡¹",font:"Noto Sans Ethiopic",fontUrl:"https://fonts.googleapis.com/css2?family=Noto+Sans+Ethiopic:wght@100;200;300;400;500;600;700;800;900&display=swap"},{value:"swahili",label:"Kiswahili",flag:"ðŸ‡°ðŸ‡ª",font:"Dancing Script",fontUrl:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap"},{value:"afrikaans",label:"Afrikaans",flag:"ðŸ‡¿ðŸ‡¦",font:"Amatic SC",fontUrl:"https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap"},{value:"georgian",label:"áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜",flag:"ðŸ‡¬ðŸ‡ª",font:"Noto Sans Georgian",fontUrl:"https://fonts.googleapis.com/css2?family=Noto+Sans+Georgian:wght@100;200;300;400;500;600;700;800;900&display=swap"},{value:"armenian",label:"Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶",flag:"ðŸ‡¦ðŸ‡²",font:"Noto Sans Armenian",fontUrl:"https://fonts.googleapis.com/css2?family=Noto+Sans+Armenian:wght@100;200;300;400;500;600;700;800;900&display=swap"},{value:"brazilian",label:"PortuguÃªs (Brasil)",flag:"ðŸ‡§ðŸ‡·",font:"Dancing Script",fontUrl:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap"},{value:"mexican",label:"EspaÃ±ol (MÃ©xico)",flag:"ðŸ‡²ðŸ‡½",font:"Kalam",fontUrl:"https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap"}],y=[{id:"plain",name:"Plain White",preview:"ðŸ“„",description:"Clean white paper",textureUrl:"",background:"#ffffff"},{id:"lined",name:"Lined Paper",preview:"ðŸ“",description:"Classic ruled paper",textureUrl:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop&auto=format",background:"linear-gradient(to bottom, transparent 24px, #e5e7eb 25px, transparent 26px), #ffffff"},{id:"notebook",name:"Notebook Paper",preview:"ðŸ“”",description:"Three-hole punched paper",textureUrl:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=800&h=600&fit=crop&auto=format",background:"#fefefe"},{id:"vintage",name:"Vintage Parchment",preview:"ðŸ“œ",description:"Aged paper texture",textureUrl:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop&auto=format",background:"#f5f1e8"},{id:"kraft",name:"Kraft Paper",preview:"ðŸ“¦",description:"Brown craft paper",textureUrl:"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=800&h=600&fit=crop&auto=format",background:"#d4b896"},{id:"textured",name:"Textured White",preview:"ðŸ“‹",description:"Subtle paper texture",textureUrl:"https://images.unsplash.com/photo-1586281380349-632531db7ed4?w=800&h=600&fit=crop&auto=format",background:"#fafafa"},{id:"grid",name:"Grid Paper",preview:"â¬œ",description:"Graph paper pattern",textureUrl:"https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&h=600&fit=crop&auto=format",background:"repeating-linear-gradient(0deg, transparent, transparent 19px, #e5e7eb 20px), repeating-linear-gradient(90deg, transparent, transparent 19px, #e5e7eb 20px), #ffffff"},{id:"watercolor",name:"Watercolor Paper",preview:"ðŸŽ¨",description:"Artistic paper texture",textureUrl:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=600&fit=crop&auto=format",background:"#fcfcfc"},{id:"recycled",name:"Recycled Paper",preview:"â™»ï¸",description:"Eco-friendly paper",textureUrl:"https://images.unsplash.com/photo-1594736797933-d0f9dcaac9c4?w=800&h=600&fit=crop&auto=format",background:"#f8f6f0"},{id:"legal",name:"Legal Pad",preview:"ðŸ“‘",description:"Yellow legal paper",textureUrl:"https://images.unsplash.com/photo-1586953208448-b95a79798f07?w=800&h=600&fit=crop&auto=format",background:"#fff8dc"}],S=[{id:"text-area",name:"Text Area Only",icon:"ðŸ“",description:"Just the handwritten text",aspectRatio:"16:9",padding:24,showMargins:!1,showHoles:!1,showHeader:!1},{id:"full-page",name:"Full Page",icon:"ðŸ“„",description:"Complete A4 page layout",aspectRatio:"210:297",padding:80,showMargins:!0,showHoles:!1,showHeader:!1},{id:"notebook-page",name:"Notebook Page",icon:"ðŸ“”",description:"Spiral notebook with holes",aspectRatio:"8.5:11",padding:60,showMargins:!0,showHoles:!0,showHeader:!1},{id:"letter-paper",name:"Letter Paper",icon:"ðŸ“‘",description:"US Letter size format",aspectRatio:"8.5:11",padding:70,showMargins:!0,showHoles:!1,showHeader:!0},{id:"sticky-note",name:"Sticky Note",icon:"ðŸŸ¨",description:"Small square note format",aspectRatio:"1:1",padding:16,showMargins:!1,showHoles:!1,showHeader:!1},{id:"index-card",name:"Index Card",icon:"ðŸ—ƒï¸",description:"3x5 index card format",aspectRatio:"3:5",padding:20,showMargins:!1,showHoles:!1,showHeader:!1},{id:"wide-screen",name:"Wide Screen",icon:"ðŸ–¥ï¸",description:"Panoramic text display",aspectRatio:"21:9",padding:32,showMargins:!1,showHoles:!1,showHeader:!1},{id:"social-post",name:"Social Media",icon:"ðŸ“±",description:"Square format for social",aspectRatio:"1:1",padding:40,showMargins:!1,showHoles:!1,showHeader:!1}],k=[{id:"center",name:"Center",icon:"â¬›",description:"Text in the center",textAlign:"center",justifyContent:"center",alignItems:"center"},{id:"top-left",name:"Top Left",icon:"â—¤",description:"Text at top-left corner",textAlign:"left",justifyContent:"flex-start",alignItems:"flex-start"},{id:"top-center",name:"Top Center",icon:"â¬†ï¸",description:"Text at top center",textAlign:"center",justifyContent:"center",alignItems:"flex-start"},{id:"top-right",name:"Top Right",icon:"â—¥",description:"Text at top-right corner",textAlign:"right",justifyContent:"flex-end",alignItems:"flex-start"},{id:"middle-left",name:"Middle Left",icon:"â¬…ï¸",description:"Text at middle-left",textAlign:"left",justifyContent:"flex-start",alignItems:"center"},{id:"middle-right",name:"Middle Right",icon:"âž¡ï¸",description:"Text at middle-right",textAlign:"right",justifyContent:"flex-end",alignItems:"center"},{id:"bottom-left",name:"Bottom Left",icon:"â—£",description:"Text at bottom-left corner",textAlign:"left",justifyContent:"flex-start",alignItems:"flex-end"},{id:"bottom-center",name:"Bottom Center",icon:"â¬‡ï¸",description:"Text at bottom center",textAlign:"center",justifyContent:"center",alignItems:"flex-end"},{id:"bottom-right",name:"Bottom Right",icon:"â—¢",description:"Text at bottom-right corner",textAlign:"right",justifyContent:"flex-end",alignItems:"flex-end"},{id:"scattered",name:"Scattered",icon:"âœ¨",description:"Text randomly scattered",textAlign:"center",justifyContent:"center",alignItems:"center"}],Fe=[{value:"cursive",label:"âœï¸ Cursive",style:"cursive"},{value:"script",label:"ðŸ“ Script",style:'"Brush Script MT", cursive'},{value:"handwritten",label:"ðŸ–‹ï¸ Handwritten",style:'"Comic Sans MS", cursive'},{value:"elegant",label:"âœ¨ Elegant",style:'"Dancing Script", cursive'}],ne=[{value:"blue",label:"ðŸ”µ Blue",hex:"#1e40af"},{value:"black",label:"âš« Black",hex:"#1f2937"},{value:"red",label:"ðŸ”´ Red",hex:"#dc2626"},{value:"green",label:"ðŸŸ¢ Green",hex:"#16a34a"},{value:"purple",label:"ðŸŸ£ Purple",hex:"#9333ea"}];p.useEffect(()=>{(async()=>{const n=P.find(t=>t.value===h);if(n&&n.fontUrl){q(!0),X("");try{await D.loadFont(n.font,n.fontUrl),setTimeout(()=>{const d=new Map([["bengali","à¦†à¦®à¦¿ à¦à¦•à¦Ÿà¦¿ à¦¬à¦¾à¦•à§à¦¯"],["hindi","à¤®à¥ˆà¤‚ à¤à¤• à¤µà¤¾à¤•à¥à¤¯"],["tamil","à®¨à®¾à®©à¯ à®’à®°à¯ à®µà®¾à®•à¯à®•à®¿à®¯à®®à¯"],["arabic","Ø£Ù†Ø§ Ø¬Ù…Ù„Ø©"],["chinese","æˆ‘æ˜¯ä¸€ä¸ªå¥å­"],["japanese","ç§ã¯æ–‡ã§ã™"],["korean","ë‚˜ëŠ” ë¬¸ìž¥ì´ë‹¤"]]).get(h)||"Test";console.log(`Font ${n.font} loaded for ${h}. Test with: "${d}"`)},300)}catch(t){const d=`Font "${n.font}" may not display correctly. Using system fallback.`;X(d),console.warn("Font loading error:",t)}finally{q(!1)}}})()},[h]),p.useEffect(()=>{(async()=>{const n=y.find(t=>t.id===x);if(n&&n.textureUrl){_(!0),ee("");try{await U.loadPaperTexture(n.textureUrl),console.log(`Paper texture loaded: ${n.name}`)}catch(t){const d=`Failed to load "${n.name}" texture. Using fallback.`;ee(d),console.warn("Paper loading error:",t)}finally{_(!1)}}})()},[x]),p.useEffect(()=>{const a=y.filter(n=>["lined","notebook","vintage"].includes(n.id)).map(n=>n.textureUrl).filter(n=>n);U.preloadTextures(a)},[]);const le=()=>{const a=y.find(n=>n.id===x);return a?a.textureUrl&&U.isTextureLoaded(a.textureUrl)?{background:a.background,backgroundImage:`url(${a.textureUrl})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundBlendMode:"multiply"}:{background:a.background}:{background:"#ffffff"}},Me=()=>{const a=S.find(f=>f.id===b);if(!a)return{};const[n,t]=a.aspectRatio.split(":").map(Number),d=400,z=d*t/n;let C={};return a.showMargins&&(C={...C,borderLeft:"2px solid #e5e7eb",marginLeft:"40px",position:"relative"}),a.showHoles&&(C={...C,position:"relative"}),{width:`${d}px`,height:`${Math.min(z,500)}px`,padding:`${a.padding}px`,aspectRatio:a.aspectRatio.replace(":","/"),...C}},$e=()=>{const a=k.find(n=>n.id===w);return a?w==="scattered"?{position:"relative",overflow:"hidden",display:"block"}:{textAlign:a.textAlign,justifyContent:a.justifyContent,alignItems:a.alignItems,display:"flex",flexDirection:"column",height:"100%",width:"100%"}:{}},Le=()=>{if(w!=="scattered"||!g)return null;const a=g.split(`
`);return e.jsx(e.Fragment,{children:a.map((n,t)=>e.jsx("span",{style:{position:"absolute",left:`${10+Math.random()*70}%`,top:`${10+Math.random()*70}%`,transform:`rotate(${(Math.random()-.5)*20}deg)`,whiteSpace:"nowrap",fontSize:"inherit",fontFamily:"inherit",color:"inherit"},children:n},t))})},Ae=()=>{const a=S.find(n=>n.id===b);return a?e.jsxs(e.Fragment,{children:[a.showHoles&&e.jsx("div",{className:"notebook-holes",children:[...Array(8)].map((n,t)=>e.jsx("div",{className:"hole",style:{position:"absolute",left:"-15px",top:`${40+t*40}px`,width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"white",border:"1px solid #d1d5db",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.2)"}},t))}),a.showHeader&&a.id==="letter-paper"&&e.jsx("div",{className:"page-header",style:{position:"absolute",top:"20px",right:"20px",fontSize:"12px",color:"#6b7280",fontFamily:"Arial, sans-serif"},children:new Date().toLocaleDateString()}),a.showMargins&&e.jsx("div",{className:"margin-line",style:{position:"absolute",left:"40px",top:"0",bottom:"0",width:"1px",backgroundColor:"#ef4444",opacity:.6}})]}):null},ie=()=>{var n;const a=P.find(t=>t.value===h);if(a){const t=a.font;let d="cursive";return["bengali","hindi","marathi","nepali"].includes(h)?d='Kalam, "Noto Sans Devanagari", "Noto Sans Bengali", sans-serif':["tamil","telugu","kannada","malayalam"].includes(h)?d='"Noto Sans Tamil", "Noto Sans Telugu", "Noto Sans Kannada", "Noto Sans Malayalam", sans-serif':["arabic","persian","urdu"].includes(h)?d='Amiri, "Noto Sans Arabic", "Times New Roman", serif':["chinese","japanese","korean"].includes(h)?d='"Noto Sans CJK", "PingFang SC", "Hiragino Sans", sans-serif':["thai","vietnamese"].includes(h)?d='"Noto Sans Thai", "Noto Sans", sans-serif':d='cursive, "Comic Sans MS", fantasy',`"${t}", ${d}`}return((n=Fe.find(t=>t.value===c))==null?void 0:n.style)||"cursive"},oe=()=>{var a;return((a=ne.find(n=>n.value===i))==null?void 0:a.hex)||"#1e40af"},Ie=async()=>{try{await navigator.clipboard.writeText(g),V(!0),setTimeout(()=>V(!1),2e3)}catch(a){console.error("Failed to copy text: ",a)}},He=async()=>{if(!g.trim())return;const a=S.find(o=>o.id===b);if(!a)return;const n=document.createElement("canvas"),t=n.getContext("2d"),d=3,[z,C]=a.aspectRatio.split(":").map(Number);let f=1200,u=f*C/z;a.id==="sticky-note"||a.id==="social-post"?(f=800,u=800):a.id==="index-card"?(f=600,u=1e3):a.id==="wide-screen"&&(f=1600,u=686),n.width=f*d,n.height=u*d,t.scale(d,d),le();const v=y.find(o=>o.id===x);if(v!=null&&v.textureUrl&&U.isTextureLoaded(v.textureUrl))try{const o=new Image;o.crossOrigin="anonymous",await new Promise((r,T)=>{o.onload=r,o.onerror=T,o.src=v.textureUrl}),t.drawImage(o,0,0,f,u),v.background!=="#ffffff"&&(t.globalCompositeOperation="multiply",t.fillStyle=v.background,t.fillRect(0,0,f,u),t.globalCompositeOperation="source-over")}catch{console.warn("Failed to load paper texture for download, using solid color"),t.fillStyle=v.background||"#ffffff",t.fillRect(0,0,f,u)}else t.fillStyle=(v==null?void 0:v.background)||"#ffffff",t.fillRect(0,0,f,u);if(a.showMargins&&(t.strokeStyle="#ef4444",t.lineWidth=2,t.beginPath(),t.moveTo(a.padding+40,0),t.lineTo(a.padding+40,u),t.stroke()),a.showHoles){t.fillStyle="#ffffff",t.strokeStyle="#d1d5db",t.lineWidth=1;const o=Math.floor(u/80);for(let r=0;r<o;r++){const T=60+r*80;t.beginPath(),t.arc(20,T,8,0,2*Math.PI),t.fill(),t.stroke()}}if(a.showHeader&&a.id==="letter-paper"&&(t.fillStyle="#6b7280",t.font="12px Arial, sans-serif",t.textAlign="right",t.fillText(new Date().toLocaleDateString(),f-20,30)),x==="lined"){t.strokeStyle="#e5e7eb",t.lineWidth=1;const o=30;for(let r=a.padding;r<u-a.padding;r+=o)t.beginPath(),t.moveTo(a.padding,r),t.lineTo(f-a.padding,r),t.stroke()}else if(x==="grid"){t.strokeStyle="#e5e7eb",t.lineWidth=.5;const o=25;for(let r=a.padding;r<f-a.padding;r+=o)t.beginPath(),t.moveTo(r,a.padding),t.lineTo(r,u-a.padding),t.stroke();for(let r=a.padding;r<u-a.padding;r+=o)t.beginPath(),t.moveTo(a.padding,r),t.lineTo(f-a.padding,r),t.stroke()}t.fillStyle=oe();const je=Math.max(16,m*(f/600));t.font=`${je}px ${ie()}`;const B=g.split(`
`),M=je*1.6,Ne=B.length*M,j=k.find(o=>o.id===w);j!=null&&j.textAlign;const R=(j==null?void 0:j.justifyContent)||"center",Se=(j==null?void 0:j.alignItems)||"center";let $=a.padding,E=a.padding;R==="center"?($=f/2,t.textAlign="center"):R==="flex-end"?($=f-a.padding,t.textAlign="right"):($=a.padding,t.textAlign="left"),Se==="center"?E=(u-Ne)/2+M/2:Se==="flex-end"?E=u-a.padding-Ne+M/2:E=a.padding+M,a.showMargins&&(R==="flex-start"||R==="center")&&($+=40),t.textBaseline="middle",w==="scattered"?B.forEach((o,r)=>{const T=a.padding+Math.random()*(f-2*a.padding),W=a.padding+Math.random()*(u-2*a.padding);t.save(),t.translate(T,W),t.rotate((Math.random()-.5)*.3),t.textAlign="center",t.fillText(o,0,0),t.restore()}):B.forEach((o,r)=>{const T=$,W=E+r*M;t.fillText(o,T,W)});const G=document.createElement("a");G.download=`handwriting-${h}-${x}-${b}-${w}-${Date.now()}.png`,G.href=n.toDataURL("image/png"),G.click()};return e.jsxs("div",{className:"tool-container",children:[e.jsx("div",{className:"tool-header",children:e.jsx("h1",{className:"tool-title",children:"âœï¸ Text to Handwriting Converter"})}),e.jsxs("div",{className:"desktop-layout",children:[e.jsxs("div",{className:"input-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"ðŸ“ Input & Preview"}),e.jsx("p",{className:"section-subtitle",children:"Enter your text and see the magic happen"})]}),e.jsxs("div",{className:"input-group",children:[e.jsxs("label",{className:"input-label",children:[e.jsx("span",{className:"label-icon",children:"âœï¸"}),e.jsx("span",{className:"label-text",children:"Your Text"})]}),e.jsx("textarea",{value:g,onChange:a=>s(a.target.value),placeholder:"Type your text here to see it transform into beautiful handwriting...\\n\\nTry multiple lines!\\nExperiment with different languages and styles.",className:"enhanced-textarea",rows:6}),e.jsxs("div",{className:"text-counter",children:[g.length," characters"]})]}),e.jsxs("div",{className:"preview-section",children:[e.jsxs("label",{className:"preview-label",children:[e.jsx("span",{className:"label-icon",children:"ðŸŽ¨"}),e.jsx("span",{className:"label-text",children:"Live Preview"}),e.jsxs("div",{className:"preview-tags",children:[e.jsxs("span",{className:"preview-tag",children:[(re=S.find(a=>a.id===b))==null?void 0:re.icon,(ce=S.find(a=>a.id===b))==null?void 0:ce.name]}),e.jsxs("span",{className:"preview-tag",children:[(de=k.find(a=>a.id===w))==null?void 0:de.icon,(pe=k.find(a=>a.id===w))==null?void 0:pe.name]}),e.jsxs("span",{className:"preview-tag",children:[(fe=y.find(a=>a.id===x))==null?void 0:fe.preview,(ge=y.find(a=>a.id===x))==null?void 0:ge.name]})]})]}),e.jsxs("div",{className:"preview-container",children:[e.jsxs("div",{ref:Ue,className:"handwriting-preview-enhanced",style:{fontFamily:ie(),color:oe(),fontSize:`${m}px`,...le(),...Me()},children:[Ae(),e.jsx("div",{className:"handwriting-text-content",style:$e(),children:w==="scattered"?Le():g||e.jsxs("div",{className:"placeholder-text",children:[e.jsx("span",{className:"placeholder-line",children:"Your handwritten text will appear here..."}),e.jsx("span",{className:"placeholder-hint",children:"Try typing something beautiful! âœ¨"})]})})]}),(O||Z)&&e.jsxs("div",{className:"loading-overlay",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("span",{className:"loading-text",children:O?"Loading font...":"Loading paper texture..."})]})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsxs("button",{className:`action-btn primary ${K?"success":""} ${g.trim()?"":"disabled"}`,onClick:Ie,disabled:!g.trim(),children:[e.jsx("span",{className:"btn-icon",children:K?"âœ…":"ðŸ“‹"}),e.jsx("span",{className:"btn-text",children:K?"Copied!":"Copy Text"})]}),e.jsxs("button",{className:`action-btn secondary ${g.trim()?"":"disabled"}`,onClick:He,disabled:!g.trim(),children:[e.jsx("span",{className:"btn-icon",children:"ðŸ’¾"}),e.jsx("span",{className:"btn-text",children:"Download Image"})]})]})]})]}),e.jsxs("div",{className:"output-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"âš™ï¸ Customization"}),e.jsx("p",{className:"section-subtitle",children:"Personalize your handwriting style"})]}),e.jsxs("div",{className:"controls-wrapper",children:[e.jsxs("div",{className:`control-group enhanced ${L?"dropdown-open":""}`,children:[e.jsxs("label",{className:"control-label",children:[e.jsx("span",{className:"control-icon",children:"ðŸŒ"}),e.jsx("span",{className:"control-title",children:"Language & Font"}),O&&e.jsx("div",{className:"mini-loader"})]}),J&&e.jsxs("div",{className:"error-message",children:["âš ï¸ ",J]}),e.jsxs("div",{className:"language-selector",children:[e.jsxs("div",{className:"selected-language",onClick:()=>Y(!L),children:[e.jsx("span",{className:"flag",children:(me=P.find(a=>a.value===h))==null?void 0:me.flag}),e.jsx("span",{className:"name",children:(he=P.find(a=>a.value===h))==null?void 0:he.label}),e.jsx("span",{className:"arrow",children:L?"â–²":"â–¼"})]}),L&&e.jsxs("div",{className:"language-dropdown",children:[e.jsx("div",{className:"language-search",children:e.jsx("input",{type:"text",placeholder:"Search languages...",onChange:a=>{const n=a.target.value.toLowerCase();P.filter(t=>t.label.toLowerCase().includes(n)||t.value.toLowerCase().includes(n))},className:"language-search-input"})}),e.jsx("div",{className:"language-options-container",children:P.map(a=>e.jsxs("div",{className:`language-option ${h===a.value?"active":""}`,onClick:()=>{ke(a.value),Y(!1)},children:[e.jsx("span",{className:"flag",children:a.flag}),e.jsx("span",{className:"name",children:a.label}),e.jsx("span",{className:"font-name",children:a.font})]},a.value))})]})]})]}),e.jsxs("div",{className:`control-group enhanced ${A?"dropdown-open":""}`,children:[e.jsxs("label",{className:"control-label",children:[e.jsx("span",{className:"control-icon",children:"ðŸ“„"}),e.jsx("span",{className:"control-title",children:"Paper Type"}),Z&&e.jsx("div",{className:"mini-loader"})]}),Q&&e.jsxs("div",{className:"error-message",children:["âš ï¸ ",Q]}),e.jsxs("div",{className:"paper-selector",children:[e.jsxs("div",{className:"selected-paper",onClick:()=>ae(!A),children:[e.jsx("span",{className:"paper-preview",children:(ue=y.find(a=>a.id===x))==null?void 0:ue.preview}),e.jsx("span",{className:"paper-name",children:(xe=y.find(a=>a.id===x))==null?void 0:xe.name}),e.jsx("span",{className:"arrow",children:A?"â–²":"â–¼"})]}),A&&e.jsx("div",{className:"paper-dropdown",children:e.jsx("div",{className:"paper-options-grid",children:y.map(a=>e.jsxs("div",{className:`paper-option ${x===a.id?"active":""}`,onClick:()=>{Ce(a.id),ae(!1)},children:[e.jsx("div",{className:"paper-sample",style:{background:a.background,backgroundImage:a.textureUrl?`url(${a.textureUrl})`:"none",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:e.jsx("span",{className:"paper-preview-large",children:a.preview})}),e.jsxs("div",{className:"paper-info",children:[e.jsx("span",{className:"paper-name",children:a.name}),e.jsx("span",{className:"paper-description",children:a.description})]})]},a.id))})})]})]}),e.jsxs("div",{className:`control-group enhanced ${I?"dropdown-open":""}`,children:[e.jsxs("label",{className:"control-label",children:[e.jsx("span",{className:"control-icon",children:"ðŸ“"}),e.jsx("span",{className:"control-title",children:"Output Format"})]}),e.jsxs("div",{className:"format-selector",children:[e.jsxs("div",{className:"selected-format",onClick:()=>te(!I),children:[e.jsx("span",{className:"format-icon",children:(we=S.find(a=>a.id===b))==null?void 0:we.icon}),e.jsx("span",{className:"format-name",children:(ve=S.find(a=>a.id===b))==null?void 0:ve.name}),e.jsx("span",{className:"arrow",children:I?"â–²":"â–¼"})]}),I&&e.jsx("div",{className:"format-dropdown",children:e.jsx("div",{className:"format-options-grid",children:S.map(a=>e.jsxs("div",{className:`format-option ${b===a.id?"active":""}`,onClick:()=>{Te(a.id),te(!1)},children:[e.jsx("div",{className:"format-preview",children:e.jsxs("div",{className:"format-sample",style:{aspectRatio:a.aspectRatio.replace(":","/"),background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",border:"1px solid #cbd5e1",borderRadius:"4px",position:"relative",overflow:"hidden"},children:[e.jsx("span",{className:"format-icon-large",children:a.icon}),a.showMargins&&e.jsx("div",{style:{position:"absolute",left:"15%",top:"0",bottom:"0",width:"1px",backgroundColor:"#ef4444",opacity:.5}}),a.showHoles&&e.jsx("div",{style:{position:"absolute",left:"5%",top:"20%",width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"white",border:"0.5px solid #d1d5db"}})]})}),e.jsxs("div",{className:"format-info",children:[e.jsx("span",{className:"format-name",children:a.name}),e.jsx("span",{className:"format-description",children:a.description}),e.jsx("span",{className:"format-ratio",children:a.aspectRatio})]})]},a.id))})})]})]}),e.jsxs("div",{className:`control-group enhanced ${H?"dropdown-open":""}`,children:[e.jsxs("label",{className:"control-label",children:[e.jsx("span",{className:"control-icon",children:"ðŸ“"}),e.jsx("span",{className:"control-title",children:"Text Position"})]}),e.jsxs("div",{className:"position-selector",children:[e.jsxs("div",{className:"selected-position",onClick:()=>se(!H),children:[e.jsx("span",{className:"position-icon",children:(be=k.find(a=>a.id===w))==null?void 0:be.icon}),e.jsx("span",{className:"position-name",children:(ye=k.find(a=>a.id===w))==null?void 0:ye.name}),e.jsx("span",{className:"arrow",children:H?"â–²":"â–¼"})]}),H&&e.jsx("div",{className:"position-dropdown",children:e.jsx("div",{className:"position-grid",children:k.map(a=>e.jsxs("div",{className:`position-option ${w===a.id?"active":""}`,onClick:()=>{Pe(a.id),se(!1)},children:[e.jsx("div",{className:"position-preview",children:e.jsx("div",{className:"position-sample",style:{display:"flex",justifyContent:a.justifyContent,alignItems:a.alignItems,border:"1px solid #cbd5e1",borderRadius:"4px",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",position:"relative"},children:e.jsx("span",{className:"position-dot",children:a.icon})})}),e.jsxs("div",{className:"position-info",children:[e.jsx("span",{className:"position-name",children:a.name}),e.jsx("span",{className:"position-description",children:a.description})]})]},a.id))})})]})]}),e.jsxs("div",{className:"control-group enhanced",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("span",{className:"control-icon",children:"ðŸŽ¨"}),e.jsx("span",{className:"control-title",children:"Style Settings"})]}),e.jsxs("div",{className:"style-controls",children:[e.jsxs("div",{className:"control-item",children:[e.jsx("label",{className:"control-item-label",children:"Ink Color:"}),e.jsx("select",{value:i,onChange:a=>F(a.target.value),className:"styled-select",children:ne.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{className:"control-item",children:[e.jsxs("label",{className:"control-item-label",children:["Text Size: ",m,"px"]}),e.jsxs("div",{className:"slider-container",children:[e.jsx("input",{type:"range",value:m,onChange:a=>N(parseInt(a.target.value)),min:"16",max:"48",className:"styled-slider"}),e.jsxs("div",{className:"slider-labels",children:[e.jsx("span",{children:"16px"}),e.jsx("span",{children:"48px"})]})]})]})]})]}),g&&e.jsxs("div",{className:"control-group enhanced",style:{gridColumn:"1 / -1"},children:[e.jsxs("label",{className:"control-label",children:[e.jsx("span",{className:"control-icon",children:"ðŸ“Š"}),e.jsx("span",{className:"control-title",children:"Text Statistics"})]}),e.jsxs("div",{className:"text-stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:g.length}),e.jsx("span",{className:"stat-label",children:"Characters"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:g.split(/\s+/).filter(a=>a.length>0).length}),e.jsx("span",{className:"stat-label",children:"Words"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:g.split(`
`).length}),e.jsx("span",{className:"stat-label",children:"Lines"})]})]})]})]})]})]})]})};export{Oe as default};
