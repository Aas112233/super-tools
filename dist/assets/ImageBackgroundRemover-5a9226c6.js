import{_ as F}from"./router-2c18f3be.js";import{j as e}from"./index-425a4db3.js";import{r as c}from"./vendor-8a332d8f.js";import{ay as x,aa as U,L as z,a1 as A,a9 as C,I as v,av as E,aw as L,az as _}from"./ui-86c81d4e.js";const S=()=>{const[n,p]=c.useState(null),[o,h]=c.useState(null),[b,j]=c.useState(!1),[l,m]=c.useState(1),g=c.useRef(null),w=a=>{var i;const r=(i=a.target.files)==null?void 0:i[0];if(r){const s=new FileReader;s.onload=d=>{var t;p((t=d.target)==null?void 0:t.result),h(null),m(1)},s.readAsDataURL(r)}},N=async a=>{try{const{Client:r}=await F(()=>import("./browser-cab64245.js"),["assets/browser-cab64245.js","assets/router-2c18f3be.js","assets/vendor-8a332d8f.js"]),s=await(await r.connect("not-lain/background-removal")).predict("/png",{f:a});if(console.log("API Response:",s),s&&s.data){const d=s.data;if(Array.isArray(d)&&d.length>0){const t=d[0];if(t&&(t.url||t.path)){const u=t.url||t.path,P=u.startsWith("/")?`https://not-lain-background-removal.hf.space${u}`:u,f=await fetch(P);if(!f.ok)throw new Error(`Failed to fetch processed image: ${f.statusText}`);const R=await f.blob();return URL.createObjectURL(R)}}}throw new Error("Invalid response format from Hugging Face model")}catch(r){throw console.error("Hugging Face API Error:",r),new Error(`Failed to process image: ${r instanceof Error?r.message:"Unknown error"}`)}},y=async()=>{if(n){j(!0);try{const a=await fetch(n).then(s=>s.blob()),r=new File([a],"image.jpg",{type:"image/jpeg"}),i=await N(r);h(i)}catch(a){console.error("Processing failed:",a),alert("Processing failed. Please try again.")}finally{j(!1)}}},k=()=>{if(!o)return;const a=document.createElement("a");a.download="background-removed.png",a.href=o,a.click()},I=()=>{p(null),h(null),m(1),g.current&&(g.current.value="")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 p-4",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl shadow-lg",children:e.jsx(x,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"AI Background Remover"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Remove backgrounds from images instantly using Hugging Face AI model. Free, fast, and powered by advanced machine learning."})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"file",ref:g,onChange:w,accept:"image/*",className:"hidden"}),e.jsxs("button",{onClick:()=>{var a;return(a=g.current)==null?void 0:a.click()},className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(U,{size:20}),"Upload Image"]})]}),e.jsxs("div",{className:"flex gap-3",children:[n&&e.jsx("button",{onClick:y,disabled:b,className:"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none",children:b?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"animate-spin",size:20}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"w-4 h-4"}),"Remove Background"]})}),o&&e.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(A,{size:20}),"Download"]}),(n||o)&&e.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(C,{size:20}),"Clear"]})]})]})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2 text-gray-800",children:[e.jsx(v,{className:"w-5 h-5"}),"Original Image"]}),n&&e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>m(Math.max(.1,l-.1)),className:"p-2 hover:bg-gray-200 rounded-md transition-colors",children:e.jsx(E,{size:16})}),e.jsxs("span",{className:"px-3 py-1 text-sm font-medium min-w-[60px] text-center",children:[Math.round(l*100),"%"]}),e.jsx("button",{onClick:()=>m(Math.min(3,l+.1)),className:"p-2 hover:bg-gray-200 rounded-md transition-colors",children:e.jsx(L,{size:16})})]})]}),e.jsx("div",{className:"relative bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl border-2 border-dashed border-gray-300 min-h-[400px] flex items-center justify-center overflow-hidden",children:n?e.jsx("img",{src:n,alt:"Original",className:"max-w-full max-h-full object-contain transition-transform duration-200",style:{transform:`scale(${l})`}}):e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center",children:e.jsx(v,{size:32,className:"text-blue-500"})}),e.jsx("h4",{className:"text-lg font-medium text-gray-700 mb-2",children:"Upload an image to get started"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Supports JPG, PNG, WebP formats"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2 text-gray-800",children:[e.jsx(_,{className:"w-5 h-5"}),"Processed Image"]}),o&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 bg-green-50 px-3 py-1 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Background Removed"]})]}),e.jsx("div",{className:"relative bg-checkerboard rounded-2xl border-2 border-dashed border-gray-300 min-h-[400px] flex items-center justify-center overflow-hidden",children:o?e.jsx("img",{src:o,alt:"Processed",className:"max-w-full max-h-full object-contain transition-transform duration-200",style:{transform:`scale(${l})`}}):e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center",children:e.jsx(x,{size:32,className:"text-green-500"})}),e.jsx("h4",{className:"text-lg font-medium text-gray-700 mb-2",children:"AI processed image will appear here"}),e.jsx("p",{className:"text-gray-500 text-sm",children:'Upload an image and click "Remove Background"'})]})})]})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg",children:[e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Powered by Hugging Face AI â€¢ Free & Fast"})]})})]}),e.jsx("style",{children:`
        .bg-checkerboard {
          background-image: 
            linear-gradient(45deg, #f8f9fa 25%, transparent 25%), 
            linear-gradient(-45deg, #f8f9fa 25%, transparent 25%), 
            linear-gradient(45deg, transparent 75%, #f8f9fa 75%), 
            linear-gradient(-45deg, transparent 75%, #f8f9fa 75%);
          background-size: 20px 20px;
          background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
      `})]})};export{S as default};
